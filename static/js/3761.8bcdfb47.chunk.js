"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[3761],{2515:(e,t,i)=>{i.d(t,{r:()=>s});var r=i(19898);class n extends r.R{constructor(e,t){super(e,t,"webmap")}}function s(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}new n(2,35)},3761:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var r=i(6326),n=i(54901),s=(i(76460),i(81806),i(47249),i(50076),i(87990)),o=i(98774),l=i(3904),a=i(46053),u=i(1420),p=i(31516);const d=e=>{const t=e;let i=class extends t{initialize(){this.exportImageParameters=new u.g({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get floors(){var e,t;return null!==(e=null===(t=this.view)||void 0===t?void 0:t.floors)&&void 0!==e?e:null}get exportImageVersion(){var e;return null!==(e=this.exportImageParameters)&&void 0!==e&&e.commitProperty("version"),this.commitProperty("timeExtent"),this.commitProperty("floors"),(this._get("exportImageVersion")||0)+1}get timeExtent(){var e;return(0,p.F)(this.layer,null===(e=this.view)||void 0===e?void 0:e.timeExtent,this._get("timeExtent"))}canResume(){var e;return!!super.canResume()&&!(null!==(e=this.timeExtent)&&void 0!==e&&e.isEmpty)}};return(0,r.Cg)([(0,a.MZ)()],i.prototype,"exportImageParameters",void 0),(0,r.Cg)([(0,a.MZ)({readOnly:!0})],i.prototype,"floors",null),(0,r.Cg)([(0,a.MZ)({readOnly:!0})],i.prototype,"exportImageVersion",null),(0,r.Cg)([(0,a.MZ)()],i.prototype,"layer",void 0),(0,r.Cg)([(0,a.MZ)()],i.prototype,"suspended",void 0),(0,r.Cg)([(0,a.MZ)({readOnly:!0})],i.prototype,"timeExtent",null),i=(0,r.Cg)([(0,s.$)("esri.views.layers.MapImageLayerView")],i),i};let m=class extends(d(o.A)){constructor(){super(...arguments),this.type="map-image-3d"}initialize(){this._updatingHandles.add(()=>this.exportImageVersion,()=>this._updatingHandles.addPromise(this.refreshDebounced())),this._popupHighlightHelper=new l.V({view:this.view,layerView:this,updatingHandles:this._updatingHandles}),this.addHandles((0,n.DQ)(this._popupHighlightHelper))}fetchPopupFeaturesAtLocation(e,t){return this._popupHighlightHelper.fetchPopupFeaturesAtLocation(e,t)}highlight(e,t){return this._popupHighlightHelper.highlight(e,t)}getFetchOptions(){return{timeExtent:this.timeExtent,scale:this.view.scale}}};m=(0,r.Cg)([(0,s.$)("esri.views.3d.layers.MapImageLayerView3D")],m);const h=m},31516:(e,t,i)=>{i.d(t,{F:()=>s});i(18690),i(53084);var r=i(18288),n=i(59187);i(2515),i(72027);function s(e,t,i){if(null==(null===e||void 0===e?void 0:e.timeInfo))return null;const{datesInUnknownTimezone:s=!1,timeOffset:o,useViewTime:l}=e;let a=e.timeExtent;s&&(a=function(e){if(!e)return e;const{start:t,end:i}=e;return new n.A({start:null!=t?(0,r.S1)(t,t.getTimezoneOffset(),"minutes"):t,end:null!=i?(0,r.S1)(i,i.getTimezoneOffset(),"minutes"):i})}(a));let u=l?t&&a?t.intersection(a):t||a:a;return!u||u.isEmpty||u.isAllTime?u:(o&&(u=u.offset(-o.value,o.unit)),s&&(u=function(e){if(!e)return e;const{start:t,end:i}=e;return new n.A({start:null!=t?(0,r.S1)(t,-t.getTimezoneOffset(),"minutes"):t,end:null!=i?(0,r.S1)(i,-i.getTimezoneOffset(),"minutes"):i})}(u)),u.equals(i)?i:u)}}}]);
//# sourceMappingURL=3761.8bcdfb47.chunk.js.map