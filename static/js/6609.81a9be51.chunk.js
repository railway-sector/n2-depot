"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[6609],{5109:(e,t,i)=>{i.d(t,{k:()=>r});var n=i(6326),a=i(68134),s=(i(76460),i(81806),i(47249),i(50076),i(87990)),o=i(56829);let r=class extends o.g{constructor(e){super(e)}initialize(){this.addHandles((0,a.wB)(()=>this.analysisViewData.visible,e=>this.visible=e,a.pc))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};r=(0,n.Cg)([(0,s.$)("esri.views.interactive.AnalysisToolBase")],r)},10260:(e,t,i)=>{i.d(t,{Hd:()=>l,ZX:()=>d,aS:()=>c,qW:()=>u});var n=i(98773),a=i(54901),s=i(30726),o=i(50346),r=i(68134);function l(e,t){return(0,r.wB)(()=>e.interactive,()=>function(e,t){e.interactive?function(e,t){c(e);const{view:i,analysis:n}=e,a=new t({view:i,analysis:n,analysisViewData:e});e.tool=a,i.tools.add(a)}(e,t):c(e)}(e,t),r.pc)}function c(e){const{view:t,tool:i}=e;null!=i&&(t.tools.remove(i),e.tool=null)}function u(e,t){var i;const l=e.userOperation,c=(0,n.UT)(async i=>{var c;if(l){const e=l.promise.catch(()=>{});null!==l&&void 0!==l&&l.abort(),await e,(0,o.Te)(i)}const u=function(e,t){e.interactive=!0;const{tool:i,view:a}=e;a.activeTool=i;let l=(0,o.u7)(t,()=>{a.activeTool===i&&(a.activeTool=null)});return(0,n.UT)(async t=>{await(0,r.C_)(()=>{var t;return!(null!==(t=e.tool)&&void 0!==t&&t.active)},t),l=(0,s.xt)(l)},t)}(e,{signal:i}),d=null!==(c=null===t||void 0===t?void 0:t.shouldRejectOnCancel)&&void 0!==c?c:()=>!0,p=(0,a.vE)([(0,r.on)(()=>e.tool,"cancel",()=>{d()&&u.abort()})]),{tool:h}=e;try{var m;h&&(h.resetCreated(),null!==t&&void 0!==t&&null!==(m=t.onToolActivated)&&void 0!==m&&m.call(t,h)),await u.promise,(0,o.Te)(i)}catch(g){if(i.aborted||!(0,o.zf)(g)||d())throw g}finally{null===p||void 0===p||p.remove()}},{signal:null===t||void 0===t||null===(i=t.abortOptions)||void 0===i?void 0:i.signal});return e.userOperation=c,c.promise.finally(()=>{e.userOperation===c&&(e.userOperation=null)})}async function d(e,t){const i=e.analysis.clone();return await u(e,{abortOptions:null===t||void 0===t?void 0:t.placementOptions,onToolActivated:null===t||void 0===t?void 0:t.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=e;return!t.valid||t.equals(i)}}),{}}},11113:(e,t,i)=>{i.d(t,{Ee:()=>l,Jd:()=>f,Nk:()=>p,OM:()=>v,Oo:()=>g,W4:()=>c,ix:()=>h,t_:()=>d,tr:()=>u,yh:()=>m,zJ:()=>o});var n=i(73582),a=i(24648),s=i(96820);function o(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return(0,s.zJ)(e,(0,a.kM)(t,i).value,i,n,o)}function r(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";return(0,s.nD)(e,(0,a.kM)(t,i).value,i,n,o)}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.Ee)(e,t.value,t.unit,i,n)}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.W4)(e,t.value,t.unit,i,n)}function u(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.tr)(e,t.value,t.unit,i,n)}function d(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.t_)(e,t.value,t.unit,i,n)}function p(e,t,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.ie,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,s.Me)(e.value,e.unit,e.rotationType,t,i,a,o)}function h(e,t,i,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(n=null!==n&&void 0!==n?n:2,i){case"imperial":return u(e,t,n,a);case"metric":return l(e,t,n,a);default:return o(e,t,i,n,a)}}function m(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.J1)(e,t.value,t.unit,i,n)}(e,t,n,a);case"metric":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.Mm)(e,t.value,t.unit,i,n)}(e,t,n,a);default:return r(e,t,i,n,a)}}function g(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return d(e,t,n,a);case"metric":return c(e,t,n,a);default:return o(e,t,i,n,a)}}function v(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.LF)(e,t.value,t.unit,i,n)}(e,t,n,a);case"metric":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.e_)(e,t.value,t.unit,i,n)}(e,t,n,a);default:return r(e,t,i,n,a)}}function f(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"abbr";switch(i){case"imperial":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.Sz)(e,t.value,t.unit,i,n)}(e,t,n,a);case"metric":return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"abbr";return(0,s.zq)(e,t.value,t.unit,i,n)}(e,t,n,a);default:return o(e,t,i,n,a)}}},14318:(e,t,i)=>{i.d(t,{O:()=>d});var n=i(89379),a=i(6326),s=i(91967),o=i(30726),r=i(50346),l=i(46053),c=(i(81806),i(76460),i(47249),i(87990)),u=i(59752);let d=class extends s.A{constructor(e){super(e),this.constrainResult=e=>e,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,r.sg)(async(e,t,i,a)=>{const s=this._frameTask;if(null==s)return;const o=await s.schedule(()=>t.snap((0,n.A)((0,n.A)({},e),{},{context:i,signal:a})),a);o.valid&&await s.schedule(()=>{this.stagedPoint=o.apply(),e!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=t.update((0,n.A)((0,n.A)({},this._snapPoints),{},{context:i})))},a)})}get stagedPoint(){return this._stagedPoint}set stagedPoint(e){this._stagedPoint=this.constrainResult(e)}initialize(){var e;const t="3d"===this.view.type?null===(e=this.view)||void 0===e||null===(e=e.resourceController)||void 0===e?void 0:e.scheduler:null;this._frameTask=null!=t?t.registerTask(u.W6.SNAPPING):u.nu}destroy(){this._abortController=(0,o.DC)(this._abortController),this._frameTask=(0,o.xt)(this._frameTask)}update(e,t,i){this._snapPoints=e;const{point:n,scenePoint:a}=e,s=t.update({point:n,scenePoint:a,context:i});return this.stagedPoint=s,s}async snap(e,t,i){const{point:n,scenePoint:a}=e;return this.stagedPoint=t.update({point:n,scenePoint:a,context:i}),this._snapPoints=e,null==this._abortController&&(this._abortController=new AbortController),this._snap(e,t,i,this._abortController.signal)}async snapAgainNearPreviousMapPoint(e,t){null!=this._snapPoints&&await this.snap(this._snapPoints,e,t)}abort(){this._abortController=(0,o.DC)(this._abortController),this._snapPoints=null}};(0,a.Cg)([(0,l.MZ)({constructOnly:!0})],d.prototype,"view",void 0),(0,a.Cg)([(0,l.MZ)()],d.prototype,"stagedPoint",null),(0,a.Cg)([(0,l.MZ)()],d.prototype,"constrainResult",void 0),(0,a.Cg)([(0,l.MZ)()],d.prototype,"_stagedPoint",void 0),d=(0,a.Cg)([(0,c.$)("esri.views.interactive.snapping.SnappingOperation")],d)},23458:(e,t,i)=>{i.d(t,{h:()=>n});const n=["horizontal","vertical","direct"]},29201:(e,t,i)=>{i.d(t,{I:()=>M,a:()=>_,b:()=>y});var n,a,s=i(57528),o=i(26917),r=i(59395),l=i(90080),c=i(94192),u=i(80883),d=i(3799),p=i(21390),h=i(86955),m=i(70367),g=i(91911),v=i(31432),f=i(2687);class _ extends v.Y{}function y(e){const t=new f.N5,{vertex:i,fragment:v,varyings:_}=t,{output:y,perspectiveInterpolation:M}=e;return(0,d.NB)(i,e),t.include(r.d),t.include(c.Z,e),t.fragment.include(o.HQ,e),t.include(l.g,e),t.include(g.z,e),t.attributes.add("position","vec3"),t.attributes.add("uv0","vec2"),M&&t.attributes.add("perspectiveDivide","float"),i.main.add((0,h.H)(n||(n=(0,s.A)(["\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ",""])),(0,h.If)(M,"gl_Position *= perspectiveDivide;"))),_.add("vpos","vec3",{invariant:!0}),_.add("vTexCoord","vec2"),v.include(u.a),v.uniforms.add(new p.m("opacity",e=>e.opacity),new m.N("tex",e=>e.glTexture)).main.add((0,h.H)(a||(a=(0,s.A)(["\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ","\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);"])),(0,h.If)(10===y,"fragColor = vec4(0, 0, 0, 1); return;"))),t}const M=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:_,build:y},Symbol.toStringTag,{value:"Module"}))},30416:(e,t,i)=>{i.d(t,{r:()=>A});var n=i(89379),a=i(88105),s=i(34981),o=i(59696),r=i(34812),l=i(45463),c=i(60322),u=i(86994),d=i(82809),p=i(63928),h=i(52757),m=i(16506),g=i(59246),v=i(96643),f=i(86401),_=i(29201),y=i(57162);class M extends g.w{constructor(e,t){super(e,t,new m.$(_.I,()=>i.e(8391).then(i.bind(i,48391))),w(t).locations)}_getPipelineState(e,t){const{oitPass:i,output:n,hasOccludees:a,cullFace:o}=e;return(0,y.Ey)({blending:(0,s.RN)(n)?(0,c.Yf)(i,!0):null,culling:(0,y.Xt)(o),depthTest:{func:(0,c.K_)(i)},depthWrite:(0,c.z5)(e),drawBuffers:(0,c.m6)(i,n),colorWrite:y.kn,stencilWrite:a?v.v0:null,stencilTest:a?t?v.a9:v.qh:null,polygonOffset:(0,c.mE)(e)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}function w(e){let t=f.l5;return e.perspectiveInterpolation&&(t=t.clone().f32("perspectiveDivide")),t}var S=i(6326),C=i(6485),P=i(92656);class b extends P.E{constructor(e){super(),this.draped=e,this.cullFace=0,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.olidColorInstanced=!1,this.snowCover=!1}}(0,S.Cg)([(0,C.W)({count:3})],b.prototype,"cullFace",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"enableOffset",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"writeDepth",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"hasOccludees",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"terrainDepthTest",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"cullAboveTerrain",void 0),(0,S.Cg)([(0,C.W)()],b.prototype,"perspectiveInterpolation",void 0);class A extends p.W{constructor(e){super(e,x),this.supportsEdges=!0,this.produces=new Map([[2,e=>(0,s.CL)(e)],[4,e=>(0,s._o)(e)&&this.parameters.writeDepth],[8,e=>(0,s._o)(e)&&!this.parameters.writeDepth],[18,e=>(0,s._o)(e)||(0,s.CL)(e)]]),this._configuration=new b(e.draped)}dispose(){this.setParameters({texture:void 0})}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<c.xt,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new O(e)}createBufferWriter(){return new D(w(this.parameters))}}class O extends o.A{constructor(e){super((0,n.A)((0,n.A)({},e),e.material.parameters)),this.parameters=e;const t=this._material.parameters.texture;(0,r.y)(t)&&e.textures.updater.add(t)}dispose(){this.parameters.textures.updater.remove(this._material.parameters.texture)}beginSlot(e){return this.getTechnique(M,e)}}class D extends d.Z{write(e,t,i,n,s,o){for(const r of this.layout.fields.keys()){const n=i.get(r);if(n)if("perspectiveDivide"===r){(0,u.vA)(1===n.size);const e=s.getField(r,a.Y$);e&&(0,h.uO)(n,e,o)}else(0,h.Ap)(r,n,e,t,s,o)}return null}}class x extends l.q{constructor(e,t){super(),this.texture=e,this.draped=t,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=0,this.opacity=1,this.perspectiveInterpolation=!1}get glTexture(){return this.texture.glTexture}}},46576:(e,t,i)=>{i.d(t,{T:()=>a});var n=i(96342);function a(e){const t=new n.n(e);return t.options.store=0,t.options.excludeLabels=!0,t}},56567:(e,t,i)=>{i.d(t,{A:()=>m});var n=i(6326),a=i(23458),s=i(69098),o=i(73582),r=i(42553),l=i(30726),c=i(46053),u=i(21403),d=(i(81806),i(47249),i(87990)),p=i(40565),h=i(19247);let m=class extends((0,r.T)(s.Pw)){constructor(e){super(e),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType="direct",this.offset=0,this.orientation=0}get valid(){return null!=this.startPoint&&null!=this.endPoint}equals(e){return this===e||(0,l.CM)(this.startPoint,e.startPoint)&&(0,l.CM)(this.endPoint,e.endPoint)&&this.measureType===e.measureType&&this.offset===e.offset&&this.orientation===e.orientation}};(0,n.Cg)([(0,c.MZ)({type:["length"],json:{write:{isRequired:!0}}})],m.prototype,"type",void 0),(0,n.Cg)([(0,c.MZ)({type:h.A,json:{write:{isRequired:!0}}})],m.prototype,"startPoint",void 0),(0,n.Cg)([(0,c.MZ)({type:h.A,json:{write:{isRequired:!0}}})],m.prototype,"endPoint",void 0),(0,n.Cg)([(0,c.MZ)({type:a.h,nonNullable:!0,json:{write:{isRequired:!0}}})],m.prototype,"measureType",void 0),(0,n.Cg)([(0,c.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],m.prototype,"offset",void 0),(0,n.Cg)([(0,c.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,u.w)(e=>o.ie.normalize((0,p.GB)(e),0,!0))],m.prototype,"orientation",void 0),(0,n.Cg)([(0,c.MZ)({readOnly:!0})],m.prototype,"valid",null),m=(0,n.Cg)([(0,d.$)("esri.analysis.LengthDimension")],m)},59962:(e,t,i)=>{i.d(t,{t:()=>u,k:()=>d});const n="theme-style";function a(e,t){return function(e,t){const i=new Image(t,t);return i.src=e,i}(function(e){const t=(new XMLSerializer).serializeToString(e);return"data:image/svg+xml;base64,".concat(btoa(t))}(s(function(e){const t=e.split(",")[1],i=atob(t);return(new DOMParser).parseFromString(i,"image/svg+xml")}(e),t)),t.size)}function s(e,t){let{accentColor:i,contrastColor:a}=t;const s=i.toHex(),o=i.a,r=a.toHex(),l=a.a,c=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(n);return c&&(c.innerHTML="\n      .contrast-fill { fill: ".concat(r,"; fill-opacity: ").concat(l,"; }\n      .contrast-stroke { stroke: ").concat(r,"; stroke-opacity: ").concat(l,";  }\n      .accent-fill { fill: ").concat(s,"; fill-opacity: ").concat(o,"; }\n      .accent-stroke { stroke: ").concat(s,"; stroke-opacity:  ").concat(o,"; }")),e}const o="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHN0eWxlIGlkPSJ0aGVtZS1zdHlsZSI+LmNvbnRyYXN0LWZpbGx7ZmlsbDojZmZmfS5jb250cmFzdC1zdHJva2V7c3Ryb2tlOiNmZmZ9LmFjY2VudC1maWxse2ZpbGw6I2ZmN2YwMDtmaWxsLW9wYWNpdHk6LjV9PC9zdHlsZT48cGF0aCBkPSJNMjggMGEyOCAyOCAwIDEgMSAwIDU2IDI4IDI4IDAgMCAxIDAtNTYiIGNsYXNzPSJhY2NlbnQtZmlsbCIvPjxwYXRoIHN0cm9rZS13aWR0aD0iNC45OSIgZD0iTTIwLjA1IDQwLjg2YTE1LjA1IDE1LjA1IDAgMCAwIDE3LjE0LTEuNSAxNS4wNSAxNS4wNSAwIDAgMCA0LjQ3LTE2LjY1IDE1LjA1IDE1LjA1IDAgMCAwLTIyLjcyLTcuMTUgMTUuMDUgMTUuMDUgMCAwIDAtNS41IDcuMTUiIGNsYXNzPSJjb250cmFzdC1zdHJva2UiLz48cGF0aCBkPSJtMTAuOTcgMzUuNTcgNS4zOCAxMi4wNyA3Ljc5LTEzLjQ3eiIgY2xhc3M9ImNvbnRyYXN0LWZpbGwiLz48L3N2Zz4=",r="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSI+PHN0eWxlIGlkPSJ0aGVtZS1zdHlsZSI+LmNvbnRyYXN0LWZpbGx7ZmlsbDojZmZmfS5jb250cmFzdC1zdHJva2V7c3Ryb2tlOiNmZmZ9LmFjY2VudC1maWxse2ZpbGw6I2ZmN2YwMDtmaWxsLW9wYWNpdHk6LjV9PC9zdHlsZT48Y2lyY2xlIGN4PSIzOS40NzgiIGN5PSIzLjA3OCIgcj0iMjgiIGNsYXNzPSJhY2NlbnQtZmlsbCIgdHJhbnNmb3JtPSJyb3RhdGUoNDAuNTQyKSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iNSIgZD0ibTcuMDc0IDMwLjA1MyAyOS4zOTcgMTEuOTg1LTMuNjczLTMzLjQ5MyIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMi45OTYiIGQ9Ik0yNC41MDQgMjMuMjA3YTExLjk4IDExLjk4IDAgMCAwLTkuOCA3LjUwNyIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSBjb250cmFzdC1maWxsIi8+PHBhdGggZD0ibTI5LjgxOCAyMi44MDgtNi4xODQgNC42LS41NDEtOC4zNjR6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==";var l=i(96897);const c=64;function u(e,t){const{accentColor:i,contrastColor:n,preMultiplyAlpha:s}=t;return e.fromData("heading-rotate:[accent:".concat(i,",contrast:").concat(n,",size:").concat(c,"]"),()=>new l.g(a(o,{accentColor:i,contrastColor:n,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s}))}function d(e,t){const{accentColor:i,contrastColor:n,preMultiplyAlpha:s}=t;return e.fromData("tilt-rotate:[accent:".concat(i,",contrast:").concat(n,",size:").concat(c,"]"),()=>new l.g(a(r,{accentColor:i,contrastColor:n,size:c}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s}))}},68655:(e,t,i)=>{i.d(t,{f:()=>o});var n=i(9392),a=i(29772),s=i(23739);async function o(){return e=await(0,s.V)(),{autoLength2D:t=>{var i;return null!==(i=e.geodesicLength(t))&&void 0!==i?i:(0,a.Xg)(t)},autoDistanceBetweenPoints2D:(t,i)=>{var n;return null!==(n=e.geodesicDistanceBetweenPoints(t,i))&&void 0!==n?n:(0,a.ll)(t,i)},autoDistance2D:(t,i,n)=>{var s;return r[0]=t[0],r[1]=t[1],r[2]=3===t.length?t[2]:0,l[0]=i[0],l[1]=i[1],l[2]=3===i.length?i[2]:0,null!==(s=e.geodesicDistance(r,l,n))&&void 0!==s?s:(0,a.sT)(r,l,n)}};var e}const r=(0,n.vt)(),l=(0,n.vt)()},75218:(e,t,i)=>{i.d(t,{X:()=>c});var n=i(89379),a=i(54901),s=i(77944),o=i(18295),r=i(64344);const l=new Map;function c(e){if(!l.has(e)){const t=(0,o.B)(e,{distance:10}),i=function(e,t){return new r.g({view:e,options:t})}(e,t.options);l.set(e,{referenceCount:0,snappingManager:i,remove:()=>{t.remove(),i.destroy()}})}const t=l.get(e);t.referenceCount++;const i=(0,a.hA)(()=>{return i=e,(n=t).referenceCount--,void(n.referenceCount>0||(0,s.d)(()=>{0===n.referenceCount&&(n.remove(),l.delete(i))}));var i,n});return(0,n.A)({snappingManager:t.snappingManager},i)}},76609:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Vt});var n=i(6326),a=i(54901),s=(i(81806),i(76460)),o=i(43927),r=i(30726),l=i(46053),c=(i(47249),i(87990)),u=i(72205),d=i(91967),p=i(68134),h=i(31633),m=i(19747),g=i(15941),v=i(24648),f=i(40565),_=i(34761),y=i(13191),M=i(20664),w=i(9392),S=i(19247),C=i(75762),P=i(18117),b=i(32535),A=i(25191),O=i(29772),D=i(90659);class x{constructor(e,t,i,n,a,s){this.elevationAlignedStartPoint=e,this.elevationAlignedEndPoint=t,this.directSegment=i,this.dimensionSegment=n,this.primaryOffsetAxis=a,this.spatialReference=s}}const T=(0,f.dp)(S.A);function z(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:i,dimension:{offset:n,measureType:a,orientation:s}}=e;return{elevationAlignedStartPoint:t,elevationAlignedEndPoint:i,offset:n,measureType:a,orientation:s}}function R(e,t){var i,n,a;let{elevationAlignedStartPoint:s,elevationAlignedEndPoint:o,offset:r,measureType:l,orientation:c}=e,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==s||null==o)return null;const d=I(null!==(i=null===u||void 0===u?void 0:u.directSegment)&&void 0!==i?i:new A.C,{elevationAlignedStartPoint:s,elevationAlignedEndPoint:o},t),p=null!==(n=null===u||void 0===u?void 0:u.primaryOffsetAxis)&&void 0!==n?n:(0,w.vt)();G(p,{measureType:l,elevationAlignedStartPoint:s,elevationAlignedEndPoint:o,directSegment:d,orientation:c,renderCoordsHelper:t});const h=null!==(a=null===u||void 0===u?void 0:u.dimensionSegment)&&void 0!==a?a:new A.C;return N({elevationAlignedStartPoint:s,elevationAlignedEndPoint:o})&&"vertical"===l?((0,M.d)(h.startRenderSpace,d.startRenderSpace),(0,M.d)(h.endRenderSpace,d.endRenderSpace)):j(h,p,r,d,t),new x(s,o,d,h,p,t.spatialReference)}function Z(e,t,i,n){return 0===t?((0,M.d)(e.startRenderSpace,i.startRenderSpace),(0,M.d)(e.endRenderSpace,n.startRenderSpace)):((0,M.d)(e.startRenderSpace,i.endRenderSpace),(0,M.d)(e.endRenderSpace,n.endRenderSpace)),e}function H(e,t,i,n){switch(t){case"direct":return I(e,i,n);case"horizontal":case"vertical":{const{elevationAlignedStartPoint:a,elevationAlignedEndPoint:s,dimension:o,geometry:r}=i;let l;"direct"===o.measureType?(l=function(e,t){const i=e.directSegment.eval(.5,C.rq.get()),n=t.worldUpAtPosition(i,C.rq.get()),a=e.dimensionSegment.eval(.5,C.rq.get()),s=(0,M.a)(C.rq.get(),a,i);return!(0,M.G)(s,w.uY)&&(0,M.f)(s,n)>0}(r,n)===a.z>s.z,"horizontal"===t&&(l=!l)):l=!function(e){const{startRenderSpace:t,endRenderSpace:i}=e.dimensionSegment,{startRenderSpace:n,endRenderSpace:a}=e.directSegment;return(0,M.x)(n,t)<(0,M.x)(a,i)}(r);const[c,u]=l?[a,s]:[s,a],d=(0,b.EL)(u,L);return"horizontal"===t?d.z=c.z:(d.x=c.x,d.y=c.y),n.toRenderCoords(c,e.startRenderSpace),n.toRenderCoords(d,e.endRenderSpace),e}}}function I(e,t,i){return i.toRenderCoords(t.elevationAlignedStartPoint,e.startRenderSpace),i.toRenderCoords(t.elevationAlignedEndPoint,e.endRenderSpace),e}const L=(0,P.TH)(0,0,0,null);const k=new A.C;function G(e,t){const{measureType:i,elevationAlignedStartPoint:n,elevationAlignedEndPoint:a,directSegment:{startRenderSpace:s,endRenderSpace:o},directSegment:r,renderCoordsHelper:l}=t,c=r.eval(.5,C.rq.get()),u=l.worldUpAtPosition(c,C.rq.get()),d=l.worldBasisAtPosition(c,1,C.rq.get());switch(i){case"horizontal":(0,M.d)(e,u);break;case"vertical":(0,M.f)(s,u)<(0,M.f)(o,u)?(0,M.a)(e,o,s):(0,M.a)(e,s,o),(0,M.i)(e,e,u),(0,M.i)(e,e,u);break;case"direct":{var p;const i=null!==(p=t.orientation)&&void 0!==p?p:0;if(N({elevationAlignedStartPoint:n,elevationAlignedEndPoint:a}))(0,_.$0)(E,-(0,g.kU)(i),u),(0,M.t)(e,d,E);else{const t=(0,M.a)(C.rq.get(),o,s),n=(0,M.i)(C.rq.get(),t,u);(0,M.i)(n,n,t),(0,_.$0)(E,(0,g.kU)(i),t),(0,M.t)(e,n,E)}break}}return(0,M.G)(e,w.uY)?(0,M.d)(e,d):(0,M.n)(e,e)}const E=(0,y.vt)();function N(e){let{elevationAlignedStartPoint:t,elevationAlignedEndPoint:i}=e;return null!=t&&null!=i&&t.x===i.x&&t.y===i.y}function j(e,t,i,n,a){const{startRenderSpace:s,endRenderSpace:o}=n,r=i/a.unitInMeters,[l,c]=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const a=(0,M.f)(t,i),s=(0,M.f)(e,i),o=Math.abs(a-s)+n;return a>s?[o,n]:[n,o]}(s,o,t,r);return(0,M.c)(e.startRenderSpace,n.startRenderSpace,t,l),(0,M.c)(e.endRenderSpace,n.endRenderSpace,t,c),e}function V(e,t,i){const n=t.directSegment.eval(.5,C.rq.get());return i.worldUpAtPosition(n,e)}function B(e,t){const{startRenderSpace:i,endRenderSpace:n}=t.directSegment;return(0,M.a)(e,n,i)}function q(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{invert:!1};const{startRenderSpace:n,endRenderSpace:a}=t.dimensionSegment;return i.invert?(0,M.a)(e,n,a):(0,M.a)(e,a,n)}function U(e,t){const i=e.directSegment.eval(.5,C.rq.get());return t.headingAtPosition(i,e.primaryOffsetAxis)}const Y=(0,w.vt)();function W(e){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:i}=e;if(null==t||null==i)return!1;const n=(0,O.Ce)(t,i);return null!=n&&(0,v.kM)(n,"meters").value>D.U7}function F(e){return null!=e.geometry}let X=class extends d.A{constructor(e){super(e)}initialize(){const e=(0,o.L)(()=>this.analysisViewData.computations,e=>{let{computation:t}=e;return this._watchComputation(t)});this.addHandles((0,a.DQ)(e))}get analysis(){return this.analysisViewData.analysis}get _defaultUnit(){return(0,m.c)(this.view)}_watchComputation(e){return(0,p.wB)(()=>z(e),t=>{const{measureType:i}=t;if(W(t)&&"direct"!==i){const t=Math.round((0,h.oU)(D.U7,"meters","kilometers"));return s.A.getLogger(this).warnOnce("A ".concat(i," dimension in the analysis (id: '").concat(this.analysis.id,"') will not display, because only direct dimensions can measure lengths greater than ").concat(t,' km. Update the measureType of the affected dimension to "direct" to display it.')),void(e.geometry=null)}const n=R(t,this.view.renderCoordsHelper,e.geometry);e.geometry=n,e.result.length=function(e,t,i,n){if(null==e)return null;let a;if("horizontal"===t)a=n.autoDistanceBetweenPoints2D(T(e.elevationAlignedStartPoint),T(e.elevationAlignedEndPoint));else{const{startRenderSpace:t,endRenderSpace:i}=e.dimensionSegment;a=(0,O.vp)(t,i,e.spatialReference)}if(null==a)return null;const s="vertical"===t?(0,h.jE)(a.value,a.unit,i):(0,h.Vs)(a.value,a.unit,i);return(0,v.kM)(a,s)}(n,i,this._defaultUnit,this.automaticLengthMeasurementUtils)},p.pc)}};(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],X.prototype,"analysisViewData",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],X.prototype,"view",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],X.prototype,"automaticLengthMeasurementUtils",void 0),(0,n.Cg)([(0,l.MZ)()],X.prototype,"analysis",null),(0,n.Cg)([(0,l.MZ)()],X.prototype,"_defaultUnit",null),X=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.Dimension.DimensionController")],X);var Q=i(50176),J=i(89379),$=i(69539),K=i(23458),ee=i(73582),te=i(76931),ie=i(55855),ne=i(13927),ae=i(59784);function se(e){return(0,ae._L)(e.accentColor,.5)}function oe(e){return(0,ae.bJ)(e.accentColor)}const re=new $.A([127,127,127,.5]);var le=i(56121),ce=i(38317),ue=i(91175),de=i(7947),pe=i(99443),he=i(50468),me=i(17345),ge=i(72017),ve=i(52479),fe=i(17046);class _e{constructor(e){this.start=e.start,this.end=e.end,this.offset=e.offset,this.heading=e.heading,this.rotation=e.rotation,this.direct=e.direct,this.horizontal=e.horizontal,this.vertical=e.vertical}manipulatorName(e){return Object.keys(this).find(t=>this.hasOwnProperty(t)&&e===this[t])}values(){return[this.start,this.end,this.offset,this.heading,this.rotation,this.direct,this.horizontal,this.vertical]}forEachMeasureTypeManipulator(e){for(const t of K.h)e(this.manipulatorForMeasureType(t),t)}manipulatorForMeasureType(e){switch(e){case"direct":return this.direct;case"horizontal":return this.horizontal;case"vertical":return this.vertical}}}class ye extends le.q{constructor(e,t){const i=(0,ce.UM)($.A.toUnitRGBA(se(e.effectiveTheme))),n=[new ue.M((0,ge.CM)(i,1,32,32),ke)];super({view:e,renderObjects:n,metadata:t.metadata,available:!1,grabCursor:"crosshair",radius:5,collisionPriority:1}),this._themeHandle=(0,p.wB)(()=>({color:$.A.toUnitRGBA(se(e.effectiveTheme))}),e=>i.setParameters(e))}destroy(){this._themeHandle.remove(),super.destroy()}}class Me extends le.q{constructor(e,t){let{lineSizePt:i,material:n,metadata:a}=t;super({view:e,autoScaleRenderObjects:!1,collisionPriority:1,metadata:a}),this._options={calloutColor:(0,ie.vt)(),lineSizePt:i,material:n},this._themeHandle=(0,p.wB)(()=>$.A.toUnitRGBA(se(e.effectiveTheme)),e=>{this._options.calloutColor=e,Le(this,we((0,J.A)((0,J.A)({},this._options),{},{metadata:this.metadata})))},p.Vh)}update(e){let{lineSizePt:t,material:i}=e;this._options.lineSizePt=t,this._options.material=i,Le(this,we((0,J.A)((0,J.A)({},this._options),{},{metadata:this.metadata})))}destroy(){this._themeHandle.remove(),super.destroy()}}function we(e){let{calloutColor:t,lineSizePt:i,material:n,metadata:a}=e;return{calloutLength:.25*pe.PV*.8*(0,te.Lz)(i)+18,calloutColor:t,calloutWidth:2,customStateMask:ke,discScale:.3,focusMultiplier:2,material:n,metadata:a}}function Se(e,t){let{computation:i,view:n}=t;return[(0,fe.Xt)(e,(e,t,a)=>{Ce({cancel:a,computation:i,settingHeading:!1,steps:t,view:n})}),e.events.on("immediate-click",e=>{!function(e,t,i){const{dimension:n,geometry:a}=t;if(90===n.orientation||270===n.orientation)return n.orientation=0,void e.stopPropagation();if(null==a)return;const{renderCoordsHelper:s}=i,o=R((0,J.A)((0,J.A)({},z(t)),{},{orientation:90}),s),r=R((0,J.A)((0,J.A)({},z(t)),{},{orientation:270}),s);if(null==o||null==r)return;const l=U(o,s),c=U(r,s),u=Ae(a,i),d=ee.ie.shortestSignedDiff(u,l),p=ee.ie.shortestSignedDiff(u,c);n.orientation=Math.abs(d)<Math.abs(p)?90:270,e.stopPropagation()}(e,i,n)})]}function Ce(e){var t,i;const{cancel:n,computation:a,settingHeading:s,steps:o,view:r}=e;if(!F(a))return;const{renderCoordsHelper:l}=r,{dimension:c,geometry:u}=a,d=(0,w.vt)(),p=ze((0,w.vt)(),u,u.directSegment,l),h=Re(C.rq.get(),{forHeading:s,geometry:u,renderCoordsHelper:l}),m=(0,ne.O_)(p,h,(0,ne.vt)()),v=s?null!==(t=c.orientation)&&void 0!==t?t:U(u,r.renderCoordsHelper):null!==(i=c.orientation)&&void 0!==i?i:0;o.next((0,de.AA)(r,m)).next(e=>{"start"===e.action&&(0,M.d)(d,e.renderStart);const t=(0,ne.Qj)(m),i=(0,ce.FY)(d,e.renderEnd,p,t);let n=v-(0,g.KJ)(i);s||(n=function(e){const t=ee.ie.normalize(e)%90;return t<5?e-t:90-t<5?e+(90-t):e}(n)),c.orientation=n}),n.next((0,fe.VG)(c,["orientation"]))}function Pe(e,t){let{computation:i,manipulatorMeasureType:n,view:a}=t,s="direct",o=0,r=0;return[e.events.on("grab-changed",t=>{if("start"!==t.action||!F(i))return;const{dimension:l,geometry:c}=i;s=l.measureType,o=l.offset,r=l.orientation;const u=(0,M.d)(C.rq.get(),e.renderLocation);l.measureType=n,l.offset=function(e,t,i,n){const{directSegment:a}=i,s=G(C.rq.get(),{measureType:t,directSegment:a,renderCoordsHelper:n}),o=j(k,s,0,a,n).eval(.5,C.rq.get()),r=(0,M.a)(C.rq.get(),e,o);return(0,M.f)(r,s)*n.unitInMeters}(u,n,c,a.renderCoordsHelper),l.orientation=0}),(0,fe.Xt)(e,(e,t,l)=>{if(!F(i))return;const{geometry:c,dimension:u}=i,{renderCoordsHelper:d}=a,p=H(je,n,i,d),h=G(C.rq.get(),{measureType:n,directSegment:c.directSegment,renderCoordsHelper:d}),m=(0,de.z7)(e);t.next(m).next(be(a,u,p,h)),l.next(m).next(e=>(u.measureType=s,u.offset=o,u.orientation=r,e))})]}function be(e,t,i,n){const a=(0,M.e)(C.rq.get(),i.endRenderSpace,i.startRenderSpace);(0,M.i)(a,a,n);const s=(0,ne.O_)(i.startRenderSpace,a,(0,ne.vt)()),o=(0,ne.O_)(i.startRenderSpace,n,(0,ne.vt)()),r=t.offset;let l,c=0;const u=new fe.rh;return u.next((0,de.AA)(e,s)).next(i=>{"start"===i.action&&(c=(0,ne.mN)(o,i.renderStart));const n=((0,ne.mN)(o,i.renderEnd)-c)*e.renderCoordsHelper.unitInMeters;t.offset=r+n,l=i}),e=>(u.execute(e),l)}function Ae(e,t){const{directSegment:i}=e,{renderCoordsHelper:n}=t,a=V(C.rq.get(),e,n),s=B(C.rq.get(),e),o=(0,M.i)(C.rq.get(),s,a),{viewForward:r}=t.state.camera;(0,M.f)(o,r)>0&&(0,M.h)(o,o,-1);const l=i.eval(.5,C.rq.get());return n.headingAtPosition(l,o)}function Oe(e,t,i){const{dimensionSegment:n,primaryOffsetAxis:a}=t,s=q(Ge,t),o=(0,M.q)(s,w.uY)?(0,_.D_)(Ne):(0,ce.wQ)(s,a,w.uY,Ne),r=Math.max((0,M.b)(s),.1/i.unitInMeters);(0,_.hs)(o,o,(0,M.j)(Ge,r,r,r)),e.modelTransform=o,e.renderLocation=n.eval(.5,Ge)}function De(e,t,i,n){let{forHeading:a}=n;const{dimension:s,geometry:o}=t,{primaryOffsetAxis:r}=o,l=(0,M.h)(xe,r,s.offset>=0?1:-1),c=Re(Te,{forHeading:a,geometry:o,renderCoordsHelper:i});(0,M.i)(c,c,l);const u=(0,ce.wQ)(l,c,w.uY,Ne);e.modelTransform=u,e.renderLocation=ze(Ge,o,o.dimensionSegment,i)}const xe=(0,w.vt)(),Te=(0,w.vt)();function ze(e,t,i,n){const{startRenderSpace:a,endRenderSpace:s}=i,o=function(e,t){const i=B(Ze,e),n=V(He,e,t);return(0,M.f)(i,n)>0}(t,n)?a:s;return(0,M.d)(e,o)}function Re(e,t){let{forHeading:i,geometry:n,renderCoordsHelper:a}=t;return i?V(e,n,a):q(e,n,{invert:!0})}const Ze=(0,w.vt)(),He=(0,w.vt)();function Ie(e){return(0,te.Lz)(e)+6}function Le(e,t){var i,n,a,s,o;const r=t.material,l=null!==(i=t.focusMultiplier)&&void 0!==i?i:ce.eO.focusMultiplier,c=null!==(n=t.calloutLength)&&void 0!==n?n:ce.eO.calloutLength,u=ce.eO.discRadius*(null!==(a=t.discScale)&&void 0!==a?a:1),d=u*l,p=(e,t)=>{const i=[0,1,2,2,3,0];return new me.V(t,[["position",new he.n([c-e,-e,0,c+e,-e,0,c+e,e,0,c-e,e,0],i,3,!0)],["uv0",new he.n([0,0,1,0,1,1,0,1],i,2,!0)]])},h=null!==(s=t.calloutWidth)&&void 0!==s?s:ce.eO.calloutWidth,m=new ve.W({width:h,color:t.calloutColor,renderOccluded:4,isDecoration:!0},e.view.state.isGlobal),g=(0,ge.Z8)(m,[[0,0,0],[c-u,0,0]]),v=(0,ge.Z8)(m,[[0,0,0],[c-d,0,0]]),f=null!==(o=t.customStateMask)&&void 0!==o?o:0;e.collisionType={type:"disc",direction:[0,0,1],offset:[c,0,0]},e.focusMultiplier=l,e.metadata=t.metadata,e.radius=u,e.renderObjects=[new ue.M(p(u,r),1|f),new ue.M(g,1|f),new ue.M(p(d,r),2|f),new ue.M(v,2|f)]}const ke=16,Ge=(0,w.vt)(),Ee=(0,w.vt)(),Ne=(0,y.vt)(),je=new A.C;var Ve=i(56567),Be=i(88321),qe=i(53084),Ue=i(56002),Ye=i(50346),We=i(19451);function Fe(e,t,i){const{constraint:n,elevationAlignedStartPoint:a,elevationAlignedEndPoint:s,unconstrainedGeometry:o,view:r}=i,{dimension:l,previousConstraint:c,preConstraintProperties:u}=e;if(null==a||null==s)return;const d=()=>{"startPoint"in t?l.startPoint=t.startPoint:"endPoint"in t&&(l.endPoint=t.endPoint)};if(null==n)d(),null!=c&&null!=u&&(l.measureType=u.measureType,l.orientation=u.orientation);else switch(l.measureType="direct",n){case 0:if(n!==c&&(l.orientation=0),"startPoint"in t){const e=t.startPoint;null!=e&&(e.z=s.z),l.startPoint=e}else if("endPoint"in t){const e=t.endPoint;null!=e&&(e.z=a.z),l.endPoint=e}break;case 1:if(n!==c&&(l.orientation=Ae(o,r)),"startPoint"in t){const e=t.startPoint;null!=e&&(e.x=s.x,e.y=s.y),l.startPoint=e}else if("endPoint"in t){const e=t.endPoint;null!=e&&(e.x=a.x,e.y=a.y),l.endPoint=e}break;case 2:n!==c&&null!=u&&(l.orientation=u.orientation),d()}e.previousConstraint=n,e.unconstrainedGeometry=o}var Xe=i(59962),Qe=i(70836),Je=i(7256),$e=i(85937),Ke=i(30416),et=i(35925),tt=i(89238),it=i(974),nt=i(56497),at=i(13284),st=i(61237),ot=i(75218),rt=i(14318),lt=i(70330);let ct=class extends d.A{constructor(e){super(e),this._stagedDimension=null,this._snappingManagerResult=null,this._computationManipulators=new Map,this._computationHandles=new Be.A,this._updatingHandles=new We.U,this._getSnappingContext=(0,Ue.B)(e=>new at.e({elevationInfo:{mode:"absolute-height",offset:0},pointer:e,editGeometryOperations:new nt.p(new it.ZE("point",(0,tt.BV)(!0,!1,this.view.spatialReference)),this.view.state.viewingMode),visualizer:new Qe.s}));const{view:t}=e;this._unfocusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(t),this._focusedOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(t),this._thinOffsetManipulatorMaterial=this._createOffsetManipulatorMaterial(t),this._thinOffsetManipulatorMaterial.setParameters({stipplePattern:(0,et.wk)(2)}),this._constraintSnappingIndicator=new Je.t({view:t,attached:!0,width:1,renderOccluded:4,stipplePattern:(0,et.wk)(5),isDecoration:!0});const i=$.A.toUnitRGBA(re);this._stagedStartIndicator=new $e.I({view:t,attached:!1,elevationInfo:{mode:"absolute-height",offset:0},spatialReference:e.view.renderCoordsHelper.spatialReference,color:i,size:10,outlineSize:0,renderOccluded:4,isDecoration:!0})}initialize(){var e;const{view:t}=this;this._snappingOperation=new rt.O({view:t});const i=se(t.effectiveTheme),n=oe(t.effectiveTheme),s=!(null!==(e=t.stage)&&void 0!==e&&e.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result);this._textureHandle=(0,Xe.t)(t.stage.textures,{accentColor:i,contrastColor:n,preMultiplyAlpha:s}),this._orientationManipulatorMaterial=new Ke.r({draped:!1,texture:this._textureHandle.texture,writeDepth:!1,renderOccluded:16,isDecoration:!0});const r=(0,o.L)(()=>this.analysisViewData.computations,e=>{let{computation:t}=e;return this._createManipulators(t)});this.addHandles([(0,p.wB)(()=>({accentColor:se(t.effectiveTheme),contrastColor:oe(t.effectiveTheme)}),e=>{let{accentColor:i,contrastColor:n}=e;const a=this._textureHandle;this._textureHandle=(0,Xe.t)(t.stage.textures,{accentColor:i,contrastColor:n,preMultiplyAlpha:s}),this._orientationManipulatorMaterial.setParameters({texture:this._textureHandle.texture}),null===a||void 0===a||a.release();const o=$.A.toUnitRGBA(i);this._unfocusedOffsetManipulatorMaterial.setParameters({color:o}),this._focusedOffsetManipulatorMaterial.setParameters({color:o}),this._thinOffsetManipulatorMaterial.setParameters({color:o}),this._constraintSnappingIndicator.color=o},p.Vh),(0,a.DQ)(r),(0,p.wB)(()=>({stagedPoint:this._snappingOperation.stagedPoint,stagedComputation:this._stagedComputation}),e=>{let{stagedPoint:t,stagedComputation:i}=e;if(null==i||null==t)return;const n=(0,b.EL)(t,new S.A);this._applyPointUpdate(i,{endPoint:n})},p.OH),(0,p.wB)(()=>({stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator}),(e,t)=>{const{stagedDimension:i,selectedComputation:n,firstGrabbedManipulator:a}=e;if(i===(null===t||void 0===t?void 0:t.stagedDimension)&&a===(null===t||void 0===t?void 0:t.firstGrabbedManipulator)){for(const s of[n,null===t||void 0===t?void 0:t.selectedComputation])if(null!=s){const t=this._computationManipulators.get(s);null!=t&&this._updateManipulators(s,t,e)}}else for(const[s,o]of this._computationManipulators)this._updateManipulators(s,o,e)},p.pc),(0,p.wB)(()=>this.analysis.style.lineSize,e=>this._updateManipulatorStyle(e),p.Vh),(0,p.wB)(()=>this.view.state.camera,()=>{null!=this._stagedComputation&&this._updateStagedDimensionOffset(this._stagedComputation)}),(0,p.wB)(()=>{const e=this._stagedComputation;if(!e)return null;const t=e.elevationAlignedStartPoint,i=(0,w.vt)();return null!=t&&this.view.renderCoordsHelper.toRenderCoords(t,i)?i:null},e=>{null!=e?(this._stagedStartIndicator.vertices=[e],this._stagedStartIndicator.attached=!0):this._stagedStartIndicator.attached=!1})]),this.addHandles(this._constraintHandles),this.addHandles(this._snappingIndicatorHandles),(0,lt.BY)(this,()=>{const e=this._activeComputation,t=this._stagedComputation;if(null==e||null!=t){var i,n;const e=null!==(i=null===(n=this.view.inputManager.latestPointerInfo)||void 0===n?void 0:n.type)&&void 0!==i?i:"mouse",t=this._getSnappingContext(e);this._updatingHandles.addPromise((0,Ye.QZ)(this._snappingOperation.snapAgainNearPreviousMapPoint(this._ensureSnappingManager(),t)))}if(null!=e){const{start:t,end:i}=this._computationManipulators.get(e);if(t.grabbing||i.grabbing){!function(e,t,i){let{constraint:n,view:a}=i;const{unconstrainedGeometry:s}=e;if(null==s)return;const{renderCoordsHelper:o,spatialReference:r}=a,{startRenderSpace:l,endRenderSpace:c}=s.directSegment,u=o.fromRenderCoords(l,new S.A({spatialReference:r})),d=o.fromRenderCoords(c,new S.A({spatialReference:r}));let p;p="start"===t?{startPoint:u}:{endPoint:d},Fe(e,p,{constraint:n,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,unconstrainedGeometry:s,view:a})}(e,t.grabbing?"start":"end",{constraint:this._computeConstraint(e),view:this.view})}}})}destroy(){this._textureHandle=(0,r.Gz)(this._textureHandle),this._snappingOperation=(0,r.pR)(this._snappingOperation),this._computationHandles.destroy(),this._constraintSnappingIndicator.destroy(),this._stagedStartIndicator.destroy(),this._orientationManipulatorMaterial.dispose()}get updating(){var e;return this._updatingHandles.updating||!(null===(e=this._snappingManager)||void 0===e||!e.updating)}get firstGrabbedManipulator(){return this.parentTool.firstGrabbedManipulator}get hasGrabbedManipulators(){return this.parentTool.hasGrabbedManipulators}get snappingOptions(){var e;return null===(e=this._snappingManager)||void 0===e?void 0:e.options}get _snappingManager(){var e;return null===(e=this._snappingManagerResult)||void 0===e?void 0:e.snappingManager}_ensureSnappingManager(){return this._snappingManagerResult||(this._snappingManagerResult=(0,ot.X)(this.view),this.addHandles(this._snappingManagerResult)),this._snappingManagerResult.snappingManager}get _activeComputation(){if(null!=this._stagedComputation)return this._stagedComputation;const{selectedComputation:e}=this.analysisViewData;return this.hasGrabbedManipulators&&null!=e?e:null}get _stagedComputation(){var e;const t=this._stagedDimension,i=null===(e=this.analysisViewData.computations.at(-1))||void 0===e?void 0:e.computation;return null==t||null==i||i.dimension!==t?null:i}get _constraintHandles(){return[(0,p.z7)(()=>this.analysisViewData.selectedComputation,e=>{e.previousConstraint=this._computeConstraint(e)},(0,J.A)((0,J.A)({},p.pc),{},{equals:qe.aI})),(0,p.wB)(()=>{const e=this._activeComputation;if(null==e)return null;const{measureType:t,orientation:i}=e.dimension;return{measureType:t,orientation:i,computation:e}},(e,t)=>{if(null!=e&&null==t){const{measureType:t,orientation:i,computation:n}=e;switch(n.previousConstraint){case 0:n.preConstraintProperties={measureType:"horizontal",orientation:0};break;case 1:n.preConstraintProperties={measureType:"vertical",orientation:0};break;case 2:n.preConstraintProperties={measureType:"direct",orientation:i};break;default:n.preConstraintProperties={measureType:t,orientation:i}}}null==e&&null!=t&&(t.computation.preConstraintProperties=null)},p.OH)]}get _snappingIndicatorHandles(){const e="snapping-indicator-event-handles";return[(0,p.wB)(()=>({stagedComputation:this._stagedComputation,activeComputation:this._activeComputation}),t=>{let{stagedComputation:i,activeComputation:n}=t;const a=this._constraintSnappingIndicator;if(this.removeHandles(e),null!=n)if(n===i)a.attached=!0;else{const{start:t,end:i}=this._computationManipulators.get(n),s=()=>{a.attached=t.grabbing||i.grabbing};s(),this.addHandles([t.events.on("grab-changed",s),i.events.on("grab-changed",s)],e)}else a.attached=!1}),(0,p.wB)(()=>{const e=this._activeComputation;return null!=e?{geometry:e.geometry,constraint:e.previousConstraint}:{}},e=>{let{geometry:t,constraint:i}=e;const n=this._constraintSnappingIndicator;null!=t&&null!=i&&2!==i?(n.visible=!0,n.setGeometryFromSegment(t.directSegment)):n.visible=!1})]}removeStaged(){return null!=this._stagedDimension&&(this.analysis.dimensions.remove(this._stagedDimension),this._stagedDimension=null,!0)}onDeactivate(){this.removeStaged(),this._resetSnappingState()}onClick(e){const{_stagedDimension:t}=this;if(null==t){const t=this._onUnstagedClick(e);return this.analysis.dimensions.add(t),null}return this._onStagedClick(e),t}onPointerMove(e){let{mapPoint:t,pointerType:i}=e;if("touch"===i)return;const n=this._getSnappingContext(i);this._updatingHandles.addPromise((0,Ye.QZ)(this._snappingOperation.snap({point:t},this._ensureSnappingManager(),n)))}onManipulatorSelectionChanged(){null!=this.analysisViewData.selectedComputation&&(this._computationManipulators.get(this.analysisViewData.selectedComputation).offset.selected||(this.analysisViewData.selectedDimension=null))}_onUnstagedClick(e){let{mapPoint:t,pointerType:i}=e,n=t;if("mouse"===i){const e=this._getSnappingContext(i);n=this._ensureSnappingManager().update({point:t,context:e})}const a=new Ve.A({startPoint:(0,b.EL)(n,new S.A),endPoint:null,measureType:"horizontal"});return this._stagedDimension=a,this._resetSnappingState(),a}_onStagedClick(e){let{mapPoint:t,pointerType:i}=e;const n=this._stagedComputation;if(null==n)return;let a=t;if("mouse"===i){const e=this._getSnappingContext(i);a=this._ensureSnappingManager().update({point:t,context:e})}const s=(0,b.EL)(a,new S.A);this._applyPointUpdate(n,{endPoint:s}),this._stagedDimension=null,this._resetSnappingState()}_resetSnappingState(){this._ensureSnappingManager().doneSnapping(),this._snappingOperation.abort(),this._snappingOperation.stagedPoint=null}_createManipulators(e){const t=this._setupPointManipulator(e,{isStart:!0}),i=this._setupPointManipulator(e,{isStart:!1}),n=this._setupOffsetManipulator(e),s=this._setupHeadingManipulator(e),o=this._setupRotationManipulator(e),r=this._setupMeasureTypeManipulator(e,"direct"),l=this._setupMeasureTypeManipulator(e,"horizontal"),c=this._setupMeasureTypeManipulator(e,"vertical"),u=new _e({start:t,end:i,offset:n,heading:s,rotation:o,direct:r,horizontal:l,vertical:c});this._setupComputationToManipulatorsSync(e,u),this._computationManipulators.set(e,u),this.manipulators.addMany(u.values());const d=(0,a.vE)(u.values().map(e=>e.events.on("focus-changed",()=>{u.values().some(e=>e.focused)&&this._resetSnappingState()})));return{manipulators:u,remove:()=>{d.remove(),this._computationHandles.remove(e),this._computationManipulators.delete(e);for(const e of u.values())this.manipulators.remove(e)}}}_setupComputationToManipulatorsSync(e,t){this._computationHandles.add([(0,p.wB)(()=>e.geometry,()=>this._updateManipulators(e,t),(0,J.A)((0,J.A)({},p.pc),{},{equals:qe.aI}))],e)}_setupPointManipulator(e,t){const{view:i}=this,{dimension:n}=e,a=new ye(i,{metadata:n}),s=function(e,t){let{isStart:i,createSnappingPipelineStep:n,dimension:a,onUpdate:s,view:o}=t;const r=i?"startPoint":"endPoint",l=(0,fe.Xt)(e,(e,t,i,l)=>{const c=(0,de.z7)(e),{snappingStep:u,cancelSnapping:d}=n(l);i=i.next(c).next((0,fe.VG)(a,[r,"measureType","orientation"])).next(d),t.next(c).next((0,de.xk)(o)).next(...u).next(e=>{const t=(0,b.EL)(e.mapEnd,new S.A);s("startPoint"===r?{startPoint:t}:{endPoint:t})})});return[l]}(a,{isStart:t.isStart,createSnappingPipelineStep:e=>(0,st.L)({snappingContext:this._getSnappingContext(e),snappingManager:this._snappingManager,updatingHandles:this._updatingHandles}),dimension:n,onUpdate:t=>this._applyPointUpdate(e,t),view:i});return this._computationHandles.add(s,e),a}_setupOffsetManipulator(e){const{view:t}=this,i=function(e,t){const i=[(0,w.fA)(-.5,0,0),(0,w.fA)(.5,0,0)],n=(0,ge.Z8)(t.unfocusedMaterial,i.map(e=>(0,M.h)((0,w.vt)(),e,.5))),a=n.instantiate({material:t.focusedMaterial});return new le.q((0,J.A)({view:e,renderObjects:[new ue.M(n,9|ke),new ue.M(a,2|ke)],collisionType:{type:"line",paths:[i]},radius:Ie(t.lineSizePt)/2,metadata:t.metadata,available:!1},ce.MO))}(t,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,metadata:e.dimension}),n=function(e,t){let{computation:i,view:n}=t;return[(0,fe.Xt)(e,(e,t,a)=>{if(!F(i)||!e.selected)return;const{geometry:s,dimension:o}=i,r=(0,de.z7)(e);t.next(r).next(be(n,o,s.dimensionSegment,s.primaryOffsetAxis)),a.next(r).next((0,fe.VG)(o,["offset"]))})]}(i,{computation:e,view:t});return this._computationHandles.add(n,e),i}_setupHeadingManipulator(e){const{view:t}=this,i=new Me(t,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:e.dimension}),n=function(e,t){let{computation:i,view:n}=t;return[(0,fe.Xt)(e,(e,t,a)=>{Ce({cancel:a,computation:i,settingHeading:!0,steps:t,view:n})})]}(i,{computation:e,view:t});return this._computationHandles.add(n,e),i}_setupRotationManipulator(e){const{view:t}=this,i=new Me(t,{lineSizePt:this.analysis.style.lineSize,material:this._orientationManipulatorMaterial,metadata:e.dimension}),n=Se(i,{computation:e,view:t});return this._computationHandles.add(n,e),i}_setupMeasureTypeManipulator(e,t){const{view:i}=this,n=function(e,t){const i=[(0,w.fA)(-.5,0,0),(0,w.fA)(.5,0,0)],n=(0,ge.Z8)(t.thinOffsetManipulatorMaterial,i),a=(0,ge.Z8)(t.unfocusedMaterial,i.map(e=>(0,M.h)((0,w.vt)(),e,.5))),s=a.instantiate({material:t.focusedMaterial});return new le.q((0,J.A)({view:e,renderObjects:[new ue.M(a,1|ke),new ue.M(s,2|ke),new ue.M(n,ke)],collisionType:{type:"line",paths:[i]},radius:Ie(t.lineSizePt)/2,available:!1,metadata:t.metadata},ce.MO))}(i,{lineSizePt:this.analysis.style.lineSize,unfocusedMaterial:this._unfocusedOffsetManipulatorMaterial,focusedMaterial:this._focusedOffsetManipulatorMaterial,thinOffsetManipulatorMaterial:this._thinOffsetManipulatorMaterial,metadata:e.dimension}),a=Pe(n,{computation:e,manipulatorMeasureType:t,view:i});return this._computationHandles.add(a,e),n}_updateManipulators(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{stagedDimension:this._stagedDimension,selectedComputation:this.analysisViewData.selectedComputation,firstGrabbedManipulator:this.firstGrabbedManipulator};const{stagedDimension:n,selectedComputation:a,firstGrabbedManipulator:s}=i,{start:o,end:r,offset:l,heading:c,rotation:u}=t,d=a===e,p=F(e),{dimension:h}=e;for(const v of t.values()){const e=p&&null==n&&(null==s||v===s);v===l?(v.available=e,v.selected=d):v.available=e&&d}if(!p)return;null!=this._computeConstraint(e)?t.forEachMeasureTypeManipulator(e=>e.available=!1):t.manipulatorForMeasureType(h.measureType).available=!1;for(const v of[c,u])"direct"===h.measureType&&0!==h.offset||(v.available=!1);N(e)?u.available=!1:c.available=!1;const{geometry:m}=e;o.renderLocation=m.directSegment.startRenderSpace,r.renderLocation=m.directSegment.endRenderSpace;const{renderCoordsHelper:g}=this.view;Oe(l,m,g),c.available&&function(e,t,i){De(e,t,i,{forHeading:!0})}(c,e,g),u.available&&function(e,t,i){De(e,t,i,{forHeading:!1})}(u,e,g),t.forEachMeasureTypeManipulator((t,i)=>{t.available&&function(e,t,i,n){const{geometry:a}=t,s=H(je,i,t,n),o=G(Ge,{measureType:i,directSegment:a.directSegment,renderCoordsHelper:n}),r=(0,M.a)(Ee,s.endRenderSpace,s.startRenderSpace),l=(0,ce.wQ)(r,o,w.uY,Ne),c=(0,M.b)(r);(0,_.hs)(l,l,(0,M.j)(Ee,c,c,c)),e.modelTransform=l,e.renderLocation=s.eval(.5,Ee)}(t,e,i,g)})}_updateManipulatorStyle(e){const t=function(e){return(0,te.Lz)(e)+4}(e),i=Ie(e),n={lineSizePt:e,material:this._orientationManipulatorMaterial};for(const{offset:a,heading:s,rotation:o}of this._computationManipulators.values())a.radius=i/2,s.update(n),o.update(n);this._unfocusedOffsetManipulatorMaterial.setParameters({width:t}),this._focusedOffsetManipulatorMaterial.setParameters({width:i})}_applyPointUpdate(e,t){const{view:i}=this,n=z(e);"startPoint"in t&&(n.elevationAlignedStartPoint=t.startPoint),"endPoint"in t&&(n.elevationAlignedEndPoint=t.endPoint);const a=R(n,i.renderCoordsHelper);if(null==a)return;const s=this._computeConstraint((0,J.A)((0,J.A)({},n),{},{geometry:a}));Fe(e,t,(0,J.A)((0,J.A)({},n),{},{constraint:s,unconstrainedGeometry:a,view:i})),e===this._stagedComputation&&this._updateStagedDimensionOffset(e)}_updateStagedDimensionOffset(e){if(null==e.geometry)return;e.geometry.directSegment.eval(.5,ut);const{state:t,renderCoordsHelper:i}=this.view,n=t.camera.computeScreenPixelSizeAt(ut);e.dimension.offset=50*n*i.unitInMeters}_computeConstraint(e){return function(e,t){if(W(e))return 2;if(!e.enabled)return null;const{geometry:i}=e;if(null==i||(0,M.q)(i.directSegment.startRenderSpace,i.directSegment.endRenderSpace))return null;const{camera:n}=t.state,a=V(C.rq.get(),i,t.renderCoordsHelper),s=B(C.rq.get(),i),o=(0,M.h)(C.rq.get(),a,(0,M.f)(s,a)),r=(0,M.e)(C.rq.get(),s,o),l=(0,M.m)(r),c=(0,M.m)(o),{startRenderSpace:u,endRenderSpace:d}=i.directSegment,p=Math.max(10*n.computeScreenPixelSizeAt(u),10*n.computeScreenPixelSizeAt(d))**2;return l<p?1:c<p?0:null}(function(e,t){return{enabled:t.effectiveFeatureEnabled,elevationAlignedStartPoint:e.elevationAlignedStartPoint,elevationAlignedEndPoint:e.elevationAlignedEndPoint,geometry:e.geometry}}(e,this._ensureSnappingManager().options),this.view)}_createOffsetManipulatorMaterial(e){return new ve.W({width:1,renderOccluded:4,writeDepth:!1,hasPolygonOffset:!0,isDecoration:!0},e.state.isGlobal)}get test(){}};(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],ct.prototype,"analysis",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],ct.prototype,"analysisViewData",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],ct.prototype,"manipulators",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],ct.prototype,"parentTool",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],ct.prototype,"view",void 0),(0,n.Cg)([(0,l.MZ)({readOnly:!0})],ct.prototype,"updating",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"firstGrabbedManipulator",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"hasGrabbedManipulators",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"snappingOptions",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"_stagedDimension",void 0),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"_snappingManager",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"_activeComputation",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"_stagedComputation",null),(0,n.Cg)([(0,l.MZ)()],ct.prototype,"_snappingManagerResult",void 0),ct=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.Dimension.LengthDimensionSubTool")],ct);const ut=(0,w.vt)();var dt=i(5109),pt=i(82307),ht=i(46576),mt=i(11500);let gt=class extends dt.k{constructor(e){super(e),this.automaticManipulatorSelection=!1,this.removeIncompleteOnCancel=!1,this._placementMode=vt,this._pointerMoveTimerMs=2500,this._prevPointerMoveTimeout=null}initialize(){this._intersector=(0,ht.T)(this.view.state.viewingMode),this._lengthDimensionSubTool=new ct({analysis:this.analysis,analysisViewData:this.analysisViewData,manipulators:this.manipulators,parentTool:this,view:this.view}),this.addHandles([(0,a.DQ)(this._lengthDimensionSubTool),(0,a.hA)(()=>this._clearPointerMoveTimeout()),(0,p.z7)(()=>"created"===this.state,()=>this.finishToolCreation(),p.pc),(0,p.z7)(()=>this.firstGrabbedManipulator,e=>{this.selectedDimension=e.metadata},p.pc),(0,p.wB)(()=>this.selectedDimension,()=>this._resetPointerMoveTimeout(),p.pc)])}get state(){return this.analysis.dimensions.some(e=>"length"===e.type)?null!=this._activeSubTool?"creating":"created":"ready"}get updating(){return this._lengthDimensionSubTool.updating}get cursor(){return this.active?"crosshair":null}get selectedDimension(){return this.analysisViewData.selectedDimension}set selectedDimension(e){this.analysisViewData.selectedDimension=e}place(e){this.selectedDimension=null,this._placementMode=e}onInputEvent(e){switch(e.type){case"immediate-click":this._clickHandler(e);break;case"immediate-double-click":this._doubleClickHandler(e);break;case"pointer-move":this._pointerMoveHandler(e);break;case"key-down":this._keyDownHandler(e)}}onActivate(){this._placementMode=vt,this._activeSubTool=this._lengthDimensionSubTool}onDeactivate(){var e;null!==(e=this._activeSubTool)&&void 0!==e&&e.onDeactivate(),this._activeSubTool=null}onShow(){this._resetPointerMoveTimeout()}onManipulatorSelectionChanged(){this._lengthDimensionSubTool.onManipulatorSelectionChanged()}onHide(){this.selectedDimension=null}_clickHandler(e){if(this.hasFocusedManipulators)return void e.stopPropagation();if(null==this._activeSubTool)return;const t=this._intersectScreen(e);null!=t&&(this.selectedDimension=this._activeSubTool.onClick({mapPoint:t,pointerType:e.pointerType}),this.selectedDimension&&"single"===this._placementMode&&(this.view.activeTool=null),e.stopPropagation())}_doubleClickHandler(e){this.active&&(this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(this._resetPointerMoveTimeout(),null==this._activeSubTool)return;if(this.hasFocusedManipulators)return;const t=this._intersectScreen(e);null!=t&&this._activeSubTool.onPointerMove({mapPoint:t,pointerType:e.pointerType})}_keyDownHandler(e){var t,i;pt.NE.cancel===e.key?(null!==(t=this._activeSubTool)&&void 0!==t&&t.removeStaged()&&"multiple"===this._placementMode&&e.stopPropagation(),this.active||(this.selectedDimension=null)):pt.NE.delete.includes(e.key)&&(null!==(i=this._activeSubTool)&&void 0!==i&&i.removeStaged(),this._removeSelected())}_intersectScreen(e){const t=(0,mt.sC)(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(t,this._intersector);const i=this._intersector.results.min,n=C.rq.get();return i.getIntersectionPoint(n)?this.view.renderCoordsHelper.fromRenderCoords(n,new S.A({spatialReference:this.view.spatialReference})):null}_removeSelected(){null!=this.selectedDimension&&(this.analysis.dimensions.remove(this.selectedDimension),this.selectedDimension=null)}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=(0,r.xt)(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.manipulators.forEach(e=>e.manipulator.state|=ke),this._prevPointerMoveTimeout=Q.p.setTimeout(()=>{this.manipulators.forEach(e=>e.manipulator.state&=~ke)},this._pointerMoveTimerMs)}get test(){}};(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],gt.prototype,"view",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],gt.prototype,"analysis",void 0),(0,n.Cg)([(0,l.MZ)({readOnly:!0})],gt.prototype,"state",null),(0,n.Cg)([(0,l.MZ)({readOnly:!0})],gt.prototype,"updating",null),(0,n.Cg)([(0,l.MZ)({readOnly:!0})],gt.prototype,"cursor",null),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],gt.prototype,"analysisViewData",void 0),(0,n.Cg)([(0,l.MZ)()],gt.prototype,"selectedDimension",null),(0,n.Cg)([(0,l.MZ)()],gt.prototype,"automaticManipulatorSelection",void 0),(0,n.Cg)([(0,l.MZ)()],gt.prototype,"_activeSubTool",void 0),(0,n.Cg)([(0,l.MZ)()],gt.prototype,"_lengthDimensionSubTool",void 0),(0,n.Cg)([(0,l.MZ)()],gt.prototype,"_placementMode",void 0),gt=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.Dimension.DimensionTool")],gt);const vt="multiple";i(11265);var ft=i(11113),_t=i(66747),yt=i(28608),Mt=i(32314),wt=i(70667),St=i(97349);class Ct extends Mt.X{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._renderOccluded=4,this._width=1,this._color=(0,yt.fA)(1,0,1,1),this._placement="end",this._markerPrimitive="arrow",this._material=t,this._hasExternalMaterial=null!=t,this.applyProperties(e)}setGeometryFromSegment(e,t){const i=e.endRenderSpace;this.transform=(0,_.kN)(Pt,i),this._normal=t;const{points:n}=e.createRenderGeometry(i,this.view.renderCoordsHelper);this.geometry=[n]}get renderOccluded(){var e,t;return null!==(e=null===(t=this._material)||void 0===t?void 0:t.parameters.renderOccluded)&&void 0!==e?e:this._renderOccluded}set renderOccluded(e){var t;this._renderOccluded=e,null===(t=this._material)||void 0===t||t.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get normal(){return this._normal}set normal(e){this._normal=e,this.recreateGeometry()}get width(){var e,t;return null!==(e=null===(t=this._material)||void 0===t?void 0:t.parameters.width)&&void 0!==e?e:this._width}set width(e){var t;this._width=e,null===(t=this._material)||void 0===t||t.setParameters({width:e})}get color(){var e,t;return null!==(e=null===(t=this._material)||void 0===t?void 0:t.parameters.color)&&void 0!==e?e:this._color}set color(e){var t;this._color=(0,yt.o8)(e),null===(t=this._material)||void 0===t||t.setParameters({color:this._color})}get placement(){var e,t;return null!==(e=null===(t=this._material)||void 0===t?void 0:t.parameters.placement)&&void 0!==e?e:this._placement}set placement(e){var t;this._placement=e,null===(t=this._material)||void 0===t||t.setParameters({placement:this._placement})}get markerPrimitive(){var e,t;return null!==(e=null===(t=this._material)||void 0===t?void 0:t.parameters.markerPrimitive)&&void 0!==e?e:this._markerPrimitive}set markerPrimitive(e){var t;this._markerPrimitive=e,null===(t=this._material)||void 0===t||t.setParameters({markerPrimitive:e})}createExternalResources(){this._hasExternalMaterial||(this._material=new St.i({width:this._width,color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive,isDecoration:this.isDecoration},this.view.state.isGlobal))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(e){for(const t of(0,wt.zh)(this.geometry,this.normal)){const i=(0,wt.te)(this._material,t);e.addGeometry(i)}}forEachMaterial(e){this._hasExternalMaterial||e(this._material)}}const Pt=(0,y.vt)();class bt{set visible(e){for(const t of this._visualElements.values())t.attached=e}constructor(e){this.destroyed=!1,this._handles=new Be.A,this._messages=null,this._labelSegment=new A.C;const{analysis:t,computation:i,view:n,messages:a,isDecoration:s}=e;this.analysis=t,this.computation=i,this.view=n,this._messages=a;const o=e.visible,r={view:n,attached:o,isDecoration:s},{fontSize:l,textColor:c,textBackgroundColor:u}=t.style;this._visualElements=new xt({marker:new Ct(r,e.markerMaterial),dimension:new Je.t(r,e.dimensionLineMaterial),startOffset:new Je.t(r,e.offsetLineMaterial),endOffset:new Je.t(r,e.offsetLineMaterial),dimensionSmall:new Je.t(r,e.smallDimensionLineMaterial),startOffsetSmall:new Je.t(r,e.smallOffsetLineMaterial),endOffsetSmall:new Je.t(r,e.smallOffsetLineMaterial),label:new _t.N({view:n,attached:o,distance:0,geometry:{type:"segment",sampleLocation:"center",segment:this._labelSegment,callout:!1},fontSize:(0,te.Lz)(l),textColor:c.clone(),backgroundColor:u.clone(),isDecoration:s})}),this._handles.add([(0,p.wB)(()=>i.geometry,e=>{this.updateCameraDependentElements(n.state.camera,e,t.style),null!=i.geometry&&this._updateLines(i.geometry)},(0,J.A)((0,J.A)({},p.Vh),{},{equals:qe.aI})),(0,p.wB)(()=>i.length,e=>this._updateLabelContent(e),p.Vh)])}destroy(){this.destroyed=!0,this._handles=(0,r.pR)(this._handles);for(const e of this._visualElements.values())e.destroy()}get testInfo(){}_updateLines(e){const t=Z(At,0,e.directSegment,e.dimensionSegment),i=Z(Ot,1,e.directSegment,e.dimensionSegment),n=this._visualElements;n.marker.setGeometryFromSegment(e.dimensionSegment,e.primaryOffsetAxis),n.dimension.setGeometryFromSegment(e.dimensionSegment),n.startOffset.setGeometryFromSegment(t),n.endOffset.setGeometryFromSegment(i),n.dimensionSmall.setGeometryFromSegment(e.dimensionSegment),n.startOffsetSmall.setGeometryFromSegment(t),n.endOffsetSmall.setGeometryFromSegment(i)}updateCameraDependentElements(e,t,i){const n=this._visualElements;if(null==t){for(const e of n.values())e.visible=!1;return}const a=e.computeScreenPixelSizeAt(t.dimensionSegment.eval(.5,Dt)),s=function(e,t){return(0,M.m)(q(Y,e))/t**2}(t,a),o=s<(2*(0,te.Lz)(i.lineSize))**2,r=!o;n.marker.visible=r,n.dimension.visible=r,n.startOffset.visible=r,n.endOffset.visible=r,n.dimensionSmall.visible=o,n.startOffsetSmall.visible=o,n.endOffsetSmall.visible=o;const l=5*(0,te.Lz)(i.fontSize),{label:c}=n;if(c.visible=s>=l**2,!c.visible)return;const{dimensionSegment:u,primaryOffsetAxis:d}=t,{offset:p}=this.computation.dimension,h=(Math.sign(p)>=0?1:-1)*function(e){return 1.5*(0,te.Lz)(e.fontSize)+20+(0,te.Lz)(e.lineSize/2)}(i)*a;(function(e,t,i,n){(0,M.c)(e.startRenderSpace,t.startRenderSpace,i,n),(0,M.c)(e.endRenderSpace,t.endRenderSpace,i,n)})(this._labelSegment,u,d,h),c.updateLabelPosition()}updateLabelStyle(e){const{label:t}=this._visualElements;t.fontSize=(0,te.Lz)(e.fontSize),t.textColor=e.textColor,t.backgroundColor=e.textBackgroundColor}updateUnitsMessages(e){this._messages=e;const{length:t}=this.computation;this._updateLabelContent(t)}_updateLabelContent(e){const{label:t}=this._visualElements;null!=e&&null!=this._messages?t.text=(0,ft.zJ)(this._messages,e,e.unit):t.text=""}}const At=new A.C,Ot=new A.C,Dt=(0,w.vt)();class xt{constructor(e){this.marker=e.marker,this.dimension=e.dimension,this.startOffset=e.startOffset,this.endOffset=e.endOffset,this.dimensionSmall=e.dimensionSmall,this.startOffsetSmall=e.startOffsetSmall,this.endOffsetSmall=e.endOffsetSmall,this.label=e.label}values(){return[this.marker,this.dimension,this.startOffset,this.endOffset,this.dimensionSmall,this.startOffsetSmall,this.endOffsetSmall,this.label]}}var Tt=i(38042),zt=i(63860);let Rt=class extends d.A{get analysis(){return this.analysisViewData.analysis}get visible(){return this.analysisViewData.visible}constructor(e){super(e),this.loadingMessages=!1,this._messages=null}initialize(){const e=this.isDecoration;this._markerMaterial=new St.i({width:1,anchor:1,color:ie.uY,placement:"begin-end",worldSpace:!0,hideOnShortSegments:!0,hasTip:!0,renderOccluded:4,markerPrimitive:"triangle",isDecoration:e},this.view.state.isGlobal),this._dimensionLineMaterial=new ve.W({width:1,color:ie.uY,renderOccluded:4,markerParameters:this._markerMaterial.parameters,isDecoration:e},this.view.state.isGlobal),this._offsetLineMaterial=new ve.W({width:1,color:ie.uY,renderOccluded:4,stipplePattern:(0,et.wk)(5),isDecoration:e},this.view.state.isGlobal),this._smallDimensionLineMaterial=new ve.W({width:1,color:ie.uY,renderOccluded:4,isDecoration:e},this.view.state.isGlobal),this._smallOffsetLineMaterial=new ve.W({width:1,color:ie.uY,renderOccluded:4,stipplePattern:(0,et.wk)(5),isDecoration:e},this.view.state.isGlobal);const t=(0,o.L)(()=>this.analysisViewData.computations,e=>{let{computation:t}=e;return this._createVisualization(t)});this._dimensionVisualizations=t,this.addHandles([(0,a.DQ)(t),(0,p.wB)(()=>$.A.toUnitRGBA(this.analysis.style.color),e=>{for(const t of this._lineMaterials())t.setParameters({color:e})},p.pc),(0,p.wB)(()=>this.analysis.style.lineSize,e=>{const t=(0,te.Lz)(e);this._markerMaterial.setParameters({width:.8*t}),this._dimensionLineMaterial.setParameters({width:t,markerParameters:this._markerMaterial.parameters});const i=Math.max(.25*t,1);this._offsetLineMaterial.setParameters({width:i})},p.pc),(0,p.wB)(()=>({camera:this.view.state.camera,style:Zt(this.analysis)}),e=>{let{camera:t,style:i}=e;for(const{visualization:n}of this._dimensionVisualizations)n.updateCameraDependentElements(t,n.computation.geometry,i),n.updateLabelStyle(i)}),(0,p.wB)(()=>this.visible,e=>{for(const{visualization:t}of this._dimensionVisualizations)t.visible=e})]),this.addHandles([(0,Tt.oQ)(()=>this._updateMessageBundle()),(0,p.z7)(()=>!this.loadingMessages,()=>{for(const{visualization:e}of this._dimensionVisualizations)e.updateUnitsMessages(this._messages)},p.OH)]),this._updateMessageBundle()}get testInfo(){}_createVisualization(e){const t=new bt({analysis:this.analysis,computation:e,view:this.view,visible:this.visible,markerMaterial:this._markerMaterial,dimensionLineMaterial:this._dimensionLineMaterial,offsetLineMaterial:this._offsetLineMaterial,smallDimensionLineMaterial:this._smallDimensionLineMaterial,smallOffsetLineMaterial:this._smallOffsetLineMaterial,messages:this._messages,isDecoration:this.isDecoration});return{visualization:t,remove:()=>t.destroy()}}_lineMaterials(){return[this._markerMaterial,this._dimensionLineMaterial,this._offsetLineMaterial,this._smallDimensionLineMaterial,this._smallOffsetLineMaterial]}async _updateMessageBundle(){this.loadingMessages=!0;try{this._messages=await(0,zt.ud)("esri/core/t9n/Units")}finally{this.loadingMessages=!1}}};function Zt(e){const{fontSize:t,lineSize:i,textColor:n,textBackgroundColor:a}=e.style;return{fontSize:t,lineSize:i,textBackgroundColor:a.clone(),textColor:n.clone()}}(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],Rt.prototype,"analysisViewData",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],Rt.prototype,"view",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0})],Rt.prototype,"isDecoration",void 0),(0,n.Cg)([(0,l.MZ)()],Rt.prototype,"analysis",null),(0,n.Cg)([(0,l.MZ)()],Rt.prototype,"visible",null),(0,n.Cg)([(0,l.MZ)()],Rt.prototype,"loadingMessages",void 0),Rt=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.Dimension.DimensionVisualization")],Rt);var Ht=i(53986);let It=class extends d.A{constructor(e){super(e),this.dimension=null,this.length=null}};(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],It.prototype,"dimension",void 0),(0,n.Cg)([(0,l.MZ)()],It.prototype,"length",void 0),It=(0,n.Cg)([(0,c.$)("esri.views.analysis.LengthDimensionResult")],It);const Lt=["dimension"];let kt=class extends d.A{constructor(e){super(e),this.geometry=null,this.unconstrainedGeometry=null,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}normalizeCtorArgs(e){const{dimension:t}=e,i=(0,Ht.A)(e,Lt);return(0,J.A)({result:new It({dimension:t})},i)}initialize(){this.addHandles([(0,p.wB)(()=>this.dimension.startPoint,e=>this.elevationAlignedStartPoint=this.projectAndAlignPoint(e),p.pc),(0,p.wB)(()=>this.dimension.endPoint,e=>this.elevationAlignedEndPoint=this.projectAndAlignPoint(e),p.pc)])}get dimension(){return this.result.dimension}get length(){return this.result.length}};(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],kt.prototype,"result",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],kt.prototype,"projectAndAlignPoint",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"dimension",null),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"length",null),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"geometry",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"unconstrainedGeometry",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"elevationAlignedStartPoint",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"elevationAlignedEndPoint",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"preConstraintProperties",void 0),(0,n.Cg)([(0,l.MZ)()],kt.prototype,"previousConstraint",void 0),kt=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.Dimension.LengthDimensionComputation")],kt);var Gt=i(17430),Et=i(10260),Nt=i(68655);let jt=class extends u.P{constructor(e){super(e),this.type="dimension-view-3d",this.analysis=null,this.tool=null,this.selectedDimension=null,this.userOperation=null,this._dimensionsToComputations=new Map,this._projectAndAlignPoint=null}initialize(){this._projectAndAlignPoint=e=>{if(null==e)return null;const{spatialReference:t,elevationProvider:i}=this.view,n=(0,Gt.B)(e,t,i);return null==n&&(0,Gt.V)(this.analysis,e.spatialReference,s.A.getLogger(this)),n};const e=(0,o.L)(()=>this.analysis.dimensions,e=>this._createComputation(e));this.computations=e,this.addHandles([(0,Et.Hd)(this,gt),(0,a.DQ)(e)]),this._analysisVisualization=new Rt({analysisViewData:this,view:this.view,isDecoration:!this.parent}),this.addResolvingPromise((0,Nt.f)().then(e=>{this._analysisController=new X({analysisViewData:this,view:this.view,automaticLengthMeasurementUtils:e})}))}destroy(){this.userOperation=(0,r.DC)(this.userOperation),(0,Et.aS)(this),this._analysisVisualization=(0,r.pR)(this._analysisVisualization)}get visible(){return super.visible}set visible(e){super.visible=e}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get updating(){var e,t;return null!==(e=null===(t=this._analysisVisualization)||void 0===t?void 0:t.loadingMessages)&&void 0!==e&&e}get results(){return this.analysis.dimensions.map(e=>this._dimensionsToComputations.get(e).result)}get selectedComputation(){const{selectedDimension:e}=this;return null==e?null:this._dimensionsToComputations.get(e)}get testInfo(){}async createLengthDimensions(e){this.selectedDimension=null,await(0,Et.ZX)(this,{placementOptions:e,onToolActivated:e=>e.place("multiple")})}place(e){return this.selectedDimension=null,(0,Et.ZX)(this,{placementOptions:e,onToolActivated:e=>e.place("single")})}_createComputation(e){const{_dimensionsToComputations:t}=this,i=new kt({dimension:e,projectAndAlignPoint:this._projectAndAlignPoint});return t.set(e,i),{computation:i,remove:()=>this._removeComputation(i)}}_removeComputation(e){const{dimension:t}=e;t===this.selectedDimension&&(this.selectedDimension=null),this._dimensionsToComputations.delete(t),e.destroy()}};(0,n.Cg)([(0,l.MZ)({readOnly:!0})],jt.prototype,"type",void 0),(0,n.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],jt.prototype,"analysis",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"tool",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"updating",null),(0,n.Cg)([(0,l.MZ)({readOnly:!0})],jt.prototype,"results",null),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"computations",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"selectedDimension",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"selectedComputation",null),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"userOperation",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"_analysisVisualization",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"_analysisController",void 0),(0,n.Cg)([(0,l.MZ)()],jt.prototype,"_dimensionsToComputations",void 0),jt=(0,n.Cg)([(0,c.$)("esri.views.3d.analysis.DimensionAnalysisView3D")],jt);const Vt=jt},85937:(e,t,i)=>{i.d(t,{I:()=>m});var n=i(89379),a=i(20664),s=i(9392),o=i(43047),r=i(55855),l=i(32314),c=i(49296),u=i(44815),d=i(67425);var p=i(72017),h=i(50115);class m extends l.X{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=(0,r.ci)([1,127/255,0,1]),this._size=11,this._outlineColor=(0,r.ci)([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){(0,o.a)(e,this._color)||((0,o.d)(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,o.a)(e,this._outlineColor)||((0,o.d)(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const e=this.vertices;if(null==e||0===e.length)return[];const t=function(e,t,i,n,a){const s=(0,u.jh)(3*e.length),o=(0,u.jh)(s.length);e.forEach((e,t)=>{s[3*t]=e[0],s[3*t+1]=e[1],s[3*t+2]=e.length>2?e[2]:0});const r=(0,d.au)(s,t,0,o,0,s,0,s.length/3,i,n,a),l=null!=r;return{numVertices:e.length,position:s,mapPositions:o,projectionSuccess:l,sampledElevation:r}}(e,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,c.F.fromElevationInfo(this.elevationInfo)),i=[],n=t.numVertices,s=t.position;for(let o=0;o<n;++o){const e=(0,a.j)(g,s[3*o],s[3*o+1],s[3*o+2]),t=v(this._vertexMaterial,.5,e),n=v(this._vertexOutlineMaterial,.5,e);i.push({vertexGeometry:t,vertexOutlineGeometry:n})}return i}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:i,vertexOutlineGeometry:n}of t)e.addGeometry(i),e.addGeometry(n)}createExternalResources(){this._vertexMaterial=new h.A((0,n.A)((0,n.A)({},this._vertexMaterialParameters),{},{writeDepth:!0,cullFace:2,screenSizeEnabled:!0})),this._vertexOutlineMaterial=new h.A((0,n.A)((0,n.A)({},this._vertexOutlineMaterialParameters),{},{forceTransparentMode:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1}))}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const g=(0,s.vt)();function v(e,t,i){return(0,p.CM)(e,t,16,16,{offset:i})}}}]);
//# sourceMappingURL=6609.81a9be51.chunk.js.map