{"version":3,"file":"static/js/7960.8a7237c5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/snapping/SnappingAlgorithm.js","../node_modules/@arcgis/core/views/interactive/snapping/LineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/ParallelLineSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/RightAngleTriangleSnapper.js","../node_modules/@arcgis/core/views/interactive/snapping/SelfSnappingEngine.js","../node_modules/@arcgis/core/views/support/angularMeasurementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{getMetersPerUnitForSR as e}from\"../../../core/unitUtils.js\";import{distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as i}from\"../sketch/normalizedPoint.js\";import{defaults as o}from\"./Settings.js\";import{squaredScreenDistance as h}from\"./snappingUtils.js\";import{vectorToScreenPoint as n}from\"../support/viewUtils.js\";class l{constructor(e,t){this.view=e,this.options=t,this.squaredShortLineThreshold=o.shortLineThreshold*o.shortLineThreshold}snap(e,t){return null!=t.vertexHandle?\"vertex\"!==t.vertexHandle.type?[]:this.snapExistingVertex(e,t):this.snapNewVertex(e,t)}edgeExceedsShortLineThreshold(e,t){return this.exceedsShortLineThreshold(s(e.leftVertex.pos,this.view,t),s(e.rightVertex.pos,this.view,t),t)}exceedsShortLineThreshold(e,t,{spatialReference:s}){return 0===this.squaredShortLineThreshold||h(n(t,s,r,this.view),n(e,s,r,this.view))>this.squaredShortLineThreshold}isVertical(r,s,{spatialReference:h}){const n=e(h);return t(i(r),i(s))*n<o.verticalLineThresholdMeters}squaredProximityThreshold(e){return\"touch\"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,r=e*t;return r*r}}export{l as SnappingAlgorithm};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclicalPI as e,cyclical2PI as t}from\"../../../core/Cyclical.js\";import{valueInUnit as s,createAngle as r}from\"../../../core/quantityUtils.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as o}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as n,markAsTarget as a,fromVec3 as l}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as p}from\"./SnappingAlgorithm.js\";import{isLine as h,editEdgeToSnappingEdge as c,squaredScreenDistance as d}from\"./snappingUtils.js\";import{LineSnappingCandidate as m}from\"./candidates/LineSnappingCandidate.js\";import{vectorToScreenPoint as g}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as f,pointFromDistanceAlongAzimuth as u}from\"../../support/angularMeasurementUtils.js\";import{projectPointToLineLike as x}from\"../../support/geometry3dUtils.js\";class S extends p{constructor(e,t,s){super(e,t),this._geodesicLengthMeasurementUtils=s}snapNewVertex(e,t){const s=t.editGeometryOperations.data.parts[0],r=s.segments.length,i=[];if(r<1)return i;const{spatialReference:n}=t,a=g(e,n,o,this.view),{view:l}=this,p=s.segments[r-1];let d=p;do{if(h(d)&&this.edgeExceedsShortLineThreshold(d,t)){const s=c(d,l,t);this._processCandidateProposal(s.left,s.right,e,a,t,i)}d=d.leftVertex.leftSegment}while(d&&d!==p);return i}snapExistingVertex(e,t){const s=[],r=t.vertexHandle,i=r.part;if(i.segments.length<2)return s;const{view:a}=this,{spatialReference:l}=t,p=g(e,l,o,a),d=r.leftSegment,m=r.rightSegment;h(d)&&h(m)&&this.edgeExceedsShortLineThreshold(d,t)&&this.edgeExceedsShortLineThreshold(m,t)&&this._processCandidateProposal(n(d.leftVertex.pos,a,t),n(m.rightVertex.pos,a,t),e,p,t,s);const f=i.segments[0];let u=f;do{if(h(u)&&u!==r.leftSegment&&u!==r.rightSegment&&this.edgeExceedsShortLineThreshold(u,t)){const r=c(u,a,t);this._processCandidateProposal(r.left,r.right,e,p,t,s)}u=u.rightVertex.rightSegment}while(u&&u!==f);return s}_processCandidateProposal(e,t,s,r,n,p){const{spatialReference:h,pointer:c}=n,f=i();j(f,e,t,s,n,this._geodesicLengthMeasurementUtils);const u=a(l(f));d(r,g(u,h,o,this.view))<this.squaredProximityThreshold(c)&&p.push(new m({lineStart:e,lineEnd:t,targetPoint:u,isDraped:\"on-the-ground\"===n.elevationInfo?.mode}))}}function j(e,t,s,r,i,o){v(e,t,s,r,i,o)||w(e,r,t,s)}function v(i,o,n,a,{spatialReference:l},p){const h=f(o,n,l,l);if(null==h)return!1;const c=f(n,a,l,l);if(null==c)return!1;const d=p.geodesicDistance(n,a,l);if(null==d)return!1;const m=Math.abs(e.shortestSignedDiff(h,c))>Math.PI/2?t.normalize(h+Math.PI):h;return u(i,n,l,s(d,\"meters\"),r(m,\"radians\",\"geographic\"),\"geodesic\"),i[2]=a[2],!0}function w(e,t,s,r){x(t,{start:s,end:r,type:1},e),e[2]=t[2]}export{S as LineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{squaredDistance as e}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as i,asVec2 as s,markAsTarget as n,fromValues as o}from\"../sketch/normalizedPoint.js\";import{defaults as l}from\"./Settings.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{isLine as c,editEdgeToSnappingEdge as h,squaredScreenDistance as p}from\"./snappingUtils.js\";import{ParallelLineSnappingCandidate as g}from\"./candidates/ParallelLineSnappingCandidate.js\";import{vectorToScreenPoint as m}from\"../support/viewUtils.js\";import{projectPointToLine as f}from\"../../support/geometry2dUtils.js\";class d extends a{snapNewVertex(e,t){const s=t.editGeometryOperations.data.parts[0],n=s.segments.length,o=s.vertices.length,l=[];if(n<2)return l;const{view:a}=this,p=m(e,t.spatialReference,r,a),g=s.vertices[0],f=s.vertices[o-1],d=c(f.leftSegment)?i(f.pos,a,t):null,u=c(g.rightSegment)?i(g.pos,a,t):null,v=s.segments[n-1];let x=v;do{if(c(x)&&this.edgeExceedsShortLineThreshold(x,t)){const r=h(x,a,t);d&&this._checkEdgeForParallelLines(r,d,e,p,t,l),u&&this._checkEdgeForParallelLines(r,u,e,p,t,l)}x=x.leftVertex.leftSegment}while(x&&x!==v);return l}snapExistingVertex(e,t){const s=[],n=t.vertexHandle,o=n.part;if(o.segments.length<3)return s;const{view:l}=this,a=m(e,t.spatialReference,r,l),p=n.leftSegment,g=n.rightSegment,f=o.vertices[0],d=i(f.pos,l,t),u=o.vertices.length,v=o.vertices[u-1],x=i(v.pos,l,t),L=o.segments[0];let S=L;do{if(c(S)&&S!==p&&S!==g&&this.edgeExceedsShortLineThreshold(S,t)){const r=h(S,l,t);c(p)&&this._checkEdgeForParallelLines(r,i(p.leftVertex.pos,l,t),e,a,t,s),c(g)&&this._checkEdgeForParallelLines(r,i(g.rightVertex.pos,l,t),e,a,t,s),n===f?this._checkEdgeForParallelLines(r,x,e,a,t,s):n===v&&this._checkEdgeForParallelLines(r,d,e,a,t,s)}S=S.rightVertex.rightSegment}while(S&&S!==L);return s}_checkEdgeForParallelLines(t,i,a,c,h,d){const x=t.left,L=t.right;if(f(v,s(i),s(x),s(L)),e(v,s(i))<l.parallelLineThreshold)return;f(v,s(a),s(x),s(L),s(i));const{spatialReference:S,pointer:P}=h,j=n(o(v[0],v[1],a[2]));if(p(c,m(j,S,r,this.view))<this.squaredProximityThreshold(P)){if(this.isVertical(j,i,h)||this.isVertical(x,L,h))return;if(u(t,d))return;d.push(new g({referenceLine:t,lineStart:i,targetPoint:j,isDraped:\"on-the-ground\"===h.elevationInfo?.mode}))}}}function u(t,r){const i=t.left,n=t.right;for(const o of r)if(f(v,s(n),s(o.constraint.start),s(o.constraint.end),s(i)),e(v,s(n))<l.parallelLineThreshold)return o.addReferenceLine(t),!0;return!1}const v=t();export{d as ParallelLineSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclical2PI as e}from\"../../../core/Cyclical.js\";import{createAngle as t,valueInUnit as r}from\"../../../core/quantityUtils.js\";import{subtract as i,dot as n,squaredLength as s,scaleAndAdd as o}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{c,e as p,j as g}from\"../../../chunks/vec32.js\";import{create as h}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{absoluteHeightElevationInfo as l}from\"../../../support/elevationInfoUtils.js\";import{VerticalHalfPlaneConstraint as m}from\"../sketch/constraints.js\";import{fromAnyMapPoint as f,asVec2 as d,markAsTarget as u,fromValues as x,fromVec3 as S}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as j}from\"./SnappingAlgorithm.js\";import{isLine as v,squaredScreenDistance as V}from\"./snappingUtils.js\";import{RightAngleSnappingCandidate as k}from\"./candidates/RightAngleSnappingCandidate.js\";import{vectorToScreenPoint as C}from\"../support/viewUtils.js\";import{radiansGeographicBetweenVec as _,pointFromDistanceAlongAzimuth as w}from\"../../support/angularMeasurementUtils.js\";class y extends j{constructor(e,t,r){super(e,t),this._geodesicLengthMeasurementUtils=r}snapNewVertex(e,t){const r=t.editGeometryOperations.data.parts[0],i=[];if(r.vertices.length<2)return i;const{view:n}=this,s=C(e,t.spatialReference,l,n),o=r.vertices.at(-1);v(o.leftSegment)&&this._checkForSnappingCandidate(1,i,o.leftSegment,o,o.leftSegment.leftVertex,e,s,t);const a=r.vertices[0];return v(a.rightSegment)&&this._checkForSnappingCandidate(2,i,a.rightSegment,a,a.rightSegment.rightVertex,e,s,t),i}snapExistingVertex(e,t){const r=[],i=t.vertexHandle;if(i.part.vertices.length<3)return r;const{view:n}=this,s=C(e,t.spatialReference,l,n),o=i.leftSegment,a=i.rightSegment;if(v(o?.leftVertex.leftSegment)){const i=o.leftVertex.leftSegment;this._checkForSnappingCandidate(3,r,i,i.rightVertex,i.leftVertex,e,s,t)}if(v(a)&&v(a.rightVertex.rightSegment)){const i=a.rightVertex.rightSegment;this._checkForSnappingCandidate(3,r,i,i.leftVertex,i.rightVertex,e,s,t)}return r}_checkForSnappingCandidate(e,t,r,i,n,s,o,a){if(!v(r)||!this.edgeExceedsShortLineThreshold(r,a))return;const c=this.view,p=f(i.pos,c,a),g=f(n.pos,c,a);F(P,g,p,s,a,this._geodesicLengthMeasurementUtils),this._checkForSnappingCandidateAlongProjectedRay(e,t,g,p,P,s,o,a)}_checkForSnappingCandidateAlongProjectedRay(e,t,r,a,p,g,f,j){const{spatialReference:v,pointer:_}=j,w=i(M,d(g),d(a)),y=n(p,w)/s(p),F=o(M,d(a),p,y),R=u(x(F[0],F[1],g[2]));if(V(f,C(R,v,l,this.view))>this.squaredProximityThreshold(_)||this.isVertical(R,a,j)||this.isVertical(a,r,j))return;const U=c(h(),a,p,Math.sign(y));t.push(new k({targetPoint:R,constraint:new m(a,S(U)),previousVertex:r,otherVertex:a,otherVertexType:1,selfSnappingType:e,isDraped:\"on-the-ground\"===j.elevationInfo?.mode}))}}function F(e,t,r,i,n,s){R(e,t,r,i,n,s)||U(e,t,r)}function R(i,n,s,o,{spatialReference:a},c){const g=_(n,s,a,a);if(null==g)return!1;const l=_(s,o,a,a);if(null==l)return!1;const m=Math.sign(e.shortestSignedDiff(g,l))*Math.PI*.5,f=t(g+m,\"radians\",\"geographic\"),d=h(),u=c.geodesicDistance(s,o,a);return null!=u&&(w(d,s,a,r(u,\"meters\"),f,\"geodesic\"),p(i,d,s),!0)}function U(e,t,r){const n=i(M,d(r),d(t));g(e,n[1],-n[0],0)}const M=a(),P=h();export{y as RightAngleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{lerp as e,distance as t}from\"../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{absoluteHeightElevationInfo as r}from\"../../../support/elevationInfoUtils.js\";import{fromAnyMapPoint as s,asVec2 as o,markAsTarget as n,fromValues as p}from\"../sketch/normalizedPoint.js\";import{SnappingAlgorithm as a}from\"./SnappingAlgorithm.js\";import{squaredScreenDistance as l}from\"./snappingUtils.js\";import{RightAngleTriangleSnappingCandidate as m}from\"./candidates/RightAngleTriangleSnappingCandidate.js\";import{vectorToScreenPoint as g}from\"../support/viewUtils.js\";import{projectPointToCircle as d}from\"../../support/geometry2dUtils.js\";class h extends a{snapNewVertex(e,t){const i=t.editGeometryOperations.data.parts[0],r=[],o=i.vertices.length;if(\"polygon\"!==t.editGeometryOperations.data.type||o<2)return r;const{view:n}=this,p=i.vertices[0],a=i.vertices[o-1];if(a.leftSegment&&\"line\"!==a.leftSegment.type||a.rightSegment&&\"line\"!==a.rightSegment.type)return r;const l=s(p.pos,n,t),m=s(a.pos,n,t);return this._processCandidateProposal(l,m,e,t,r),r}snapExistingVertex(e,t){const i=[],r=t.vertexHandle,o=r.part;if(o.segments.length<2)return i;if(\"polyline\"===t.editGeometryOperations.data.type&&(0===r.index||r.index===o.vertices.length-1))return i;if(\"line\"!==r.leftSegment?.type||\"line\"!==r.rightSegment?.type)return i;const{view:n}=this,p=s(r.leftSegment.leftVertex.pos,n,t),a=s(r.rightSegment.rightVertex.pos,n,t);return this._processCandidateProposal(p,a,e,t,i),i}_processCandidateProposal(i,s,a,h,c){if(!this.exceedsShortLineThreshold(i,s,h))return;const u=e(f,o(i),o(s),.5),v=.5*t(o(i),o(s)),x=d(f,o(a),u,v),y=n(p(x[0],x[1],a[2])),{spatialReference:S,pointer:j}=h,w=g(a,S,r,this.view);if(l(w,g(y,S,r,this.view))<this.squaredProximityThreshold(j)){if(this.isVertical(i,y,h)||this.isVertical(y,s,h))return;c.push(new m({targetPoint:y,point1:i,point2:s,isDraped:\"on-the-ground\"===h.elevationInfo?.mode}))}}}const f=i();export{h as RightAngleTriangleSnapper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import t from\"../../../core/Accessor.js\";import o from\"../../../core/Collection.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LineSnapper as r}from\"./LineSnapper.js\";import{ParallelLineSnapper as n}from\"./ParallelLineSnapper.js\";import{RightAngleSnapper as p}from\"./RightAngleSnapper.js\";import{RightAngleTriangleSnapper as a}from\"./RightAngleTriangleSnapper.js\";import{sortCandidatesInPlace as c}from\"./snappingUtils.js\";let m=class extends t{constructor(s){super(s),this.updating=!1,this._snappers=new o,this._domain=2}initialize(){this._snappers.push(new n(this.view,this.options),new r(this.view,this.options,this.geodesicLengthMeasurementUtils),new p(this.view,this.options,this.geodesicLengthMeasurementUtils),new a(this.view,this.options))}set options(s){this._set(\"options\",s);for(const t of this._snappers)t.options=s}async fetchCandidates(s,t,o){if(!(t&this._domain&&this.options.effectiveSelfEnabled))return[];const e=[];for(const i of this._snappers.items)for(const t of i.snap(s,o))e.push(t);return c(s,e),e}};s([e({readOnly:!0})],m.prototype,\"updating\",void 0),s([e({constructOnly:!0})],m.prototype,\"view\",void 0),s([e({constructOnly:!0})],m.prototype,\"geodesicLengthMeasurementUtils\",void 0),s([e()],m.prototype,\"options\",null),m=s([i(\"esri.views.interactive.snapping.SelfSnappingEngine\")],m);export{m as SelfSnappingEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{cyclicalDegrees as e,Cyclical as r}from\"../../core/Cyclical.js\";import{createAngle as t,convertRotationType as o}from\"../../core/quantityUtils.js\";import{convertUnit as i}from\"../../core/unitUtils.js\";import{angle as n}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as s,UNIT_Y as a}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{q as c,d as l,j as u}from\"../../chunks/vec32.js\";import{create as f}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectVectorToVector as m}from\"../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as g,inverseGeodeticSolver as p,InverseGeodeticSolverResult as d,directGeodeticSolver as h}from\"../../geometry/support/geodesicUtils.js\";import{equals as v}from\"../../geometry/support/spatialReferenceUtils.js\";function j(e,r){if(null==e||null==r)return;const o=b(e,r);return null!=o?t(o,\"radians\",\"geographic\"):void 0}const b=(()=>{const e=f(),r=f();return(t,o)=>(u(e,t.x,t.y,t.z??0),u(r,o.x,o.y,o.z??0),y(e,r,t.spatialReference,o.spatialReference))})(),y=(()=>{const e=s(),r=f(),t=f();return(o,s,l,u)=>{if(c(o,s))return;const f=g(l),d=g(u);if(f&&d&&v(f,d)&&m(o,l,r,f)&&m(s,u,t,d)){const{azimuth:e}=p(k,r,t,f);return null!=e?i(e,\"degrees\",\"radians\"):void 0}e[0]=s[0]-o[0],e[1]=s[1]-o[1];let h=n(a,e);return e[0]<0&&(h=C-h),h}})();function x(e,r,t,o=\"absolute\"){if(r&&t)switch(o){case\"absolute\":return j(r,t);case\"relative\":return w(z(e,r,t),\"relative\");case\"relative-bilateral\":return w(z(e,r,t),\"relative-bilateral\")}}function z(e,r,o){if(!e||!r||!o)return;const i=b(e,r),n=b(r,o);return null!=i&&null!=n?t(n-i,\"radians\",\"geographic\"):void 0}function w(e,r){if(null!=e)switch(r){case\"absolute\":return M(e);case\"relative\":{const r=R(e);let o=P.normalize(r,0,!0);return-180===o&&(o=180),t(o,\"degrees\",\"geographic\")}case\"relative-bilateral\":{const r=R(e),o=Math.abs(P.normalize(r,0,!0));return t(o,\"degrees\",\"geographic\")}}}function M(e){const r=R(e),o=I.normalize(r,0,!0);return t(o,\"degrees\",\"geographic\")}function T(e,r,n){let s=i(e.value,e.unit,\"degrees\");return s=o(s,e.rotationType,n),s=i(s,\"degrees\",r),t(s,r,n)}const U=(()=>{const e=f();return(r,t,n,s,a,c=\"geodesic\")=>{l(e,t);const f=R(a);if(\"geodesic\"===c){const o=g(n);if(o&&m(e,n,e,o))return h(r,e,f,s,o),r[2]=t[2],!!m(r,o,r,n)}const p=o(f,\"geographic\",\"arithmetic\"),d=i(p,\"degrees\",\"radians\"),v=t[0]+s*Math.cos(d),j=t[1]+s*Math.sin(d),b=t[2];return u(r,v,j,b),!0}})();function R(e){if(null!=e)return o(V(e),e.rotationType,\"geographic\")}function q(e){if(null!=e)return o(V(e),e.rotationType,\"arithmetic\")}function V(e){return i(e.value,e.unit,\"degrees\")}const k=new d,C=2*Math.PI,I=e,P=new r(-180,180);export{T as convertAngle,j as directionBetweenPoints,x as directionForVertices,q as getDegreesArithmetic,R as getDegreesGeographic,w as getNormalizedDirection,M as getNormalizedGeographicOrientation,U as pointFromDistanceAlongAzimuth,y as radiansGeographicBetweenVec};\n"],"names":["l","constructor","e","t","this","view","options","squaredShortLineThreshold","o","shortLineThreshold","snap","vertexHandle","type","snapExistingVertex","snapNewVertex","edgeExceedsShortLineThreshold","exceedsShortLineThreshold","s","leftVertex","pos","rightVertex","_ref","spatialReference","h","n","r","isVertical","_ref2","i","verticalLineThresholdMeters","squaredProximityThreshold","_squaredTouchProximityThreshold","_squaredMouseProximityThreshold","distance","touchSensitivityMultiplier","S","p","super","_geodesicLengthMeasurementUtils","editGeometryOperations","data","parts","segments","length","a","g","d","c","_processCandidateProposal","left","right","leftSegment","part","m","rightSegment","f","u","_n$elevationInfo","pointer","geodesicDistance","Math","abs","shortestSignedDiff","PI","normalize","v","x","start","end","w","j","push","lineStart","lineEnd","targetPoint","isDraped","elevationInfo","mode","vertices","_checkEdgeForParallelLines","L","parallelLineThreshold","P","_h$elevationInfo","constraint","addReferenceLine","referenceLine","y","C","at","_checkForSnappingCandidate","_","sign","R","M","U","F","_checkForSnappingCandidateAlongProjectedRay","_j$elevationInfo","V","k","previousVertex","otherVertex","otherVertexType","selfSnappingType","_r$leftSegment","_r$rightSegment","index","point1","point2","updating","_snappers","_domain","initialize","geodesicLengthMeasurementUtils","_set","fetchCandidates","effectiveSelfEnabled","items","readOnly","prototype","constructOnly","b","_t$z","_o$z","z","azimuth","arguments","undefined","I","cos","sin","rotationType","q","value","unit"],"sourceRoot":""}