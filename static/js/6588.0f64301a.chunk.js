"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[6588],{5512:(e,t,i)=>{i.d(t,{Am:()=>R,Gk:()=>y,Ku:()=>w,S3:()=>x,fL:()=>F,em:()=>P,LJ:()=>M,Y3:()=>b,dy:()=>V,qP:()=>A,fr:()=>C,Hw:()=>T,uf:()=>k});var o=i(89379),r=i(24648),n=i(69077),s=i(6326),l=i(91967),a=i(49723),u=i(46053),c=(i(81806),i(76460),i(47249),i(87990));let h=class extends l.A{constructor(e){super(e),this.actual=null,this.lockable=!0,this.id=(0,a.lk)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(e){this.lockable&&this._set("committed",e)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(e){this.inputValue=e,this.invalid=!1}onCommit(e,t,i){this.lockable?this._onCommitLockable(e,i):this._onCommitNonLockable(i),this.invalid&&"commit-and-exit"===e||i.onCommit(t,e)}_onCommitLockable(e,t){const{inputValue:i,locked:o}=this;o&&d(i)?this.unlock():("commit-and-exit"===e&&!o||null!=i)&&this._parseInputAndLock(t)}_onCommitNonLockable(e){const{inputValue:t}=this;d(t)?this.lockable?this.setActual(null):this.clearInputValue():null!=t&&this._parseInputAndSetActual(e)}applyValue(e){this.lockable?this.lock(e):this.setActual(e)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(e){this.actual=e,this.clearInputValue()}lock(e){this.lockable&&(this.committed=null!==e&&void 0!==e?e:this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(e){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(e))}getSuffix(e){const{suffix:t}=this;return"function"==typeof t?t(e):t}getFormattedValue(e){const{actual:t,committed:i,format:o}=this;return null!=i?o(i,e):null!=t?o(t,e):null}getRawDisplayValue(e){const{actual:t,committed:i,inputValue:o}=this;return null!=o?o:this.lockable&&null!=i?this.formatForInputMode(i,e):null!=t?this.formatForInputMode(t,e):null}_parseInputAndSetActual(e){const{inputValue:t}=this;if(null==t||d(t))return this.setActual(null);const i=this.parse(t,e);null!=i?this.setActual(i):this.invalid=!0}_parseInputAndLock(e){const{inputValue:t,actual:i}=this;if(d(t))return this.unlock();if(null==t)return this.lock(i);const o=this.parse(t,e);null!=o?this.lock(o):this.invalid=!0}};function d(e){return null!=e&&""===e.trim()}(0,s.Cg)([(0,u.MZ)()],h.prototype,"actual",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"committed",null),(0,s.Cg)([(0,u.MZ)()],h.prototype,"dirty",null),(0,s.Cg)([(0,u.MZ)()],h.prototype,"format",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"formatForInputMode",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"lockable",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"locked",null),(0,s.Cg)([(0,u.MZ)()],h.prototype,"id",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"inputValue",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"name",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"parse",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"readOnly",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"suffix",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"title",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"visible",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"invalid",void 0),(0,s.Cg)([(0,u.MZ)()],h.prototype,"unlockOnVertexPlacement",void 0),h=(0,s.Cg)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipField")],h);let p=class extends h{constructor(e){super(e),this.showAsZ=!1}normalizeCtorArgs(e){const t=e=>e.inputUnitInfos.verticalLength.unit;return(0,o.A)({name:"elevation",actual:r.r7,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(e,t(i))}),format:(e,t)=>t.formatters.verticalLength(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.verticalLength.abbreviation,title:e=>e.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1},e)}};(0,s.Cg)([(0,u.MZ)()],p.prototype,"showAsZ",void 0),p=(0,s.Cg)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],p);var g=i(11113),m=i(89646);let v=class extends h{constructor(e){super(e),this.precision=1}normalizeCtorArgs(e){return(0,o.A)({name:"orientation",actual:null,parse:(0,n.hw)({createQuantity:(e,t)=>(0,r.Wq)(e,(e=>e.inputUnitInfos.angle.unit)(t),"geographic"),sanitize:n.D5}),format:e=>{const t=(0,m.P1)(e);return(0,g.Nk)(t,"geographic",this.precision)},formatForInputMode:(e,t)=>{const i=(0,m.P1)(e);return t.formatters.scalar(i)},suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.orientation},e)}};(0,s.Cg)([(0,u.MZ)()],v.prototype,"precision",void 0),v=(0,s.Cg)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],v);let f=class extends h{constructor(e){super(e),this.precision=null}normalizeCtorArgs(e){const t=e=>e.inputUnitInfos.length.unit;return(0,o.A)({name:"size",actual:null,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(e,t(i))}),format:(e,t)=>t.formatters.length(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.length.abbreviation,title:e=>e.messages.sketch.size},e)}};function y(e){const t=e=>e.inputUnitInfos.angle.unit,i=e=>e.sketchOptions.values.effectiveDirectionMode;return new h((0,o.A)({name:"direction",actual:r.IV,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.Wq)(e,t(i),"geographic"),sanitize:n.D5}),format:(e,t)=>{const o=i(t),r=(0,m.jQ)(e,o);switch(o){case"absolute":return t.formatters.direction(r);case"relative":return t.formatters.directionRelative(r);case"relative-bilateral":return t.formatters.directionRelativeBilateral(r)}},formatForInputMode:(e,o)=>{const n=(0,m.jQ)(e,i(o));return o.formatters.scalar((0,r.kM)(n,t(o)))},suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>{const t=i(e),{absolute:o,relative:r}=e.messages.sketch.direction;switch(t){case"absolute":return o;case"relative":case"relative-bilateral":return r}}},e))}function _(e){const t=e=>e.inputUnitInfos.length.unit;return new h((0,o.A)({name:"distance",actual:r.r7,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(Math.max(e,0),t(i))}),format:(e,t)=>t.formatters.length(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.length.abbreviation,title:e=>e.messages.sketch.distance},e))}function C(e){return _((0,o.A)({format:(e,t)=>t.formatters.totalLength(e),title:e=>e.messages.sketch.totalLength,readOnly:!0},e))}function w(e){return _((0,o.A)({},e))}function b(e){return _((0,o.A)((0,o.A)({},e),{},{parse:(0,n.hw)({createQuantity:(e,t)=>(0,r.d_)(e,(e=>e.inputUnitInfos.length.unit)(t))}),format:(e,t)=>t.formatters.lengthRelative(e)}))}function x(e){return new p(e)}function M(e){return new v(e)}function A(e){return new f(e)}function V(e){return S("scale",(0,o.A)({name:"scale",actual:null,parse:(0,n.hw)({createQuantity:e=>(0,r.LF)(Math.abs(e))})},e))}function R(e){const t=e=>e.inputUnitInfos.area.unit;return new h((0,o.A)({name:"area",actual:r.iT,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.gT)(e,t(i))}),format:(e,t)=>t.formatters.area(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.area.abbreviation,title:e=>e.messages.sketch.area,readOnly:!0},e))}function P(e){return new h((0,o.A)({name:"x",actual:r.IV,parse:n.L5,format:(e,t)=>t.formatters.longitudeDecimalDegrees(e),formatForInputMode:e=>(0,n.zX)(e),suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.longitude},e))}function F(e){return new h((0,o.A)({name:"y",actual:r.IV,parse:n.A3,format:(e,t)=>t.formatters.latitudeDecimalDegrees(e),formatForInputMode:e=>(0,n.oZ)(e),suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.latitude},e))}function T(e){return S("x",(0,o.A)({name:"x"},e))}function k(e){return S("y",(0,o.A)({name:"y"},e))}function S(e,t){return new h((0,o.A)({actual:(0,r.LF)(0),parse:(0,n.hw)({createQuantity:e=>(0,r.LF)(e)}),format:(e,t)=>t.formatters.scalar(e),formatForInputMode:(e,t)=>t.formatters.scalar(e),title:t=>t.messages.sketch[e]},t))}(0,s.Cg)([(0,u.MZ)()],f.prototype,"precision",void 0),f=(0,s.Cg)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],f)},7947:(e,t,i)=>{i.d(t,{AA:()=>_,L2:()=>x,PW:()=>b,U0:()=>C,iv:()=>M,mg:()=>V,ov:()=>A,xk:()=>P,z7:()=>R});var o=i(89379),r=i(76931),n=i(72745),s=i(20664),l=i(9392),a=i(19247),u=i(56611),c=i(13927),h=i(95925),d=i(96190),p=i(75762),g=i(12482),m=i(37431),v=i(96342),f=i(97974),y=i(17046);function _(e,t){return w(e,()=>t)}function C(e){return w(e,e=>e.plane)}function w(e,t){const i=(0,l.vt)(),n=(0,l.vt)();let s=!1;return l=>{const a=t(l);if("start"===l.action){const t=(0,r.WA)(l.screenStart,(0,r.PR)(p.oG.get())),o=(0,m.Z4)(e.state.camera,t,S);null!=o&&(s=(0,c.Ui)(a,o,i))}if(!s)return null;const u=(0,r.WA)(l.screenEnd,(0,r.PR)(p.oG.get())),h=(0,m.Z4)(e.state.camera,u,S);return null==h?null:(0,c.Ui)(a,h,n)?(0,o.A)((0,o.A)({},l),{},{renderStart:i,renderEnd:n,plane:a,ray:h}):null}}function b(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=null;return a=>{if("start"===a.action&&(l=e.sceneIntersectionHelper.intersectElevationFromScreen((0,r.gs)(a.screenStart.x,a.screenStart.y),t,i,s),null!=l&&null!=n&&!(0,u.projectPoint)(l,l,n)))return null;if(null==l)return null;const c=e.sceneIntersectionHelper.intersectElevationFromScreen((0,r.gs)(a.screenEnd.x,a.screenEnd.y),t,i,s);return null==c||null!=n&&!(0,u.projectPoint)(c,c,n)?null:(0,o.A)((0,o.A)({},a),{},{mapStart:l,mapEnd:c})}}(e,i,(0,g.id)(t,e,i),n,s)}function x(e,t,i,o){const r=i.toMap(e.screenStart);return null!=r?b(t,r,i.elevationInfo,o):null}function M(e,t,i){let o=null;const r=new y.rh;return r.next(_(e,function(e,t){const i=T,o=k,r=(0,c.vt)();e.renderCoordsHelper.worldUpAtPosition(t,i);const n=(0,s.i)((0,c.Qj)(r),i,(0,s.e)(o,t,e.state.camera.eye));return(0,s.i)(n,n,i),(0,c.O_)(t,n,r)}(e,t))).next(function(e,t){const i=(0,l.vt)(),o=(0,s.b)(t);e.renderCoordsHelper.worldUpAtPosition(t,i);const r=(0,l.vt)(),n=(0,l.vt)(),a=r=>((0,s.e)(r,r,t),(0,d._I)(i,r,r),"global"===e.viewingMode&&(0,s.b)(r)*Math.sign((0,s.f)(i,r))<.001-o&&(0,s.e)(r,(0,s.h)(r,i,.001),t),(0,s.g)(r,r,t),r);return e=>(e.renderStart=a((0,s.d)(r,e.renderStart)),e.renderEnd=a((0,s.d)(n,e.renderEnd)),e)}(e,t)).next(V(e,i)).next(e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,o=e}),e=>(o=null,r.execute(e),o)}function A(e,t){const i=i=>{const o=(0,r.WA)(i,(0,r.PR)(F)),n=(0,m.Z4)(e.state.camera,o,S);if(null==n)return null;const s=(0,h.Zb)(t,n,T,k);return null===s||void 0===s?void 0:s[0]};return e=>{const t=i(e.screenStart);if(null==t)return null;const r=i(e.screenEnd);return null==r?null:(0,o.A)((0,o.A)({},e),{},{renderStart:t,renderEnd:r})}}function V(e,t){const i=e.renderCoordsHelper;return e=>{const r=i.fromRenderCoords(e.renderStart,new a.A({spatialReference:t})),n=i.fromRenderCoords(e.renderEnd,new a.A({spatialReference:t}));return null!=r&&null!=n?(0,o.A)((0,o.A)({},e),{},{mapStart:r,mapEnd:n}):null}}function R(e){let t=null;return i=>{switch(i.action){case"start":t=e.disableDisplay();break;case"end":case"cancel":null!=t&&(t.remove(),t=null)}return i}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const i=new v.n(e.state.viewingMode);i.options.selectionMode=!0,i.options.store=0,i.options.hud=!1;const n=(0,r.gs)(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=(0,l.vt)(),c=null!==t&&void 0!==t?t:e.spatialReference,h=t=>{e.map.ground&&e.map.ground.opacity<1?s.exclude.add(f.fo):s.exclude.delete(f.fo),e.sceneIntersectionHelper.intersectIntersectorScreen((0,r.WA)(t,n),i,s);const o=i.results.min;let l;if(o.getIntersectionPoint(u))l=7===o.intersector?0:1;else{if(!i.results.ground.getIntersectionPoint(u))return null;l=0}return{location:e.renderCoordsHelper.fromRenderCoords(u,new a.A({spatialReference:c})),surfaceType:l}};let d;return e=>{if("start"===e.action){const t=h(e.screenStart);d=null!=t?t.location:null}if(null==d)return null;const t=h(e.screenEnd);return null!=(null===t||void 0===t?void 0:t.location)?(0,o.A)((0,o.A)({},e),{},{mapStart:d,mapEnd:t.location,surfaceType:t.surfaceType}):null}}const F=(0,n.vt)(),T=(0,l.vt)(),k=(0,l.vt)(),S=(0,h.vt)()},10760:(e,t,i)=>{i.d(t,{h:()=>n});let o=e=>({vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),r=(e,t,i)=>{for(let n=0,s=t.length;n<s;n++){let s=t[n];Array.isArray(s)?r(e,s,i):null!=s&&!1!==s&&("string"==typeof s&&(s=o(s)),i.push(s))}};function n(e,t,i){if(Array.isArray(t))i=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||i&&("string"==typeof i||i.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let o,n;return i&&1===i.length&&"string"==typeof i[0]?o=i[0]:i&&(n=[],r(e,i,n),0===n.length&&(n=void 0)),{vnodeSelector:e,properties:t,children:n,text:""===o?void 0:o,domNode:null}}},28048:(e,t,i)=>{i.d(t,{A:()=>c});var o=i(6326),r=i(69539),n=i(91967),s=i(46053),l=(i(81806),i(76460),i(47249),i(87990)),a=(i(27347),i(10760));i(48396);const u={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let c=class extends n.A{get position(){return[this.x,this.y]}set position(e){this._set("x",e[0]),this._set("y",e[1])}get _textShadowColor(){const{textColor:e,backgroundColor:t}=this,i=t.clone();return i.a*=e.a,i}get _textShadow(){const e=this._textShadowColor.toCss(!0);return"0 0 ".concat(this._textShadowSize,"px ").concat(e)}get padding(){return.5*this.fontSize}get borderRadius(){return this.padding}set borderRadius(e){this._overrideIfSome("borderRadius",e)}constructor(e){super(e),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new r.A([0,0,0,.6]),this.textColor=new r.A([255,255,255]),this._textShadowSize=1}render(){return(0,a.h)("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this.borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(e){if(!this.visible)return;const t=e.font.replace(/^(.*?)px/,"");e.font="".concat(this.fontSize,"px ").concat(t);const{padding:i,borderRadius:o}=this,r=e.measureText(this.text).width,n=""!==this.text?this.fontSize:0,s=h[this.anchor];e.textAlign="center",e.textBaseline="middle";const l=r+2*i,a=n+2*i,u=this.x+s.x*l,c=this.y+s.y*a;this._roundedRect(e,u,c,l,a,o),e.fillStyle=this.backgroundColor.toCss(!0),e.fill();const d=this.x+(s.x+.5)*l,p=this.y+(s.y+.5)*a;this._renderTextShadow(e,this.text,d,p),e.fillStyle=this.textColor.toCss(!0),e.fillText(this.text,d,p)}_renderTextShadow(e,t,i,o){e.lineJoin="miter",e.fillStyle="rgba(".concat(this._textShadowColor.r,", ").concat(this._textShadowColor.g,", ").concat(this._textShadowColor.b,", ").concat(1/d.length,")");const r=this._textShadowSize;for(const[n,s]of d)e.fillText(t,i+r*n,o+r*s)}_roundedRect(e,t,i,o,r,n){n=Math.min(n,r/2,o/2),e.beginPath(),e.moveTo(t,i+n),e.arcTo(t,i,t+n,i,n),e.lineTo(t+o-n,i),e.arcTo(t+o,i,t+o,i+n,n),e.lineTo(t+o,i+r-n),e.arcTo(t+o,i+r,t+o-n,i+r,n),e.lineTo(t+n,i+r),e.arcTo(t,i+r,t,i+r-n,n),e.closePath()}_cssClasses(){const e={"esri-text-overlay-item":!0};let t;for(t in u)e[u[t]]=this.anchor===t;return e}};(0,o.Cg)([(0,s.MZ)()],c.prototype,"x",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"y",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"position",null),(0,o.Cg)([(0,s.MZ)()],c.prototype,"text",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"fontSize",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"anchor",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"visible",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"isDecoration",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"backgroundColor",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"textColor",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"_textShadowSize",void 0),(0,o.Cg)([(0,s.MZ)()],c.prototype,"_textShadowColor",null),(0,o.Cg)([(0,s.MZ)()],c.prototype,"_textShadow",null),(0,o.Cg)([(0,s.MZ)()],c.prototype,"padding",null),(0,o.Cg)([(0,s.MZ)()],c.prototype,"borderRadius",null),c=(0,o.Cg)([(0,l.$)("esri.views.overlay.TextOverlayItem")],c);const h={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},d=[];{const e=16;for(let t=0;t<360;t+=360/e)d.push([Math.cos(Math.PI*t/180),Math.sin(Math.PI*t/180)])}},43147:(e,t,i)=>{i.d(t,{C:()=>d,a:()=>g,b:()=>p});var o,r,n=i(57528),s=i(73398),l=i(65058),a=i(86955),u=i(70367),c=i(31432),h=i(2687);class d extends c.Y{}function p(){const e=new h.N5;return e.include(s.c),e.fragment.include(l.E),e.fragment.uniforms.add(new u.N("cutFillReferenceDepthTexture",e=>e.referenceDepthTexture),new u.N("cutFillTargetDepthTexture",e=>e.targetDepthTexture)),e.fragment.code.add((0,a.H)(o||(o=(0,n.A)(["bool outsideFar(float depth) {\nreturn depth >= 1.0;\n}"])))),e.fragment.main.add((0,a.H)(r||(r=(0,n.A)(["float referenceDepth = depthFromTexture(cutFillReferenceDepthTexture, uv);\nfloat targetDepth = depthFromTexture(cutFillTargetDepthTexture, uv);\nif (outsideFar(targetDepth)) {\ndiscard;\n}\nfloat depth = referenceDepth - targetDepth;\nfloat cut = min(0.0, depth);\nfloat fill = max(0.0, depth);\nfragColor = vec4(cut, fill, 0.0, 0.0);"])))),e}const g=Object.freeze(Object.defineProperty({__proto__:null,CutFillDepthParameters:d,build:p},Symbol.toStringTag,{value:"Module"}))},48234:(e,t,i)=>{i.d(t,{C:()=>f,a:()=>C,b:()=>y});var o,r,n=i(57528),s=i(34761),l=i(13191),a=i(72745),u=i(9392),c=i(59395),h=i(49399),d=i(95756),p=i(86955),g=i(43425),m=i(31432),v=i(2687);class f extends m.Y{constructor(){super(...arguments),this.origin=u.uY,this.cutFillCamera={projectionMatrix:(0,l.vt)(),viewMatrix:(0,l.vt)(),nearFar:(0,a.vt)()}}}function y(e){const t=new v.N5,{vertex:i,fragment:l,varyings:a,attributes:u}=t;return t.include(c.d),t.include(h.L,e),u.add("position","vec3"),a.add("depth","float",{invariant:!0}),i.uniforms.add(new g.X("proj",e=>e.cutFillCamera.projectionMatrix),new g.X("view",e=>(0,s.Tl)(_,e.cutFillCamera.viewMatrix,e.origin)),new d.G("nearFar",e=>e.cutFillCamera.nearFar)),i.main.add((0,p.H)(o||(o=(0,n.A)(["gl_Position = transformPositionWithDepth(proj, view, position, nearFar, depth);"])))),l.main.add((0,p.H)(r||(r=(0,n.A)(["fragColor = vec4(1.0);\noutputDepth(depth);"])))),t}const _=(0,l.vt)(),C=Object.freeze(Object.defineProperty({__proto__:null,CutFillTargetDepthParameters:f,build:y},Symbol.toStringTag,{value:"Module"}))},53172:(e,t,i)=>{i.r(t),i.d(t,{default:()=>St});var o=i(6326),r=i(81806),n=i(30726),s=i(31633),l=i(46053),a=i(76460),u=(i(47249),i(87990)),c=i(9392),h=i(19247),d=i(19747),p=i(72205),g=i(69539);const m=new g.A("black");const v=new class{constructor(){this.geometryOutlineWidth=1.5,this.geometryOutlineColor=new g.A("rgb(128,128,128)"),this.cutColor=new g.A("rgba(153, 198, 111, 0.75)"),this.fillColor=new g.A("rgba(200, 200, 230, 0.75)"),this.cutColorMuted=new g.A("rgba(176, 176, 176, 0.75)"),this.fillColorMuted=new g.A("rgba(194, 194, 194, 0.75)"),this.cutProjectionLineColor=g.A.blendColors(this.cutColor,m,.4),this.fillProjectionLineColor=g.A.blendColors(this.fillColor,m,.4),this.projectionLineWidth=2,this.projectionLineStippleSize=4,this.labelDistance=40,this.labelPrecisions={"cubic-millimeters":0,"cubic-centimeters":0,"cubic-decimeters":1,"cubic-meters":2,"cubic-kilometers":6,"cubic-inches":0,"cubic-feet":2,"cubic-yards":2,"cubic-miles":6,liters:2},this.maxVolumeExtentSizeVw=.7,this.minVolumeExtentSizePixels=250,this.minTargetElevation=-11e3,this.maxTargetElevation=9e3,this.targetElevationRange=this.maxTargetElevation-this.minTargetElevation,this.maxPerimeterLocalWebMercator=1e4,this.maxPerimeterGlobal=5e4}};var f=i(91967),y=i(68134),_=i(76931),C=i(38983),w=i(13191),b=i(20664),x=i(19451),M=i(56611),A=i(5809),V=i(50840),R=i(2413),P=i(44815),F=i(45136),T=i(731),k=i(17430),S=i(88954);let L=class extends f.A{constructor(e){super(e),this.rawResult=null}get localOriginRenderSpace(){const{extent:e,localOrigin:t,renderCoordsHelper:i}=this,o=(0,c.vt)();return i.toRenderCoords(t,e.spatialReference,o),o}get cameraPositionRenderSpace(){const{localOriginRenderSpace:e,renderCoordsHelper:t}=this,i=(0,c.vt)(),o=1/t.unitInMeters;return t.setAltitude(i,O*o,e),i}get boundingRect(){const{extent:e,renderCoordsHelper:t}=this,i=(0,R.vt)();return 2===t.viewingMode?(0,R.VY)(e,i):(this._expandBoundingRect(e.xmin,e.ymin,i),this._expandBoundingRect(e.xmax,e.ymin,i),this._expandBoundingRect(e.xmin,e.ymax,i),this._expandBoundingRect(e.xmax,e.ymax,i)),i}get cameraDimensions(){const{boundingRect:e}=this;return{width:(0,R.VL)(e),height:(0,R.uJ)(e)}}get cameraNearFar(){const{renderCoordsHelper:{unitInMeters:e}}=this,t=1/e;return{near:D*t,far:E*t}}get upVector(){return this.renderCoordsHelper.worldBasisAtPosition(this.cameraPositionRenderSpace,2,(0,c.vt)())}get northVector(){return this.renderCoordsHelper.worldBasisAtPosition(this.cameraPositionRenderSpace,1,(0,c.vt)())}get eastVector(){return this.renderCoordsHelper.worldBasisAtPosition(this.cameraPositionRenderSpace,0,(0,c.vt)())}_expandBoundingRect(e,t,i){var o;const{extent:r,eastVector:n,northVector:s,upVector:l,renderCoordsHelper:a}=this,u=null!==(o=r.center.z)&&void 0!==o?o:0;(0,b.j)(G,e,t,u),a.toRenderCoords(G,r.spatialReference,G),(0,S.PX)(G,n,s,l,Z),(0,R.fT)(i,Z,i)}};(0,o.Cg)([(0,l.MZ)()],L.prototype,"renderCoordsHelper",void 0),(0,o.Cg)([(0,l.MZ)()],L.prototype,"extent",void 0),(0,o.Cg)([(0,l.MZ)()],L.prototype,"localOrigin",void 0),(0,o.Cg)([(0,l.MZ)()],L.prototype,"localOriginRenderSpace",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"cameraPositionRenderSpace",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"boundingRect",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"cameraDimensions",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"upVector",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"northVector",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"eastVector",null),(0,o.Cg)([(0,l.MZ)()],L.prototype,"rawResult",void 0),L=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementCutFillComputation")],L);const G=(0,c.vt)(),Z=(0,c.vt)(),O=v.maxTargetElevation,D=0,E=v.targetElevationRange+100;var I=i(50076);class j extends I.A{constructor(e,t,i){super(e,t,i),this.name="unknown",this.name=e}}class U extends j{constructor(){super("perimeter-too-large","The input geometry's perimeter is too large for the current viewing mode and spatial reference.")}}class z extends j{constructor(){super("distance-too-far","The measurement geometry is too far from the camera.")}}class B extends j{constructor(){super("distance-too-close","The measurement geometry is too close to the camera.")}}class H extends j{constructor(){super("unsupported-coordinate-system","The coordinate system of the view (viewing mode and spatial reference) is not supported.")}}class q extends j{constructor(){super("unsupported-layer-transparency","The volume measurement analysis does not support transparent layers.")}}var N=i(24648);function W(e,t){return e?(0,N.kM)(e,(0,s.bE)(e.value,e.unit,t)):null}let $=class extends f.A{constructor(e){super(e)}get cutVolume(){return W(this.rawResult.cutVolume,this.unit)}get fillVolume(){return W(this.rawResult.fillVolume,this.unit)}get netVolume(){return W(this.rawResult.netVolume,this.unit)}get totalVolume(){return W(this.rawResult.totalVolume,this.unit)}};(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],$.prototype,"measureType",void 0),(0,o.Cg)([(0,l.MZ)()],$.prototype,"cutVolume",null),(0,o.Cg)([(0,l.MZ)()],$.prototype,"fillVolume",null),(0,o.Cg)([(0,l.MZ)()],$.prototype,"netVolume",null),(0,o.Cg)([(0,l.MZ)()],$.prototype,"totalVolume",null),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],$.prototype,"rawResult",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],$.prototype,"unit",void 0),$=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementResult")],$);var Q=i(49296),Y=i(80935),X=i(87925),J=i(15941),K=i(34761),ee=i(90364),te=i(57481),ie=i(48549),oe=i(33062),re=i(36451),ne=i(6485);class se extends ne.K{constructor(){super(...arguments),this.output=0}}(0,o.Cg)([(0,ne.W)({count:11})],se.prototype,"output",void 0);var le=i(69008),ae=i(43147),ue=i(16506),ce=i(59246),he=i(11850),de=i(57162);class pe extends ce.w{constructor(e,t){super(e,t,new ue.$(ae.a,()=>i.e(8197).then(i.bind(i,48197))),he.Nx)}initializePipeline(){return(0,de.Ey)({colorWrite:de.kn})}}var ge=i(72915);class me extends ce.w{constructor(e,t){super(e,t,new ue.$(ge.a,()=>i.e(6061).then(i.bind(i,36061))),he.Nx)}initializePipeline(){return(0,de.Ey)({colorWrite:de.kn})}}var ve=i(48234);class fe extends ce.w{constructor(e,t){super(e,t,new ue.$(ve.a,()=>i.e(7103).then(i.bind(i,9484))),he.S$)}initializePipeline(){return(0,de.Ey)({colorWrite:de.kn,depthWrite:de.Uy,depthTest:{func:519}})}}var ye=i(93345),_e=i(9243);let Ce=class extends re.A{constructor(e){super(e),this.consumes={required:[ee.hM.TRANSPARENT]},this.produces=ee.OG.CUTFILL_DEPTH,this._cutFillTargetDepthConfiguration=new se,this._cutFillTargetDepthParameters=new ve.C,this._cutFillDepthParameters=new ae.C,this._cutFillReductionParameters=new ge.C,this.needsRender=!1,this.done=!0,this._localOrigin=(0,c.vt)(),this._maxTextureSize=4096,this._width=0,this._height=0,this._reducedWidth=0,this._reducedHeight=0,this._depthFormat=13,this._colorFormat=10,this._targetVao=null}initialize(){this._maxTextureSize=Math.min((0,r.A)("esri-mobile")?1024:this._maxTextureSize,this.fboCache.rctx.parameters.maxTextureSize),this._cutFillTargetDepthConfiguration.output=8}destroy(){this._targetVao=(0,n.WD)(this._targetVao)}precompile(){this.techniques.precompile(fe,this._cutFillTargetDepthConfiguration),this.techniques.precompile(pe),this.techniques.precompile(me),this.view.stage.renderer.precompileCutFill()}render(e){var t;const i=e.find(e=>{let{name:t}=e;return t===ee.OG.CUTFILL_DEPTH});if(!this._orthographicCamera||!this._targetVao||!this.needsRender)return i;const o=this.techniques.get(fe,this._cutFillTargetDepthConfiguration),r=this.techniques.get(pe),n=this.techniques.get(me);if(!o.compiled||!r.compiled||!n.compiled)return this.requestRender(1),i;this.needsRender=!1;const s=this.renderingContext,l=this.fboCache,a=s.getViewport(),u=l.acquire(this._width,this._height,"cutfill reference depth",this._depthFormat);s.bindFramebuffer(u.fbo),s.setViewport(0,0,this._width,this._height),s.clear(1280),this.view.stage.renderer.renderCutFillReferenceDepth(this._orthographicCamera);const c=l.acquire(this._width,this._height,"cutfill target depth",this._depthFormat);s.bindFramebuffer(c.fbo),s.setViewport(0,0,this._width,this._height),s.setClearDepth(1),s.clear(256),this._cutFillTargetDepthParameters.origin=this._localOrigin,this._cutFillTargetDepthParameters.cutFillCamera=this._orthographicCamera,s.bindTechnique(o,this.bindParameters,this._cutFillTargetDepthParameters),s.bindVAO(this._targetVao),s.drawArrays(ye.WR.TRIANGLES,0,this._targetVao.vertexCount("geometry"));let h=l.acquire(this._width,this._height,"cutfill reduction even",this._colorFormat),d=l.acquire(this._width,this._height,"cutfill reduction odd",this._colorFormat);this._cutFillDepthParameters.referenceDepthTexture=u.depthTexture,this._cutFillDepthParameters.targetDepthTexture=c.depthTexture,s.bindFramebuffer(h.fbo),s.bindTechnique(r,this.bindParameters,this._cutFillDepthParameters),s.setClearColor(0,0,0,0),s.clear(16384),s.screen.draw(),u.release(),c.release();let p=this._width,g=this._height;const m=Math.ceil(Math.log2(Math.min(p,g)));for(let v=0;v<m;v++)p=Math.ceil(p/2),g=Math.ceil(g/2),this._cutFillReductionParameters.depthTexture=h.getTexture(),this._prepareFBO(d,p,g),s.bindTechnique(n,this.bindParameters,this._cutFillReductionParameters),s.screen.draw(),[h,d]=[d,h];return this._buffer=new Float32Array(p*g*2),null!==(t=h.fbo)&&void 0!==t&&t.readPixels(0,0,p,g,33319,ye.pe.FLOAT,this._buffer),this._reducedWidth=p,this._reducedHeight=g,h.release(),d.release(),s.setViewport(a.x,a.y,a.width,a.height),this.done=!0,i}setup(e,t){const i=this.renderingContext,{cameraDimensions:{width:o,height:r},localOriginRenderSpace:s}=e,l=this._maxTextureSize,a=r/o,u=o>r?l:l/a,c=o>r?l*a:l;this._width=(0,J.yR)(u),this._height=(0,J.yR)(c);const h=[this._width,this._height];this._orthographicCamera=this._createCamera(e,h),this._targetVao=(0,n.WD)(this._targetVao),this._targetVao=function(e,t){const{positions:i,indices:o}=t,r=we.createBuffer(o.length),n=r.position;for(let l=0;l<o.length;++l){const e=3*o[l];n.set(l,0,i[e]),n.set(l,1,i[e+1]),n.set(l,2,i[e+2])}const s=new _e.R(e,(0,te.U)(we),r.buffer);return new le.Z(e,s)}(i,t),this._localOrigin=s,this.done=!1}start(){0!==this._width&&0!==this._height&&(this.needsRender=!0)}getDepth(){let e=0,t=0;for(let s=0;s<this._reducedWidth;s++)for(let l=0;l<this._reducedHeight;l++){var i,o,r,n;const a=s+l*this._reducedHeight;e+=null!==(i=null===(o=this._buffer)||void 0===o?void 0:o[2*a])&&void 0!==i?i:0,t+=null!==(r=null===(n=this._buffer)||void 0===n?void 0:n[2*a+1])&&void 0!==r?r:0}return{cut:e,fill:t}}get width(){return this._width}get height(){return this._height}get updating(){return this.needsRender||!this.done}_prepareFBO(e,t,i){const o=this.renderingContext;o.bindFramebuffer(e.fbo),o.setViewport(0,0,t,i),o.setClearColor(0,0,0,0),o.clear(16384)}_createCamera(e,t){const{cameraPositionRenderSpace:i,localOriginRenderSpace:o,northVector:r,cameraDimensions:{width:n,height:s},cameraNearFar:{near:l,far:a}}=e,u=new oe.A({eye:i,center:o,up:r,near:l,far:a});return u.viewport=[0,0,t[0],t[1]],(0,K.v3)(u.projectionMatrix,-n/2,n/2,-s/2,s/2,l,a),u}};(0,o.Cg)([(0,l.MZ)()],Ce.prototype,"consumes",void 0),(0,o.Cg)([(0,l.MZ)()],Ce.prototype,"produces",void 0),(0,o.Cg)([(0,l.MZ)()],Ce.prototype,"needsRender",void 0),(0,o.Cg)([(0,l.MZ)()],Ce.prototype,"done",void 0),(0,o.Cg)([(0,l.MZ)()],Ce.prototype,"updating",null),Ce=(0,o.Cg)([(0,u.$)("esri.views.3d.webgl-engine.lib.CutFillDepth")],Ce);const we=(0,ie.BP)().vec3f("position").freeze();class be{constructor(e,t){this.positions=e,this.indices=t}}var xe=i(29772);let Me=class extends f.A{constructor(e){super(e),this._getElevationProvider=()=>this.view.elevationProvider,this._updatingHandles=new x.U,this._computationValue=null}initialize(){const e=this.view;this._renderer=new Ce({view:e}),this._updatingHandles.add(()=>({computation:this._computation,renderGeometry:this._targetGeometryRenderInfo}),e=>{let{computation:t,renderGeometry:i}=e;t&&i&&(this._renderer.setup(t,i),this._renderer.start())},y.Vh),this.addHandles([this._createElevationUpdateHandle(),(0,y.wB)(()=>this._targetGeometry,e=>this.analysisViewData.targetGeometry=e,y.pc),(0,y.wB)(()=>this._elevationAlignedGeometry,e=>this.analysisViewData.elevationAlignedGeometry=e,y.pc),(0,y.wB)(()=>{var e;return{computation:this._computation,extent:null===(e=this._projectedGeometry)||void 0===e?void 0:e.extent,localOrigin:this._localOrigin}},e=>{let{computation:t,extent:i,localOrigin:o}=e;t&&i&&o&&(t.extent=i,t.localOrigin=o)},y.OH),(0,y.z7)(()=>this._renderer.done,()=>this._updateResult())])}destroy(){this._updatingHandles.destroy(),this._renderer.destroy()}get _projectedGeometry(){if(!this.analysis.valid)return null;const e=this.analysis.geometry,t=(0,M.projectOrLoad)(e,this.view.spatialReference);return t.pending?(this._updatingHandles.addPromise(t.pending),null):(e&&!t.geometry&&(0,k.V)(this.analysis,e.spatialReference,a.A.getLogger(this)),t.geometry)}get _localOrigin(){var e;const t=null===(e=this._projectedGeometry)||void 0===e?void 0:e.extent;return t?(0,c.fA)(t.center.x,t.center.y,0):null}get _elevationAlignedGeometry(){const e=this._projectedGeometry;if(!e)return null;const t=e.clone();return function(e,t){t.rings[0].forEach(t=>{var i;t[2]=null!==(i=(0,Y.R1)(e,t,"ground"))&&void 0!==i?i:0})}(this._getElevationProvider(),t),t}get _targetGeometry(){const e=this._elevationAlignedGeometry;if(!e)return null;const t=this.analysis.measureType,{effectiveTargetElevation:i}=this.analysisViewData;if("stockpile"===t||null==i)return e;const o=e.clone();return o.rings[0].forEach(e=>e[2]=i),o}get _targetGeometryRenderInfo(){var e;const t=this._targetGeometry,i=null===(e=this._projectedGeometry)||void 0===e?void 0:e.extent,o=this._localOrigin;if(!t||!i||!o)return null;const{elevationProvider:r,renderCoordsHelper:n}=this.view,s=(0,X.C8)(t,r,n,Q.F.fromElevationInfo(new T.A({mode:"absolute-height"}))),{polygons:l}=s,a=l[0],u=(0,C.e)(a.position,a.holeIndices,3),c=(0,P.jh)(3*a.count),h=(0,w.vt)(),d=(0,w.vt)();return(0,A.l)(i.spatialReference,o,h,n.spatialReference),d[12]=-h[12],d[13]=-h[13],d[14]=-h[14],(0,F.t)(c,a.position,d),new be(c,u)}get updating(){return this._renderer.updating||this._updatingHandles.updating}get result(){var e;const t=null===(e=this._computation)||void 0===e?void 0:e.rawResult;return t?new $({measureType:this.analysis.measureType,rawResult:t,unit:this.analysisViewData.effectiveDisplayUnits.volume}):null}get error(){var e,t,i;return null!==(e=null!==(t=null!==(i=this._unsupportedCoordinateSystemError)&&void 0!==i?i:this._unsupportedLayerTransparencyError)&&void 0!==t?t:this._perimeterTooLargeError)&&void 0!==e?e:this._tooNearFarError}get _tooNearFarError(){const e=this._elevationAlignedGeometry;if(!e)return null;const{view:t}=this,{elevationProvider:i,renderCoordsHelper:o}=t,{camera:r}=t.state,n=(0,X.C8)(e,i,o,Q.F.fromElevationInfo(new T.A({mode:"absolute-height"}))),{polygons:s}=n,l=s[0].position;(0,R.Ie)(Pe);for(let d=0;d<l.length;d+=3)r.projectToScreen((0,b.j)(Re,l[d],l[d+1],l[d+2]),Fe),(0,R.fT)(Pe,Fe,Pe);const a=(0,R.VL)(Pe),u=(0,R.uJ)(Pe),{maxVolumeExtentSizeVw:c,minVolumeExtentSizePixels:h}=v;return a>r.width/r.pixelRatio*c||u>r.height/r.pixelRatio*c?new B:Math.max(a,u)<h?new z:null}get _perimeterTooLargeError(){var e;return null!==(e=this._perimeterTooLargeLocalError)&&void 0!==e?e:this._perimeterTooLargeGlobalError}get _perimeterTooLargeLocalError(){const{spatialReference:e,state:{isLocal:t}}=this.view;if(!t||!e.isWebMercator)return null;const i=this._perimeter,{maxPerimeterLocalWebMercator:o}=v;return null!=i&&i>o?new U:null}get _perimeterTooLargeGlobalError(){if(!this.view.state.isGlobal)return null;const e=this._perimeter,{maxPerimeterGlobal:t}=v;return null!=e&&e>t?new U:null}get _unsupportedCoordinateSystemError(){return this.view.state.isLocal&&this.view.spatialReference.isGeographic?new H:null}get _unsupportedLayerTransparencyError(){var e,t;return(null!==(e=null===(t=this.view.map)||void 0===t?void 0:t.ground.opacity)&&void 0!==e?e:1)<1?new q:null}get _perimeter(){var e;const t=null===(e=this._targetGeometryRenderInfo)||void 0===e?void 0:e.positions,i=t?function(e){if(!e)return null;let t=null,i=null,o=0;for(const n of e){var r;t||(t=[n[0],n[1],null!==(r=n[2])&&void 0!==r?r:0]),i?o+=(0,b.x)(i,n):i=[0,0,0],i[0]=n[0],i[1]=n[1],i[2]=n[2]}return t&&i&&(o+=(0,b.x)(i,t)),Math.sqrt(o)}(function*(e){const t=(0,c.vt)();for(let i=0;i<e.length;i+=3)t[0]=e[i],t[1]=e[i+1],t[2]=e[i+2],yield t}(t)):null;return null!=i?i/this.view.renderCoordsHelper.unitInMeters:null}get _enabled(){return!this.error}get _computation(){var e;const t=null===(e=this._projectedGeometry)||void 0===e?void 0:e.extent;if(!t||!this._enabled)return this._computationValue=(0,n.pR)(this._computationValue),null;if(this._computationValue)return this._computationValue;const i=this._localOrigin;if(!i)return null;const{renderCoordsHelper:o}=this.view;return this._computationValue=new L({extent:t,localOrigin:i,renderCoordsHelper:o}),this._computationValue}_createElevationUpdateHandle(){const e=e=>{var t;const i=null===(t=this._projectedGeometry)||void 0===t?void 0:t.extent;"ground"===e.context&&i&&((0,V.S)(e.extent,e.spatialReference,Ae,this.view.spatialReference),(0,R.VY)(i,Ve),(0,R.HY)(Ae,Ve)&&(this._getElevationProvider=()=>this.view.elevationProvider))};return this.view.elevationProvider.on("elevation-change",t=>e(t))}_updateResult(){if(!this._computation)return;const{spatialReference:e,viewingMode:t}=this.view,{extent:i,boundingRect:o,cameraNearFar:{near:r,far:n}}=this._computation,{width:s,height:l}=this._renderer;let a,u;"local"===t&&e.isWebMercator?({width:a,height:u}=function(e){var t,i;const o=(0,xe.vp)([e.xmin,e.ymin,0],[e.xmax,e.ymin,0],e.spatialReference),r=(0,xe.vp)([e.xmin,e.ymin,0],[e.xmin,e.ymax,0],e.spatialReference);return{width:null!==(t=null===o||void 0===o?void 0:o.value)&&void 0!==t?t:0,height:null!==(i=null===r||void 0===r?void 0:r.value)&&void 0!==i?i:0}}(i)):(a=(0,R.VL)(o),u=(0,R.uJ)(o));const c=a/s*(u/l),h=this._renderer.getDepth(),d=e=>e*(n-r)+r,p=d(h.cut)*c,g=d(h.fill)*c;this._computation.rawResult=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cubic-meters";const o=e-t,r=e+t;return{cutVolume:(0,N.pb)(e,i),fillVolume:(0,N.pb)(t,i),netVolume:(0,N.pb)(o,i),totalVolume:(0,N.pb)(r,i)}}(Math.abs(p),g)}};(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_projectedGeometry",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_localOrigin",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_getElevationProvider",void 0),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_elevationAlignedGeometry",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_targetGeometry",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_targetGeometryRenderInfo",null),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Me.prototype,"analysis",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Me.prototype,"analysisViewData",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Me.prototype,"view",void 0),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"updating",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"result",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"error",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_tooNearFarError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_perimeterTooLargeError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_perimeterTooLargeLocalError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_perimeterTooLargeGlobalError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_unsupportedCoordinateSystemError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_unsupportedLayerTransparencyError",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_perimeter",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_enabled",null),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_renderer",void 0),(0,o.Cg)([(0,l.MZ)({readOnly:!0})],Me.prototype,"_updatingHandles",void 0),(0,o.Cg)([(0,l.MZ)()],Me.prototype,"_computation",null),Me=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementCutFillController")],Me);const Ae=(0,R.Ie)(),Ve=(0,R.Ie)(),Re=(0,c.vt)(),Pe=(0,R.vt)(),Fe=(0,_.gs)();var Te=i(89379),ke=(i(11265),i(18690)),Se=i(73582),Le=i(11113),Ge=i(38496),Ze=i(96190),Oe=i(66747),De=i(7256),Ee=i(73074),Ie=i(25191),je=i(16266),Ue=i(69366);class ze extends ce.w{constructor(e,t){super(e,t,new ue.$(Ue.a,()=>i.e(1320).then(i.bind(i,81320))),he.Nx)}initializePipeline(){return(0,de.Ey)({colorWrite:de.kn})}}var Be=i(71686),He=i(75757);class qe extends ce.w{constructor(e,t){super(e,t,new ue.$(Be.a,()=>i.e(492).then(i.bind(i,20492))),(0,He.Xk)(he.SL))}initializePipeline(){return(0,de.Ey)({colorWrite:de.kn,depthTest:{func:515}})}}var Ne=i(37267),We=i(54633),$e=i(31432);let Qe=class extends re.A{constructor(e){super(e),this.consumes={required:[ee.hM.OPAQUE]},this.produces=ee.OG.CUTFILL_COLOR,this._vaoCut=null,this._vaoFill=null,this._countCut=0,this._countFill=0,this._maskParameters=new Be.C,this._cutVolumeParameters=new Ne.uD,this._fillVolumeParameters=new Ne.uD,this._compositeParameters=new Ue.C,this._drawParameters=new Ne.V;const t=1===e.view.state.viewingMode;this._cutVolumeTechniqueConfiguration=new We.n(t),this._cutVolumeTechniqueConfiguration.customDepthTest=2,this._cutVolumeTechniqueConfiguration.writeDepth=!1,this._cutVolumeTechniqueConfiguration.cullFace=1,this._cutVolumeTechniqueConfiguration.doubleSidedMode=1,this._fillVolumeTechniqueConfiguration=new We.n(t),this._fillVolumeTechniqueConfiguration.cullFace=2}initialize(){this.addHandles([(0,y.wB)(()=>[this.cutColor,this.fillColor],()=>this._updateColors(),y.pc)])}destroy(){this._vaoCut=(0,n.WD)(this._vaoCut),this._vaoFill=(0,n.WD)(this._vaoFill)}precompile(){this.techniques.precompile(Ne.R5,this._cutVolumeTechniqueConfiguration),this.techniques.precompile(Ne.R5,this._fillVolumeTechniqueConfiguration),this.techniques.precompile(qe),this.techniques.precompile(ze)}render(e){const t=this.techniques.get(Ne.R5,this._cutVolumeTechniqueConfiguration),i=this.techniques.get(Ne.R5,this._fillVolumeTechniqueConfiguration),o=this.techniques.get(qe),r=this.techniques.get(ze),n=e.find(e=>{let{name:t}=e;return t===this.produces});if(!this._vaoCut||!this._vaoFill)return n;if(!(t&&i&&o.compiled&&r.compiled))return this.requestRender(1),n;const s=this.bindParameters,l=s.camera,a=l.fullViewport[2],u=l.fullViewport[3],c=this.renderingContext,h=this.fboCache,d=h.acquire(a,u,"cutfill color mask",2);d.attachDepth(n.getAttachment(ye.nI)),c.bindFramebuffer(d.fbo),c.setClearColor(0,0,0,1),c.clear(17408),c.setViewport(0,0,a,u),c.bindTechnique(o,s,$e.m,this._maskParameters),c.setFaceCullingEnabled(!1),c.setStencilTestEnabled(!0),c.setStencilOpSeparate(1028,7680,34055,7680),c.setStencilOpSeparate(1029,7680,34056,7680),c.setDepthWriteEnabled(!1),c.bindVAO(this._vaoCut),c.setDepthTestEnabled(!0),c.setStencilWriteMask(255),c.setStencilFunction(519,0,255),c.setColorMask(!1,!1,!1,!1),c.drawArrays(ye.WR.TRIANGLES,0,this._countCut),c.setDepthTestEnabled(!1),c.setStencilWriteMask(0),c.setStencilFunction(517,0,255),c.setColorMask(!0,!1,!1,!1),c.drawArrays(ye.WR.TRIANGLES,0,this._countCut),c.bindVAO(this._vaoFill),c.setDepthTestEnabled(!0),c.setStencilWriteMask(255),c.setStencilFunction(519,0,255),c.setColorMask(!1,!0,!1,!1),c.drawArrays(ye.WR.TRIANGLES,0,this._countFill);const p=h.acquire(a,u,"cutfill color volumes",5);p.attachDepth(n.getAttachment(ye.nI)),c.bindFramebuffer(p.fbo),c.setClearColor(0,0,0,0),c.clear(16384),c.setColorMask(!0,!0,!0,!0),c.bindTechnique(t,this.bindParameters,this._cutVolumeParameters,this._drawParameters),c.setPolygonOffset(1,1),c.setPolygonOffsetFillEnabled(!0),c.bindVAO(this._vaoCut),c.drawArrays(ye.WR.TRIANGLES,0,this._countCut),c.bindTechnique(i,this.bindParameters,this._fillVolumeParameters,this._drawParameters),c.setPolygonOffset(0,0),c.setPolygonOffsetFillEnabled(!1),c.bindVAO(this._vaoFill),c.drawArrays(ye.WR.TRIANGLES,0,this._countFill);const m=this.fboCache.acquire(a,u,this.produces);return c.bindFramebuffer(m.fbo),this._compositeParameters.color=n.getTexture(),this._compositeParameters.cutFillVolumes=p.getTexture(),this._compositeParameters.cutFillMask=d.getTexture(),g.A.toUnitRGBA(this.borderColor,this._compositeParameters.borderColor),c.bindTechnique(r,s,this._compositeParameters),c.screen.draw(),d.release(),p.release(),m.attachDepth(n.getAttachment(ye.nI)),m}enable(){this.produces=ee.OG.CUTFILL_COLOR,this.requestRender(1)}disable(){this.produces="disabled",this.requestRender(1)}updateGeometries(e,t,i){this._vaoCut=(0,n.WD)(this._vaoCut),this._vaoCut=this._createVao(e),this._countCut=e.indicesBottom.length+e.indicesExtruded.length,this._vaoFill=(0,n.WD)(this._vaoFill),this._vaoFill=this._createVao(t),this._countFill=t.indicesBottom.length+t.indicesExtruded.length,this._maskParameters.origin=i,(0,b.d)(this._drawParameters.origin,i),this.requestRender(1)}_updateColors(){this._cutVolumeParameters.diffuse=g.A.toUnitRGB(this.cutColor),this._cutVolumeParameters.opacity=this.cutColor.a,this._fillVolumeParameters.diffuse=g.A.toUnitRGB(this.fillColor),this._fillVolumeParameters.opacity=this.fillColor.a,this.requestRender(1)}_createVao(e){const t=this.renderingContext,{vertices:i,normals:o,indicesBottom:r,indicesExtruded:n}=e,s=Ye.createBuffer(r.length+n.length),{position:l,normal:a}=s;for(let c=0;c<r.length;c++){const e=3*r[c];l.set(c,0,i[e]),l.set(c,1,i[e+1]),l.set(c,2,i[e+2]),a.set(c,0,o[e]),a.set(c,1,o[e+1]),a.set(c,2,o[e+2])}for(let c=0;c<n.length;c++){const e=c+r.length,t=3*n[c];l.set(e,0,i[t]),l.set(e,1,i[t+1]),l.set(e,2,i[t+2]),a.set(e,0,o[t]),a.set(e,1,o[t+1]),a.set(e,2,o[t+2])}const u=new _e.R(t,(0,te.U)(Ye),s.buffer);return new le.Z(t,u)}};(0,o.Cg)([(0,l.MZ)()],Qe.prototype,"consumes",void 0),(0,o.Cg)([(0,l.MZ)()],Qe.prototype,"produces",void 0),(0,o.Cg)([(0,l.MZ)()],Qe.prototype,"cutColor",void 0),(0,o.Cg)([(0,l.MZ)()],Qe.prototype,"fillColor",void 0),(0,o.Cg)([(0,l.MZ)()],Qe.prototype,"borderColor",void 0),Qe=(0,o.Cg)([(0,u.$)("esri.views.3d.webgl-engine.lib.CutFillColor")],Qe);const Ye=(0,ie.BP)().vec3f("position").vec3f("normal").freeze();class Xe{constructor(e,t,i,o){this.vertices=e,this.indicesBottom=t,this.indicesExtruded=i,this.normals=o}}var Je=i(35925),Ke=i(38042),et=i(63860),tt=i(39348);let it=class extends f.A{get visible(){return this.analysisViewData.visible&&null!=this.analysisViewData.elevationAlignedGeometry&&null!=this.analysisViewData.targetGeometry}get updating(){return this.loadingMessages}get hasUnsupportedError(){const{error:e}=this.analysisViewData;return!!e&&["unsupported-coordinate-system","unsupported-layer-transparency"].includes(e.name)}constructor(e){super(e),this.unitsMessages=null,this.messages=null,this.loadingMessages=!0,this._elevationContext=Q.F.fromElevationInfo(new T.A({mode:"absolute-height"})),this._extrusionHeight=v.targetElevationRange,this._projectionLines=[]}initialize(){const{view:e}=this,t={view:e,isDecoration:!0},i=v,o=(0,Te.A)((0,Te.A)({},t),{},{width:i.geometryOutlineWidth});this._elevationAlignedGeometry=new Ee.P((0,Te.A)((0,Te.A)({},o),{},{isDraped:!0,color:g.A.toUnitRGBA(i.geometryOutlineColor)})),this._targetGeometry=new Ee.P(o);const r=(0,Te.A)((0,Te.A)({},t),{},{attached:!0,width:i.projectionLineWidth,renderOccluded:4,polygonOffset:!0}),n=(0,Te.A)((0,Te.A)({},r),{},{stipplePattern:(0,Je.wk)(i.projectionLineStippleSize)}),s=g.A.toUnitRGBA(i.cutProjectionLineColor),l=g.A.toUnitRGBA(i.fillProjectionLineColor);this._cutProjectionLines=new De.t((0,Te.A)((0,Te.A)({},r),{},{color:s})),this._occludedCutProjectionLines=new De.t((0,Te.A)((0,Te.A)({},n),{},{color:s})),this._fillProjectionLines=new De.t((0,Te.A)((0,Te.A)({},r),{},{color:l})),this._occludedFillProjectionLines=new De.t((0,Te.A)((0,Te.A)({},n),{},{color:l}));const a=(0,Te.A)((0,Te.A)({},t),{},{attached:!0});this._cutVolumeLabel=new Oe.N(a),this._fillVolumeLabel=new Oe.N(a),this._cutFillRenderNode=new Qe({view:e,cutColor:i.cutColor,fillColor:i.fillColor,borderColor:i.geometryOutlineColor}),this.addHandles([(0,y.wB)(()=>({elevationAlignedGeometry:this.analysisViewData.elevationAlignedGeometry,targetGeometry:this.analysisViewData.targetGeometry}),e=>{let{elevationAlignedGeometry:t,targetGeometry:i}=e;this._elevationAlignedGeometry.geometry=t,this._targetGeometry.geometry=i},y.Vh),(0,y.wB)(()=>({interactive:this.analysisViewData.interactive,measureType:this.analysis.measureType,visible:this.visible}),e=>{let{visible:t,interactive:i,measureType:o}=e;this._elevationAlignedGeometry.visible=t&&!i,this._targetGeometry.visible=t&&"cut-fill"===o},y.Vh),(0,y.wB)(()=>({elevationAlignedGeometry:this.analysisViewData.elevationAlignedGeometry,targetGeometry:this.analysisViewData.targetGeometry,visible:this.visible}),e=>{let{elevationAlignedGeometry:t,targetGeometry:i,visible:o}=e;return this._updateProjectionLines(t,i,o)},y.Vh),(0,y.wB)(()=>({interactive:this.analysisViewData.interactive,accentColor:this.view.effectiveTheme.accentColor,hasResult:!!this.analysisViewData.result}),e=>{let{interactive:t,accentColor:i,hasResult:o}=e;this._updateColors(t,i,o)},y.Vh),(0,y.wB)(()=>this.analysisViewData.targetGeometry,()=>this._updateCutFillGeometry(),y.Vh),(0,y.wB)(()=>this.visible&&!this.hasUnsupportedError,e=>this._updateCutFillVisibility(e),y.Vh),(0,y.wB)(()=>{const{messages:e,unitsMessages:t,visible:i,analysisViewData:o}=this;return{labelAnchors:o.labelAnchors,effectiveDisplayUnits:o.effectiveDisplayUnits,messages:e,unitsMessages:t,result:o.result,visible:i&&!!o.result}},e=>this._updateLabels(e)),(0,y.wB)(()=>this.view.state.camera,e=>this._updateProjectionLineOcclusion(e),y.Vh),(0,Ke.oQ)(()=>this._updateMessageBundle())]),this._updateMessageBundle()}destroy(){this._elevationAlignedGeometry=(0,n.pR)(this._elevationAlignedGeometry),this._targetGeometry=(0,n.pR)(this._targetGeometry),this._cutProjectionLines=(0,n.pR)(this._cutProjectionLines),this._occludedCutProjectionLines=(0,n.pR)(this._occludedCutProjectionLines),this._fillProjectionLines=(0,n.pR)(this._fillProjectionLines),this._occludedFillProjectionLines=(0,n.pR)(this._occludedFillProjectionLines),this._cutVolumeLabel=(0,n.pR)(this._cutVolumeLabel),this._fillVolumeLabel=(0,n.pR)(this._fillVolumeLabel),this._cutFillRenderNode.destroy()}_updateProjectionLines(e,t,i){if(this._cutProjectionLines.visible=i,this._occludedCutProjectionLines.visible=i,this._fillProjectionLines.visible=i,this._occludedFillProjectionLines.visible=i,!e||!t)return;const{renderCoordsHelper:o}=this.view,r=[],n=e.spatialReference,s=e.rings[0],l=s.length>1&&(0,ke.aI)(s[0],s[s.length-1]),a=s.length-(l?1:0);for(let v=0;v<a;++v){const e=s[v],i=(0,b.j)((0,c.vt)(),e[0],e[1],e[2]);o.toRenderCoords(i,n,i);const l=t.rings[0][v],a=(0,b.j)((0,c.vt)(),l[0],l[1],l[2]);o.toRenderCoords(a,n,a);const u=new Ie.C(i,a);r.push(u)}e.isClockwise(s)||r.reverse();const u=[],h=[],d=[],p=[],g=[],m=this.view.state.camera;for(let c=0;c<r.length;++c){const i=r[c],o=r[0===c?r.length-1:c-1],n=r[c===r.length-1?0:c+1],s=e.rings[0][c],l=t.rings[0][c],a=s[2]>l[2],v=new rt(i,o,n,a);u.push(v),v.updateOccluded(m);const f=v.isOccluded;a?(f?d:h).push(i):(f?g:p).push(i)}this._projectionLines=u,this._cutProjectionLines.setGeometryFromSegments(h),this._occludedCutProjectionLines.setGeometryFromSegments(d),this._fillProjectionLines.setGeometryFromSegments(p),this._occludedFillProjectionLines.setGeometryFromSegments(g)}_updateProjectionLineOcclusion(e){const t=[],i=[],o=[],r=[];let n=!1,s=!1;for(const l of this._projectionLines){l.updateOccluded(e)&&(n||(n=l.isCut),s||(s=!l.isCut));const a=l.isOccluded;(l.isCut?a?i:t:a?r:o).push(l.segment)}s&&(this._fillProjectionLines.setGeometryFromSegments(o),this._occludedFillProjectionLines.setGeometryFromSegments(r)),n&&(this._cutProjectionLines.setGeometryFromSegments(t),this._occludedCutProjectionLines.setGeometryFromSegments(i))}_updateColors(e,t,i){const{geometryOutlineColor:o,cutColor:r,fillColor:n,cutColorMuted:s,fillColorMuted:l,cutProjectionLineColor:a,fillProjectionLineColor:u}=v;if(this._cutFillRenderNode.cutColor=i?r:s,this._cutFillRenderNode.fillColor=i?n:l,e){const e=g.A.toUnitRGBA(t);this._targetGeometry.color=e,this._cutProjectionLines.color=e,this._occludedCutProjectionLines.color=e,this._fillProjectionLines.color=e,this._occludedFillProjectionLines.color=e,this._cutFillRenderNode.borderColor=t}else{this._targetGeometry.color=g.A.toUnitRGBA(o);const e=g.A.toUnitRGBA(i?a:s);this._cutProjectionLines.color=e,this._occludedCutProjectionLines.color=e;const t=g.A.toUnitRGBA(i?u:l);this._fillProjectionLines.color=t,this._occludedFillProjectionLines.color=t,this._cutFillRenderNode.borderColor=o}}_updateLabels(e){const{labelDistance:t}=v,{effectiveDisplayUnits:i,labelAnchors:o,messages:r,unitsMessages:n,result:s,visible:l}=e;if(this._cutVolumeLabel.visible=l,this._fillVolumeLabel.visible=l,this._cutVolumeLabel.geometry=o.cut?{type:"point",point:o.cut,callout:{distance:t,offset:0}}:null,this._fillVolumeLabel.geometry=o.fill?{type:"point",point:o.fill,callout:{distance:-t,offset:0}}:null,null==s||null==r||null==n)return this._cutVolumeLabel.text="-",void(this._fillVolumeLabel.text="-");const a=i.volume,u=(0,tt.V)(r.labels.cut,{volume:ot(n,s.cutVolume,a)}),c=(0,tt.V)(r.labels.fill,{volume:ot(n,s.fillVolume,a)});this._cutVolumeLabel.text=u,this._fillVolumeLabel.text=c}_updateCutFillVisibility(e){e?this._cutFillRenderNode.enable():this._cutFillRenderNode.disable()}_updateCutFillGeometry(){const{renderCoordsHelper:e}=this.view,{targetGeometry:t}=this.analysisViewData;if(null===t||void 0===t||!t.extent)return;const{center:i}=t.extent,o=(0,c.fA)(i.x,i.y,0),r=(0,c.vt)();e.toRenderCoords(o,t.spatialReference,r);const n=this._getExtrudedVolumes(t,this._extrusionHeight,o),s=this._getExtrudedVolumes(t,-this._extrusionHeight,o);this._cutFillRenderNode.updateGeometries(n,s,r)}_getExtrudedVolumes(e,t,i){const{renderCoordsHelper:o,spatialReference:r,elevationProvider:n}=this.view,s=(0,c.vt)(),l=1===o.viewingMode;l||o.worldUpAtPosition([0,0,0],s);const a=(0,X.C8)(e,n,o,this._elevationContext),{polygons:u,mapPositions:h,position:d}=a,p=u[0],g=p.count,m=(0,C.e)(p.mapPositions,p.holeIndices,3),v=m.length,f=6*g,y=(0,Ge.my)(f+v),_=(0,Ge.my)(v),b=(0,P.jh)(3*f),x=(0,P.jh)(3*f);(0,je.K)(d,h,m,p,b,null,x,null,y,_,t,s,l);const M=(0,w.vt)(),V=(0,w.vt)();return(0,A.l)(r,i,M,o.spatialReference),V[12]=-M[12],V[13]=-M[13],V[14]=-M[14],(0,F.t)(b,b,V),new Xe(b,_,y,x)}async _updateMessageBundle(){this.loadingMessages=!0;try{this.unitsMessages=await(0,et.ud)("esri/core/t9n/Units"),this.messages=await(0,et.ud)("esri/views/3d/analysis/VolumeMeasurement/t9n/VolumeMeasurementAnalysis")}finally{this.loadingMessages=!1}}};function ot(e,t,i){if(!t||!e)return null;const o=(0,s.bE)(t.value,t.unit,i),r=v.labelPrecisions[o];return(0,Le.zJ)(e,t,o,r)}(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],it.prototype,"view",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],it.prototype,"analysis",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],it.prototype,"analysisViewData",void 0),(0,o.Cg)([(0,l.MZ)()],it.prototype,"unitsMessages",void 0),(0,o.Cg)([(0,l.MZ)()],it.prototype,"messages",void 0),(0,o.Cg)([(0,l.MZ)()],it.prototype,"loadingMessages",void 0),(0,o.Cg)([(0,l.MZ)({readOnly:!0})],it.prototype,"visible",null),(0,o.Cg)([(0,l.MZ)()],it.prototype,"updating",null),(0,o.Cg)([(0,l.MZ)()],it.prototype,"hasUnsupportedError",null),it=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementCutFillVisualization")],it);class rt{constructor(e,t,i,o){this.segment=e,this.previous=t,this.next=i,this.isCut=o,this._isOccluded=!1,this._n1=(0,c.vt)(),this._n2=(0,c.vt)();const r=(0,b.n)(nt,(0,b.e)(nt,e.endRenderSpace,e.startRenderSpace));(0,b.n)(this._n1,(0,b.i)(this._n1,r,(0,b.n)(st,(0,b.e)(st,t.startRenderSpace,e.startRenderSpace)))),(0,b.n)(this._n2,(0,b.i)(this._n2,r,(0,b.n)(st,(0,b.e)(st,e.startRenderSpace,i.startRenderSpace)))),this._isConvex=Se.wf.normalize((0,Ze.EJ)(this._n1,this._n2,r))<0}get isOccluded(){return this._isOccluded}updateOccluded(e){(0,b.e)(nt,this.segment.startRenderSpace,e.eye);const t=(0,b.f)(this._n1,nt)<0,i=(0,b.f)(this._n2,nt)<0,o=this._isOccluded;return this._isOccluded=this._isConvex?t&&i:t||i,this._isOccluded!==o}}const nt=(0,c.vt)(),st=(0,c.vt)();var lt=i(39356),at=i(54901),ut=i(50346),ct=i(63733),ht=i(86875);function dt(e){return null!=e&&"polygon"===e.type}var pt=i(75762),gt=i(20205),mt=i(77654),vt=i(38317),ft=i(7947),yt=i(17046),_t=i(56829),Ct=i(97513),wt=i(16008),bt=i(81773),xt=i(37159),Mt=i(65240);let At=class extends((0,Mt.B)(xt.w)){constructor(e){super(e),this.type="elevation",this.allFields.forEach(e=>{e.lockable=!1,e.setActual(null)})}get allFields(){return[this.elevation]}};(0,o.Cg)([(0,l.MZ)()],At.prototype,"type",void 0),(0,o.Cg)([(0,l.MZ)()],At.prototype,"allFields",null),At=(0,o.Cg)([(0,u.$)("esri.views.interactive.tooltip.infos.ElevationTooltipInfo")],At);let Vt=class extends _t.g{constructor(e){super(e),this.sketchOptions=new Ct.A}initialize(){const{view:e}=this;this._shiftManipulator=new gt.x(e,0),this._shiftManipulator.state|=mt.xM,this.manipulators.add(this._shiftManipulator),this.addHandles([this._createDragPipeline(),(0,y.wB)(()=>this.analysisViewData.targetGeometry,()=>this._updateManipulatorPosition(),y.OH),(0,y.wB)(()=>[this.analysisViewData.interactive,this.analysisViewData.targetGeometry,this.analysis.measureType],()=>this._updateManipulatorVisibility(),y.pc)]),this._initializeTooltip(),this.finishToolCreation()}_initializeTooltip(){const{view:e}=this;this.tooltip=(0,bt.A)(()=>({view:e,options:this.sketchOptions.tooltips})),this._tooltipInfo=new At({sketchOptions:this.sketchOptions}),this.sketchOptions.tooltips.placement="trailing",this._updateSketchOptions(),this.addHandles([(0,y.wB)(()=>this.analysisViewData.effectiveTargetElevation,()=>this._updateTooltip()),(0,y.wB)(()=>this._shouldShowTooltip,e=>{e?this._showTooltip():this._hideTooltip()}),this.tooltip.on("commit",()=>{const e=this._tooltipInfo.elevation.actual,t=(0,s.mq)(this.view.spatialReference);if(null==e||null==t)return;const i=(0,N.l3)(e,t);this._updateValue(i,{recordUndo:this.analysis.cutFillOptions.targetElevation})}),(0,y.wB)(()=>[this.analysis.displayUnits.elevation,this.analysis.inputUnits.elevation],()=>this._updateSketchOptions(),y.pc)])}destroy(){this._shiftManipulator.destroy(),this.tooltip.destroy()}onInputEvent(e){if(!this.destroyed&&!(0,bt.wG)(e,this.tooltip))return super.onInputEvent(e)}get _shouldShowTooltip(){return this.hasFocusedManipulators||"input"===this.tooltip.mode}_createDragPipeline(){return(0,yt.Xt)(this._shiftManipulator,(e,t,i)=>{var o;const r=(0,c.o8)(e.renderLocation),n=null!==(o=this.analysis.inputUnits.elevation)&&void 0!==o?o:"meters",l=(0,s.mq)(this.view.spatialReference);let a;t.next((0,ft.iv)(this.view,r,this.view.spatialReference)).next((0,yt.j5)()).next(e=>{if("start"===e.action){const{targetElevation:e}=this.analysis.cutFillOptions;a=e&&l?(0,s.oU)(e,n,l):void 0}return this._updateValue(null!=a?a+e.translationZ:e.mapEnd.z,"end"===e.action?{recordUndo:a}:void 0),e}),i.next(()=>{this._updateValue(a)})})}_updateManipulatorPosition(){const{targetGeometry:e}=this.analysisViewData,{renderCoordsHelper:t}=this.view;if(!e)return;const i=e.rings[0],o=(0,c.ci)(i[0]),r=(0,c.ci)(i[1]);t.toRenderCoords(o,e.spatialReference,o),t.toRenderCoords(r,e.spatialReference,r);const n=pt.rq.get();(0,b.e)(n,r,o);const s=pt.rq.get();(0,b.l)(s,o,r,.5);const l=t.worldBasisAtPosition(s,1,pt.rq.get()),a=t.worldBasisAtPosition(s,0,pt.rq.get()),u=(0,vt.wQ)(l,a,s,pt.Rc.get()),h=t.headingAtPosition(s,n),d=e.isClockwise(e.rings[0])?-Math.PI/2:Math.PI/2;(0,K.Qr)(u,u,(0,J.kU)(h)+d),u[12]=0,u[13]=0,u[14]=0,this._shiftManipulator.renderLocation=(0,c.o8)(s),this._shiftManipulator.modelTransform=u}_updateManipulatorVisibility(){const{interactive:e,targetGeometry:t}=this.analysisViewData,{measureType:i}=this.analysis,o=e&&null!=t&&"cut-fill"===i;this._shiftManipulator.available=o}_updateValue(e,t){var i;const o=(0,xe.Qc)(e,this.view.spatialReference);if(null==o)return;const r=null!==(i=this.analysis.inputUnits.elevation)&&void 0!==i?i:"meters",n=(0,s.oU)(o.value,o.unit,r),l=e=>{this.analysis.cutFillOptions.targetElevation=e};if(l(n),t&&"recordUndo"in t){const e=t.recordUndo;this.emit("record-undo",{apply:()=>l(n),undo:()=>l(e)})}}_getUpdatedTooltipInfo(){const{effectiveTargetElevation:e}=this.analysisViewData;return e?(this._tooltipInfo.elevation.actual=(0,xe.Qc)(e,this.view.spatialReference),this._tooltipInfo):this._tooltipInfo}_updateTooltip(){this._shouldShowTooltip&&(this.tooltip.info=this._getUpdatedTooltipInfo())}_showTooltip(){this._updateTooltip()}_hideTooltip(){var e;null===(e=this.tooltip)||void 0===e||e.clear()}_updateSketchOptions(){const{analysis:e}=this,{displayUnits:t,inputUnits:i}=e;this.sketchOptions.values.inputUnits=new wt.A({verticalLength:i.elevation}),this.sketchOptions.values.displayUnits=new wt.A({verticalLength:t.elevation})}};(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Vt.prototype,"analysis",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Vt.prototype,"view",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Vt.prototype,"analysisViewData",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0,type:Ct.A})],Vt.prototype,"sketchOptions",void 0),(0,o.Cg)([(0,l.MZ)()],Vt.prototype,"_shouldShowTooltip",null),Vt=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementShiftTool")],Vt);var Rt=i(2144),Pt=i(18295),Ft=i(18279);let Tt=class extends f.A{constructor(e){super(e),this._updatingHandles=new x.U,this._operationManager=new Rt.b,this._onUndoRedo=()=>{this._updateGeometryFromSketchGraphic()}}initialize(){const{analysis:e,analysisViewData:t,view:i}=this;this._graphicsLayer=new ct.A({listMode:"hide",internal:!0,elevationInfo:{mode:"on-the-ground"}});const o=(0,Pt.B)(i,{selfEnabled:!0,excludeInternal:!0});this._sketchViewModel=new Ft.A({layer:this._graphicsLayer,view:i,updateOnGraphicClick:!1,defaultUpdateOptions:{reshapeOptions:{shapeOperation:"none"},enableRotation:!1,enableScaling:!1,enableMoveAllGraphics:!1,enableZ:!1,multipleSelectionEnabled:!1,toggleToolOnClick:!1,tool:"reshape"},polygonSymbol:this._polygonSymbol,snappingOptions:o.options}),this.addHandles([this._sketchViewModel.on(["undo","redo"],this._onUndoRedo),(0,y.wB)(()=>({map:i.map,internalGraphicsLayer:this._graphicsLayer,state:this.state}),e=>{let{map:t,internalGraphicsLayer:i,state:o}=e;switch(function(e,t){t&&(t.removeFromParent(),null===e||void 0===e||e.add(t))}(t,i),o){case"idle":case"reshaping-disabled":this._operationManager.stop(),this._graphicsLayer.removeAll(),this._ensureUpdatedSketchGraphic();break;case"reshaping":(0,ut.QZ)(this._startReshape());break;case"awaiting-sketch":this.analysisViewData.interactive=!0}},y.pc),o]),this._shiftTool=new Vt({analysis:e,view:i,analysisViewData:t}),this.addHandles(this._shiftTool.on("record-undo",e=>{const t=this._sketchViewModel.activeComponent;"reshape-3d"===(null===t||void 0===t?void 0:t.type)&&t.recordUndo(e.apply,e.undo)})),i.tools.add(this._shiftTool),this.addHandles({remove:()=>i.tools.remove(this._shiftTool)})}destroy(){this._operationManager.destroy(),this._sketchViewModel.destroy();const e=this._graphicsLayer;this.view.map.remove(e),e.destroy()}get sketchGraphic(){return this._get("sketchGraphic")}set sketchGraphic(e){e!==this._get("sketchGraphic")&&(this._set("sketchGraphic",e),this._updateGeometryFromSketchGraphic())}get state(){const{geometry:e}=this.analysis,{interactive:t,visible:i}=this.analysisViewData;return i?this._sketchViewModel.createGraphic?this._sketchViewModel.createGraphic===this.sketchGraphic?"sketching":"awaiting-sketch":e?t?"reshaping":"reshaping-disabled":"idle":"idle"}get updating(){return this._sketchViewModel.updating||this._updatingHandles.updating}get _polygonSymbol(){return new ht.A({color:[0,0,0,0],outline:{color:[0,0,0,0]}})}place(e){return this._operationManager.start("place",async t=>{const i=this.analysis.clone();this._ensureUpdatedSketchGraphic();const o=this._sketchViewModel.on("create",e=>{switch(e.state){case"start":this._graphicsLayer.removeAll(),this.sketchGraphic=e.graphic;break;case"active":this._updateGeometryFromSketchGraphic();break;case"complete":this._updateGeometryFromSketchGraphic(),t.stop();break;case"cancel":t.stop()}});t.handles.push(o,(0,at.hA)(()=>(o.remove(),this._sketchViewModel.cancel(),this._updateGeometryFromSketchGraphic(),this.analysis.valid?(0,ut.G4)(e)||i.equals(this.analysis)?t.reject():void t.resolve({}):(this._clearGeometry(),t.reject())))),await this._updatingHandles.addPromise(this._sketchViewModel.create("polygon"))},e)}_startReshape(){return this._operationManager.start("reshape",async e=>{const t=()=>{const e=this._ensureUpdatedSketchGraphic();return e?(this._graphicsLayer.removeAll(),this._graphicsLayer.add(e),this._updatingHandles.addPromise(this._sketchViewModel.update(e,{tool:"reshape"}))):Promise.resolve()};if(!this._ensureUpdatedSketchGraphic())return;const i=this._sketchViewModel.on("update",i=>{this._updateGeometryFromSketchGraphic(),"complete"===i.state&&("reshaping"===this.state?(0,ut.QZ)(t()):e.resolve())});e.handles.push(i,(0,at.hA)(()=>{i.remove(),this._sketchViewModel.cancel(),e.resolve()})),await t()})}_ensureUpdatedSketchGraphic(){var e;const{geometry:t}=this.analysis;return dt(t)?(null!==(e=this.sketchGraphic)&&void 0!==e||(this.sketchGraphic=new lt.A({geometry:t,symbol:this._polygonSymbol})),this.sketchGraphic.geometry=t,this.sketchGraphic):(this.sketchGraphic=null,null)}_clearGeometry(){this.sketchGraphic=null,this.analysis.geometry=null}_updateGeometryFromSketchGraphic(){const e=this.sketchGraphic;this.analysis.geometry=function(e){return dt(null===e||void 0===e?void 0:e.geometry)}(e)?e.geometry:null}get test(){}};(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Tt.prototype,"analysisViewData",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Tt.prototype,"view",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0})],Tt.prototype,"analysis",void 0),(0,o.Cg)([(0,l.MZ)()],Tt.prototype,"sketchGraphic",null),(0,o.Cg)([(0,l.MZ)({nonNullable:!0})],Tt.prototype,"state",null),(0,o.Cg)([(0,l.MZ)()],Tt.prototype,"updating",null),(0,o.Cg)([(0,l.MZ)()],Tt.prototype,"_polygonSymbol",null),Tt=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurement.VolumeMeasurementTool")],Tt);let kt=class extends p.P{constructor(e){super(e),this.type="volume-measurement-view-3d",this.analysis=null,this.elevationAlignedGeometry=null,this.targetGeometry=null}initialize(){const{analysis:e,view:t}=this;this._analysisController=new Me({view:t,analysis:e,analysisViewData:this}),this._analysisTool=new Tt({analysis:e,view:t,analysisViewData:this}),this._analysisVisualization=new it({view:t,analysis:e,analysisViewData:this})}destroy(){this._analysisController=(0,n.pR)(this._analysisController),this._analysisVisualization=(0,n.pR)(this._analysisVisualization),this._analysisTool.destroy()}get error(){var e,t;return null!==(e=null===(t=this._analysisController)||void 0===t?void 0:t.error)&&void 0!==e?e:null}get result(){var e;return null===(e=this._analysisController)||void 0===e?void 0:e.result}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get visible(){return super.visible}set visible(e){super.visible=e}get effectiveTargetElevation(){var e,t;const{cutFillOptions:i,inputUnits:o}=this.analysis,{targetElevation:r}=i,n=null!==(e=null===o||void 0===o?void 0:o.elevation)&&void 0!==e?e:"meters",l=(0,s.mq)(this.view.spatialReference);if(null!=r&&null!=l)return(0,s.oU)(r,n,l);const a=null===(t=this.elevationAlignedGeometry)||void 0===t?void 0:t.extent;return null==(null===a||void 0===a?void 0:a.zmin)||null==(null===a||void 0===a?void 0:a.zmax)?null:(a.zmax+a.zmin)/2}get effectiveDisplayUnits(){var e,t;const{displayUnits:i}=this.analysis,o=(0,d.c)(this.view);return{elevation:null!==(e=i.elevation)&&void 0!==e?e:o,volume:null!==(t=i.volume)&&void 0!==t?t:o}}get labelAnchors(){const{elevationAlignedGeometry:e,view:t}=this,{renderCoordsHelper:i}=t;if(!e)return{cut:null,fill:null};let o=e.rings[0][0],r=e.rings[0][0];e.rings[0].forEach(e=>{e[2]>o[2]&&(o=e),e[2]<r[2]&&(r=e)});const{spatialReference:n}=e,s=new h.A({x:o[0],y:o[1],z:o[2],spatialReference:n}),l=new h.A({x:r[0],y:r[1],z:r[2],spatialReference:n}),a=(0,c.vt)(),u=(0,c.vt)();return i.toRenderCoords(s,a),i.toRenderCoords(l,u),{cut:a,fill:u}}get updating(){return null!=this._analysisController&&this._analysisController.updating||this._analysisTool.updating||this._analysisVisualization.updating}place(e){return this._analysisTool.place(e)}get test(){}};(0,o.Cg)([(0,l.MZ)()],kt.prototype,"error",null),(0,o.Cg)([(0,l.MZ)({readOnly:!0})],kt.prototype,"type",void 0),(0,o.Cg)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],kt.prototype,"analysis",void 0),(0,o.Cg)([(0,l.MZ)({readOnly:!0})],kt.prototype,"result",null),(0,o.Cg)([(0,l.MZ)()],kt.prototype,"elevationAlignedGeometry",void 0),(0,o.Cg)([(0,l.MZ)({type:Number})],kt.prototype,"effectiveTargetElevation",null),(0,o.Cg)([(0,l.MZ)()],kt.prototype,"targetGeometry",void 0),(0,o.Cg)([(0,l.MZ)()],kt.prototype,"effectiveDisplayUnits",null),(0,o.Cg)([(0,l.MZ)()],kt.prototype,"labelAnchors",null),(0,o.Cg)([(0,l.MZ)()],kt.prototype,"updating",null),kt=(0,o.Cg)([(0,u.$)("esri.views.3d.analysis.VolumeMeasurementAnalysisView3D")],kt);const St=kt},65240:(e,t,i)=>{i.d(t,{B:()=>h});var o=i(6326),r=i(24648),n=i(46053),s=(i(81806),i(76460),i(47249),i(87990)),l=i(12294),a=i(5512),u=i(69077),c=i(90659);const h=e=>{const t=e;let i=class extends t{constructor(){super(...arguments),this.longitude=(0,a.em)(),this.latitude=(0,a.fL)(),this.x=(0,a.Hw)(),this.y=(0,a.uf)(),this.elevation=(0,a.S3)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===e||void 0===e?void 0:e.spatialReference;if(this.geographic=!!t&&(0,c.yF)(t),null==e)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const t=(0,l.QP)(e,d);this._setActualLonLat((0,u.m6)(null===t||void 0===t?void 0:t[0]),(0,u.m6)(null===t||void 0===t?void 0:t[1]))}else this._setActualXY((0,r.LF)(e.x),(0,r.LF)(e.y))}_setActualLonLat(e,t){this.longitude.actual=e,this.latitude.actual=t}_setActualXY(e,t){this.x.actual=e,this.y.actual=t}};return(0,o.Cg)([(0,n.MZ)()],i.prototype,"geographic",void 0),(0,o.Cg)([(0,n.MZ)()],i.prototype,"effectiveX",null),(0,o.Cg)([(0,n.MZ)()],i.prototype,"effectiveY",null),(0,o.Cg)([(0,n.MZ)()],i.prototype,"key",null),i=(0,o.Cg)([(0,s.$)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],i),i},d=[0,0]},69366:(e,t,i)=>{i.d(t,{C:()=>p,a:()=>m,b:()=>g});var o,r=i(57528),n=i(55855),s=i(73398),l=i(58350),a=i(21390),u=i(86955),c=i(70367),h=i(31432),d=i(2687);class p extends h.Y{constructor(){super(...arguments),this.borderColor=(0,n.vt)()}}function g(){const e=new d.N5;return e.include(s.c),e.outputs.add("fragColor","vec4",0),e.fragment.uniforms.add(new c.N("colorTexture",e=>e.color),new c.N("cutFillVolumes",e=>e.cutFillVolumes),new c.N("cutFillMask",e=>e.cutFillMask),new a.m("pixelRatio",(e,t)=>t.camera.pixelRatio),new l.E("borderColor",e=>e.borderColor)).main.add((0,u.H)(o||(o=(0,r.A)(["vec4 color = texture(colorTexture, uv, 0.0);\nvec4 volumesColor = texture(cutFillVolumes, uv, 0.0);\nivec2 iuv = ivec2(uv * vec2(textureSize(cutFillMask, 0)));\nvec2 m0 = texelFetch(cutFillMask, iuv, 0).rg;\nvec2 m1 = texelFetch(cutFillMask, iuv + ivec2(-1, 0), 0).rg;\nvec2 m2 = texelFetch(cutFillMask, iuv + ivec2(1, 0), 0).rg;\nvec2 m3 = texelFetch(cutFillMask, iuv + ivec2(0, -1), 0).rg;\nvec2 m4 = texelFetch(cutFillMask, iuv + ivec2(0, 1), 0).rg;\nfloat d = (\nstep(1.5, abs(m0.r - m1.r) + abs(m0.g - m1.g))\n+ step(1.5, abs(m0.r - m2.r) + abs(m0.g - m2.g))\n+ step(1.5, abs(m0.r - m3.r) + abs(m0.g - m3.g))\n+ step(1.5, abs(m0.r - m4.r) + abs(m0.g - m4.g))\n) * 0.25 * pixelRatio;\nvec4 base = mix(color, volumesColor, max(m0.r, m0.g) * volumesColor.a);\nfragColor = mix(base, borderColor, d);"])))),e}const m=Object.freeze(Object.defineProperty({__proto__:null,CutFillCompositionPassParameters:p,build:g},Symbol.toStringTag,{value:"Module"}))},71686:(e,t,i)=>{i.d(t,{C:()=>g,a:()=>f,b:()=>m});var o,r,n=i(57528),s=i(34761),l=i(13191),a=i(9392),u=i(86955),c=i(23687),h=i(12216),d=i(31432),p=i(2687);class g extends d.Y{constructor(){super(...arguments),this.origin=a.uY}}function m(){const e=new p.N5;return e.attributes.add("position","vec3"),e.outputs.add("fragColor","vec4",0),e.vertex.uniforms.add(new c.F("proj",e=>e.camera.projectionMatrix),new h.S("view",(e,t)=>(0,s.Tl)(v,t.camera.viewMatrix,e.origin))).main.add((0,u.H)(o||(o=(0,n.A)(["gl_Position = proj * view * vec4(position, 1.0);\ngl_Position.z = min(gl_Position.z, gl_Position.w);"])))),e.fragment.main.add((0,u.H)(r||(r=(0,n.A)(["fragColor = vec4(1, 1, 0, 0);"])))),e}const v=(0,l.vt)(),f=Object.freeze(Object.defineProperty({__proto__:null,CutFillMaskDrawParameters:g,build:m},Symbol.toStringTag,{value:"Module"}))},72915:(e,t,i)=>{i.d(t,{C:()=>c,a:()=>d,b:()=>h});var o,r=i(57528),n=i(73398),s=i(86955),l=i(70367),a=i(31432),u=i(2687);class c extends a.Y{}function h(){const e=new u.N5;return e.include(n.c),e.fragment.uniforms.add(new l.N("cutFillDepthTexture",e=>e.depthTexture)),e.fragment.main.add((0,s.H)(o||(o=(0,r.A)(["ivec2 iuv = ivec2(gl_FragCoord.xy) * 2;\nvec2 sum = vec2(0.0);\nfor (int dx = 0; dx < 2; dx++) {\nfor (int dy = 0; dy < 2; dy++) {\nsum += texelFetch(cutFillDepthTexture, iuv + ivec2(dx, dy), 0).rg;\n}\n}\nfragColor = vec4(sum.r, sum.g, 0.0, 0.0);"])))),e}const d=Object.freeze(Object.defineProperty({__proto__:null,CutFillReductionParameters:c,build:h},Symbol.toStringTag,{value:"Module"}))},86401:(e,t,i)=>{i.d(t,{Ci:()=>r,KL:()=>l,dB:()=>s,l5:()=>n,wB:()=>a});var o=i(48549);const r=(0,o.BP)().vec3f("position").freeze(),n=(0,o.BP)().vec3f("position").vec2f16("uv0").freeze(),s=(0,o.BP)().vec3f("position").vec4u8("color").freeze(),l=(0,o.BP)().vec3f("position").vec2f("uv0").freeze(),a=(0,o.BP)().vec3f("position").vec2f("uv0").vec4u8("olidColor").freeze()}}]);
//# sourceMappingURL=6588.0f64301a.chunk.js.map