{"version":3,"file":"static/js/8383.b68dabc4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/graphic/isBuildingGraphicOrigin.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/utils.js","../node_modules/@arcgis/core/graphic/BuildingGraphicOrigin.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst i=Symbol(\"isBuildingGraphicOrigin\");function n(n){return!!n&&i in n}export{n as isBuildingGraphicOrigin,i as isBuildingGraphicOriginSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";import{forEachBuildingSublayer as l}from\"./utils.js\";const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:a}}},read:!1}};function a(r,o,t){if(r&&Array.isArray(r))return new e(r.map(r=>{const e=c(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null}))}function c(r){return\"group\"===r.layerType?d:n}let d=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,r=>l(this.sublayers,e=>{\"building-group\"!==e.type&&r(e)}))}static{this.sublayersProperty=p}static{this.readSublayers=a}};r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],d.prototype,\"listMode\",void 0),r([t(p)],d.prototype,\"sublayers\",void 0),d=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],d);export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction o(r,u){r.forEach(r=>{u(r),\"building-group\"===r.type&&o(r.sublayers,u)})}export{o as forEachBuildingSublayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{idFieldsProviderSymbol as r}from\"./getIdFieldsProvider.js\";import{popupProviderSymbol as e}from\"./getPopupProvider.js\";import{getSliceableContainerSymbol as t}from\"./getSliceableContainer.js\";import i from\"./GraphicOrigin.js\";import{isBuildingGraphicOriginSymbol as s}from\"./isBuildingGraphicOrigin.js\";var a;class o extends i{get[(a=s,e)](){return this.sublayer}get[r](){return this.sublayer}get[t](){return this.sublayer}constructor(r){super(),this[a]=!0,this.type=\"building\",this.sublayer=r}get layer(){return this.sublayer.layer}get id(){return`${this.layer.id}:__${this.sublayer.id}__`}}export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../Graphic.js\";import r from\"../../PopupTemplate.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{LoadableMixin as a}from\"../../core/Loadable.js\";import n from\"../../core/Logger.js\";import{EsriPromiseMixin as p}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as y}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as u}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../geometry/Extent.js\";import h from\"../../geometry/SpatialReference.js\";import m from\"../../graphic/BuildingGraphicOrigin.js\";import f from\"../FeatureLayer.js\";import g from\"./BuildingSublayer.js\";import{zeroCapabilities as j}from\"../support/capabilities.js\";import{popupEnabled as v}from\"../support/commonProperties.js\";import{getFieldDomain as b}from\"../support/featureLayerUtils.js\";import{defineFieldProperties as L}from\"../support/fieldProperties.js\";import I from\"../support/FieldsIndex.js\";import{unpackFieldNames as S}from\"../support/fieldUtils.js\";import{fetchIndexInfo as F}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as O,I3SMaterialDefinition as w,I3STextureSetDefinition as x,I3SGeometryDefinition as P}from\"../support/I3SLayerDefinitions.js\";import{webSceneRendererTypes as q}from\"../../renderers/support/typeUtils.js\";import T from\"../../rest/support/Query.js\";import{isNumber as Q}from\"../../support/guards.js\";import{createPopupTemplate as U}from\"../../support/popupUtils.js\";import E from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as D}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as R,getFetchPopupTemplate as A}from\"../../views/layers/support/popupUtils.js\";const _=L();let C=class extends(a(p(g))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}initialize(){this._set(\"graphicOrigin\",new m(this))}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new I(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&\"number\"==typeof o?new f({portalItem:r,customParameters:this.customParameters,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return\"\"}get globalIdField(){if(null!=this.fields)for(const e of this.fields)if(\"global-id\"===e.type)return e.name;return\"\"}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get customParameters(){return this.layer.customParameters}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then(()=>{this.indexInfo=F(this.parsedUrl.path,this.rootNode,this.nodePages,this.customParameters,this.apiKey,n.getLogger(this),t)});return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return U(this,e)}async _fetchService(e){const t=(await o(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getField(e)?.domain??null;return this.associatedLayer?b(this.associatedLayer,e,t,r):r}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:j,{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}=e;return{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryExtent(e||this.createQuery(),t))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatureCount(e||this.createQuery(),t))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatures(e||this.createQuery(),t)).then(e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this,t.origin=this.graphicOrigin;return e})}async queryObjectIds(e,t){const r=await this._getAssociatedLayerForQuery();return(await r.queryObjectIds(e||this.createQuery(),t)).filter(Q)}async queryCachedAttributes(e,t){const r=S(this.fieldsIndex,await R(this,A(this)));return D(this.parsedUrl.path,this.attributeStorageInfo,e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const o=await this.queryCachedAttributes(e,[r]);if(!o||0===o.length)throw new s(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");return new t({attributes:o[0],layer:this,sourceLayer:this})}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([l({readOnly:!0})],C.prototype,\"parsedUrl\",null),e([l({type:O,readOnly:!0})],C.prototype,\"nodePages\",void 0),e([l({type:[w],readOnly:!0})],C.prototype,\"materialDefinitions\",void 0),e([l({type:[x],readOnly:!0})],C.prototype,\"textureSetDefinitions\",void 0),e([l({type:[P],readOnly:!0})],C.prototype,\"geometryDefinitions\",void 0),e([l({readOnly:!0})],C.prototype,\"serviceUpdateTimeStamp\",void 0),e([l({readOnly:!0})],C.prototype,\"store\",void 0),e([l({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],C.prototype,\"rootNode\",void 0),e([l({readOnly:!0})],C.prototype,\"attributeStorageInfo\",void 0),e([l(_.fields)],C.prototype,\"fields\",void 0),e([l({readOnly:!0})],C.prototype,\"fieldsIndex\",null),e([l({readOnly:!0,type:f})],C.prototype,\"associatedLayer\",void 0),e([u(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],C.prototype,\"readAssociatedLayer\",null),e([l(_.outFields)],C.prototype,\"outFields\",void 0),e([l({type:String,readOnly:!0})],C.prototype,\"objectIdField\",null),e([l({type:String,readOnly:!0})],C.prototype,\"globalIdField\",null),e([l({readOnly:!0,type:String,json:{read:!1}})],C.prototype,\"displayField\",null),e([l({readOnly:!0,type:String})],C.prototype,\"apiKey\",null),e([l({readOnly:!0,type:String})],C.prototype,\"customParameters\",null),e([l({readOnly:!0,type:c})],C.prototype,\"fullExtent\",null),e([l({readOnly:!0,type:h})],C.prototype,\"spatialReference\",null),e([l({readOnly:!0})],C.prototype,\"version\",null),e([l({readOnly:!0,type:E})],C.prototype,\"elevationInfo\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"minScale\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"maxScale\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"effectiveScaleRange\",null),e([l({type:[\"hide\",\"show\"],json:{write:!0}})],C.prototype,\"listMode\",void 0),e([l({types:q,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],C.prototype,\"renderer\",void 0),e([l({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],C.prototype,\"definitionExpression\",void 0),e([l(v)],C.prototype,\"popupEnabled\",void 0),e([l({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],C.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],C.prototype,\"normalReferenceFrame\",void 0),e([l({readOnly:!0,json:{read:!1}})],C.prototype,\"defaultPopupTemplate\",null),e([l({readOnly:!0})],C.prototype,\"graphicOrigin\",void 0),e([l()],C.prototype,\"types\",null),e([l()],C.prototype,\"typeIdField\",null),e([l({json:{write:!1}}),y(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],C.prototype,\"layerType\",void 0),e([l()],C.prototype,\"geometryType\",null),e([l()],C.prototype,\"profile\",null),e([l({readOnly:!0,json:{read:!1}})],C.prototype,\"capabilities\",null),e([l({readOnly:!0})],C.prototype,\"statisticsInfo\",void 0),C=e([d(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],C);export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedMixin as r}from\"../../../core/Evented.js\";import{IdentifiableMixin as t}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,n)=>{const l=o(t(r(p)));let u=class extends l{constructor(e){super(e)}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([s()],u.prototype,\"sublayer\",void 0),e([s()],u.prototype,\"parent\",void 0),e([s()],u.prototype,\"view\",void 0),e([s({readOnly:!0})],u.prototype,\"suspended\",null),e([s({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([s()],u.prototype,\"visible\",null),e([s()],u.prototype,\"fullOpacity\",null),u=e([i(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";const o=.15,t=.5*o;function a(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function l(e,r){if(null==r)return e.color[3]=0,void(e.edgeMaterial=null);switch(r.mode){case 0:return;case 1:return e.color[3]=0,void(e.edgeMaterial=r.edgeMaterial);case 2:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=o,e.colorMixMode=3,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=c(e.edgeMaterial))}}function c(e){return null==e?null:(n.lastMaterial!==e&&(n.cachedMaterial=i(e),n.lastMaterial=e),n.cachedMaterial)}function i(r){const o=e(r.color);return o[3]*=t,{...r,color:o}}const n={cachedMaterial:null,lastMaterial:null};export{l as applyFilterMode,a as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{throwIfAborted as l,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{syncAndInitial as o,initial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import h from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as c,populateMissingFields as g}from\"../../../layers/support/fieldUtils.js\";import f from\"../../../rest/support/Query.js\";import{isNumber as m}from\"../../../support/guards.js\";import{BuildingSublayerView3DMixin as F}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as b}from\"./I3SMeshView3D.js\";import{applyFilterMode as _}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as w}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as E}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as x}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as S,I3SQueryFeature as j}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as v}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as I,getIndexCrs as Q}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as q}from\"./support/DefinitionExpressionSceneLayerView.js\";import{TemporalSceneLayerView as R}from\"./support/TemporalSceneLayerView.js\";import L from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as O,getRequiredFields as V,getFetchPopupTemplate as U}from\"../../layers/support/popupUtils.js\";import{isInEffectiveScaleRange as C}from\"../../support/layerViewUtils.js\";import{TaskPriority as A}from\"../../support/Scheduler.js\";let H=class extends(R(q(b(F(L))))){constructor(e){super(e),this.type=\"building-component-sublayer-3d\",this._elevationContext=2,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerViewUid(){return this.layerView.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&O(this.sublayer,this.layerView.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add(()=>this.mergedFilter,e=>{null!=e&&E.checkSupport(e)?null==this._i3sFilter?this._i3sFilter=new E({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError),addTimeFilter:(e,r)=>this.addTimeFilter(e,r)}):this._i3sFilter.viewFilter=e:this._i3sFilter=s(this._i3sFilter)},o),this._updatingHandles.add(()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields],()=>this._updateRequiredFields()),this._updatingHandles.add(()=>this.sublayer.renderer,e=>this._rendererChange(e),n);const e=()=>this._filterChange();this._updatingHandles.add(()=>this.parsedDefinitionExpression,e),this._updatingHandles.add(()=>this._i3sFilter?.sortedObjectIds,e),this._updatingHandles.add(()=>this._i3sFilter?.parsedWhereClause,e),this._updatingHandles.add(()=>this.getTimeFilterDependencies(),e),this._updatingHandles.add(()=>this.mergedFilter,e),this._updatingHandles.add(()=>[this._i3sFilter?.parsedGeometry,this.filter?.spatialRelationship],()=>this._geometryFilterChange()),this._updatingHandles.add(()=>this.parsedFilterExpressions,()=>this._updateSymbologyOverride(),n),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map(([e,r])=>{let t;try{t=p.create(e,{fieldsIndex:this.sublayer.fieldsIndex})}catch(a){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+a),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return I(l,this.sublayer.fieldsIndex,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]}).filter(e=>null!=e)}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",E.checkSupport(e)?e:null)}isUpdating(){return super.isUpdating()||(this._i3sFilter?.updating??!1)}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return _(t,l)}catch(i){this.logError(i)}return _(t,null)},this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce((e,[r])=>e.concat(r.fieldNames),new Array))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...c(r,i),...t]}return y(r,t)}get _graphicOrigin(){return this.sublayer.graphicOrigin}_createLayerGraphic(e){return new r({attributes:e,layer:this.sublayer.layer,sourceLayer:this.sublayer,origin:this._graphicOrigin})}canResume(){return super.canResume()&&C(this.i3slayer.effectiveScaleRange,this.view.scale)&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeaturesFromGraphics(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(0===e.length)return[];const s=[],o=[],n=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load(r):this.sublayer,u=c(this.sublayer.fieldsIndex,await V(n,U(this.sublayer,r)));l(r);const d=new Set;for(const i of e)g(i,u,d)?o.push(i):s.push(i);return 0===o.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch(()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\")),this.whenGraphicAttributes(o,Array.from(d)).catch(e=>(a(e),o)).then(e=>s.concat(e)))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields,...this.filterExpressionFields]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?U(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),this._i3sFilter?.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new f(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then(e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer,i=this._graphicOrigin;for(const s of e.features)s.layer=t,s.sourceLayer=r,s.origin=i;return e})}async queryObjectIds(e,r){return(await this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)).filter(m)}_ensureQueryEngine(){return this._queryEngine??=this._createQueryEngine(),this._queryEngine}_createQueryEngine(){const e=w(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new x({layerView:this,priority:A.FEATURE_QUERY_ENGINE,spatialIndex:new v({featureAdapter:new S({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures((r,t,i)=>e(new j(r,t,i)),r,2),getFeatureExtent:e,sourceSpatialReference:Q(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():f.from(e))}};e([u()],H.prototype,\"i3slayer\",null),e([u()],H.prototype,\"layerView\",void 0),e([u()],H.prototype,\"lodFactor\",null),e([u({readOnly:!0})],H.prototype,\"parsedFilterExpressions\",null),e([u({type:h})],H.prototype,\"filter\",null),e([u()],H.prototype,\"_i3sFilter\",void 0),e([u({type:[String],readOnly:!0})],H.prototype,\"filterExpressionFields\",null),e([u({type:[String],readOnly:!0})],H.prototype,\"requiredFields\",void 0),e([u({type:[String],readOnly:!0})],H.prototype,\"availableFields\",null),e([u()],H.prototype,\"_graphicOrigin\",null),H=e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],H);export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class t extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r,o){throw new Error(\"Not implemented\")}}r([o()],t.prototype,\"layer\",void 0),r([o()],t.prototype,\"sublayerViews\",void 0);export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../core/Accessor.js\";import i from\"../../../core/Collection.js\";import t from\"../../../core/Error.js\";import{handlesGroup as s}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,throwIfAborted as p,createResolver as h}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isBuildingGraphicOrigin as f}from\"../../../graphic/isBuildingGraphicOrigin.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import{isGraphic as m}from\"../../../support/guards.js\";import w from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as b}from\"./BuildingSublayerView3D.js\";import{LayerView3D as V}from\"./LayerView3D.js\";import{parseFilterMode as j}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as S}from\"./i3s/I3SUtil.js\";import{normalizeHighlightTarget as _,emptyHighlightHandle as C}from\"./support/highlightUtils.js\";import{LayerViewPerformanceInfo as v}from\"./support/LayerViewPerformanceInfo.js\";import{updatingProgress as B}from\"../support/updatingProperties.js\";import M from\"../../layers/BuildingSceneLayerView.js\";import{isInEffectiveScaleRange as E}from\"../../support/layerViewUtils.js\";const F=b(r);let P=class extends(V(M)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._rejectedSublayerViews=new Map,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find(r=>r.id===e):null,i=null!=r?r.filterBlocks?.find(e=>\"solid\"===e.filterMode.type):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find(r=>r.id===e):null;return r?.filterBlocks?r.filterBlocks.toArray().map(e=>[e.filterExpression??\"\",j(e)]):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce((e,r)=>e+r.updatingProgress,0)/r}get visibleAtCurrentScale(){return E(this.layer.effectiveScaleRange,this.view.scale)}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some(e=>e.updating)}initialize(){S(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSublayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach(e=>e.destroy()),this.sublayerViews=null),this._rejectedSublayerViews=null,this._abortController=l(this._abortController)}_initializeSublayerViews(e,r){const i=this,s=this.view;e.forEach(e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new F({sublayer:e,view:s,parent:r});this._initializeSublayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType?(this._loadingComponents++,e.load({signal:this._abortController.signal}).then(()=>{const t=new w({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(t);this._pendingWhenSublayerViews.delete(e)}this.addHandles([c(()=>t.updating,()=>this.notifyChange(\"updating\"),y),c(()=>t.updatingProgress,()=>this.notifyChange(\"updatingProgressValue\"),y)])}).catch(r=>{a(r)||o.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r),this._rejectWhenSublayerView(e,r)}).then(()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})):this._rejectWhenSublayerView(e,new t(\"view:no-layerview-for-sublayer\",`No layerview created for sublayer ${e.id}`))})}getGraphicFromIntersectorTarget(e,r){for(const i of this.sublayerViews.items)if(i.sublayer.id===e.sublayerId)return i.getGraphicFromIntersectorTarget(e,r);return null}async fetchPopupFeaturesFromGraphics(e,r){if(0===e.length)return[];const i=I(e,e=>f(e.origin)?e.origin.sublayer:e.sourceLayer),t=[];for(const[o,n]of i){const e=this._findComponent(o);null!=e&&t.push(e.fetchPopupFeaturesFromGraphics(n,r))}const s=await u(t);return p(r),s.flat()}whenGraphicBounds(e){const r=this._findComponent(f(e.origin)?e.origin.sublayer:e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.id===e.sublayerId)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const i=this._rejectedSublayerViews.get(e);if(null!=i)throw i;const t=this._pendingWhenSublayerViews.get(e),s=h();return t?t.push(s):this._pendingWhenSublayerViews.set(e,[s]),s.promise}_rejectWhenSublayerView(e,r){this._rejectedSublayerViews.set(e,r);const i=this._pendingWhenSublayerViews.get(e);if(i){for(const e of i)e.reject(r);this._pendingWhenSublayerViews.delete(e)}}_findComponent(e){return this.sublayerViews.find(r=>e===r.sublayer)}highlight(e,r){const i=_(e);if(0===i.length)return C;if(m(i[0])){const e=i,t=new Map;for(const r of e)n(t,f(r.origin)?r.origin.sublayer:r.sourceLayer,()=>[]).push(r);const o=[];return this.sublayerViews.forEach(e=>{const i=t.get(e.sublayer);i&&o.push(e.highlight(i,r))}),s(o)}return C}get usedMemory(){return this.sublayerViews.reduce((e,r)=>e+r.usedMemory,0)}get unloadedMemory(){return this.sublayerViews.reduce((e,r)=>e+r.unloadedMemory,0)}get performanceInfo(){return new v(this.usedMemory)}};function I(e,r){const i=new Map,t=e.length;for(let s=0;s<t;s++){const t=e[s],o=r(t,s,e),n=i.get(o);n?n.push(t):i.set(o,[t])}return i}e([d()],P.prototype,\"sublayerViews\",void 0),e([d()],P.prototype,\"_rejectedSublayerViews\",void 0),e([d({readOnly:!0})],P.prototype,\"filterExpression\",null),e([d({readOnly:!0})],P.prototype,\"filterExpressions\",null),e([d(B)],P.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0,dependsOn:[]})],P.prototype,\"updatingProgressValue\",null),e([d({readOnly:!0})],P.prototype,\"visibleAtCurrentScale\",null),P=e([g(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],P);const L=P;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let a=class extends(o(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],a.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],a.prototype,\"readTitle\",null),e([t()],a.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],a.prototype,\"id\",void 0),e([s(\"service\",\"id\")],a.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],a.prototype,\"modelName\",void 0),e([t(l(Boolean))],a.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],a.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],a.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],a.prototype,\"opacity\",void 0),a=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],a);export{a as default};\n"],"names":["i","Symbol","n","p","type","e","readOnly","json","origins","service","read","source","reader","a","r","o","t","Array","isArray","map","layerType","d","c","messages","push","s","definition","context","_Class","u","constructor","super","this","listMode","sublayers","loadAll","l","sublayersProperty","readSublayers","write","prototype","forEach","sublayer","layer","id","concat","_","L","C","g","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","renderer","definitionExpression","popupEnabled","popupTemplate","initialize","_set","m","parsedUrl","_this$layer$parsedUrl","_this$layer$parsedUrl2","path","query","fieldsIndex","I","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","f","portalItem","customParameters","layerId","objectIdField","name","globalIdField","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","F","rootNode","getLogger","addResolvingPromise","Promise","resolve","U","_objectSpread","token","responseType","data","origin","url","getField","get","getFieldDomain","_this$getField$domain","_this$getField","domain","b","getFeatureType","types","_this$associatedLayer","typeIdField","geometryType","profile","capabilities","j","operations","supportsQuery","supportsZ","supportsM","isVersioned","createQuery","T","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","graphicOrigin","queryObjectIds","filter","Q","queryCachedAttributes","S","R","A","D","queryCachedFeature","length","attributes","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","O","w","x","P","String","h","E","Number","q","value","enabled","allowNull","v","target","y","Point","suspended","canResume","updating","isUpdating","visible","_this$sublayer","_overrideIfSome","fullOpacity","_this$sublayer2","_this$parent","opacity","parent","_this$parent2","_this$view","view","ready","Boolean","filterMode","mode","edgeMaterial","edges","color","colorMixMode","castShadows","pickable","lastMaterial","cachedMaterial","arguments","availableFields","Error","highlight","H","_elevationContext","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerViewUid","layerView","uid","sublayerId","layerPopupEnabledAndHasTemplate","_this$layerView$view$","popup","defaultPopupTemplateEnabled","_updatingHandles","add","mergedFilter","checkSupport","_i3sFilter","viewFilter","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","addTimeFilter","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","_this$_i3sFilter","sortedObjectIds","_this$_i3sFilter2","parsedWhereClause","getTimeFilterDependencies","_this$_i3sFilter3","_this$filter","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","lodFactor","qualitySettings","sceneService","object","modelName","filterExpressions","_ref","create","isStandardized","fieldNames","missingFields","join","_get","_this$_i3sFilter$upda","_this$_i3sFilter4","_setSymbologyOverride","testFeature","reduce","_ref2","_graphicOrigin","_createLayerGraphic","scale","_controller","rootNodeVisible","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","V","Set","catch","warn","whenGraphicAttributes","from","getRequiredFields","getFilters","_this$_i3sFilter5","addFilters","crsIndex","_collection","outSpatialReference","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","executeQueryForIds","_this$_queryEngine","_createQueryEngine","renderSpatialReference","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","getFeatureExtent","forAllFeatures","_forAllFeatures","sourceSpatialReference","viewSpatialReference","_addDefinitionExpressionToQuery","sublayerViews","M","_rejectedSublayerViews","Map","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","ignoresMemoryFactor","filterExpression","_r$filterBlocks","activeFilterId","filters","find","filterBlocks","toArray","_e$filterExpression","updatingProgressValue","updatingProgress","visibleAtCurrentScale","some","viewingMode","_initializeSublayerViews","destroy","isEmpty","delete","addHandles","notifyChange","_rejectWhenSublayerView","getGraphicFromIntersectorTarget","items","set","_findComponent","flat","whenGraphicBounds","reject","getAABBFromIntersectorTarget","whenSublayerView","promise","usedMemory","unloadedMemory","performanceInfo","B","dependsOn","title","legendEnabled","readTitle","alias","readIdOnlyOnce","ignoreOrigin","isRequired","nonNullable"],"sourceRoot":""}