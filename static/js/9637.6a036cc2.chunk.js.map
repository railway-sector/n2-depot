{"version":3,"file":"static/js/9637.6a036cc2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js","../node_modules/@arcgis/core/core/maybeUpdating.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{const p=t;let d=class extends p{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fieldsIndex,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){if(null==r)return!0;try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i({readOnly:!0})],d.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],d.prototype,\"definitionExpressionFields\",null),d=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],d),d};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Evented as e}from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{findInMap as t,someMap as s}from\"../../../../core/MapUtils.js\";class i extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter(e=>!i.has(e.objectId)):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit(\"change\",{added:[],removed:i}),s.forEach(e=>this._updateForeignGraphics(e))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return t(this._graphics,e)}some(e){return s(this._graphics,e)}forEach(e){this._graphics.forEach(t=>e(t))}forEachNode(e){this._nodes.forEach((t,s)=>e(t,s))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach((t,s)=>{t.graphics.forEach(t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)})}),e.forEach((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach(e=>{this._nodes.get(e)})})}}export{i as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import\"../../../core/has.js\";import t from\"../../../core/Logger.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{estimateNumberArrayMemory as i}from\"../../../core/memoryEstimations.js\";import{throwIfAborted as s}from\"../../../core/promiseUtils.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{generateUID as n}from\"../../../core/uid.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{j as u}from\"../../../chunks/vec32.js\";import{create as h,ZEROS as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as c}from\"../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as g}from\"../../../geometry/projection/projectVectorToVector.js\";import{extentContainsCoords3D as m,extentContainsCoords2D as y}from\"../../../geometry/support/contains.js\";import{newDoubleArray as f,doubleArrayFrom as _}from\"../../../geometry/support/DoubleArray.js\";import{getGeometryZScaler as b}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as v}from\"../../../layers/LayerConstants.js\";import{estimateSize as I}from\"../../../layers/graphics/dehydratedFeatures.js\";import{ImmutableDehydratedPoint as x}from\"../../../layers/graphics/dehydratedPoint.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import w from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import j from\"../../../layers/support/FeatureFilter.js\";import O from\"../../../rest/support/Query.js\";import{isBasemapLayerView as N}from\"../../../support/basemapUtils.js\";import{isGraphic as C}from\"../../../support/guards.js\";import{I3SPointsWorkerHandle as D}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as S}from\"./LayerView3D.js\";import{Graphics3DFeatureProcessor as F}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as G}from\"./graphics/QueryEngine.js\";import{QueryEngineContext as A}from\"./graphics/QueryEngineContext.js\";import{createInteractiveEditSession as V,normalizeEditResultsEvent as P,processAttributeEdits as L}from\"./i3s/featureEditing.js\";import{getCachedAttributeValue as R}from\"./i3s/I3SBinaryReader.js\";import{I3SGraphicsMap as H}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as M}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as U,checkSpatialReferences as Q,containsDraco as q,whenGraphicAttributes as T}from\"./i3s/I3SUtil.js\";import{attributeLookup as B}from\"./support/attributeUtils.js\";import{DefinitionExpressionSceneLayerView as k}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as z}from\"./support/fieldProperties.js\";import{normalizeHighlightTarget as W,emptyHighlightHandle as K,isObjectId as Z}from\"./support/highlightUtils.js\";import{LayerViewPerformanceInfo as $}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as Y}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as J}from\"./support/SceneLayerViewRequiredFields.js\";import{TemporalSceneLayerView as X}from\"./support/TemporalSceneLayerView.js\";import{debugFlags as ee}from\"../support/debugFlags.js\";import{compute as te}from\"../support/orientedBoundingBox.js\";import{updatingProgress as re}from\"../support/updatingProperties.js\";import{Vertices as ie}from\"../webgl-engine/lib/Attribute.js\";import se from\"../../layers/SceneLayerView.js\";import{hasPopupTemplate as oe}from\"../../layers/support/popupUtils.js\";import{getHighlightName as ae}from\"../../support/highlightOptionsUtils.js\";import{hasLayerBasedScaleVisibility as ne,isInEffectiveScaleRange as le}from\"../../support/layerViewUtils.js\";import{TaskPriority as de}from\"../../support/Scheduler.js\";const ue=z();class he{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get usedMemory(){return this.graphics.reduce((e,t)=>I(t)+e,i(this.featureIds)+1024)}}let pe=class extends(X(k(Y(S(se))))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new H((e,t,r)=>ye(e,t,r),e=>this.processor.graphicsCore.recreateGraphics(e)),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then(()=>{s(t),U(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const i=this.view.resourceController?.memoryController;this._i3sOverrides=new M({view:this.view,layer:e,memoryController:i}),r(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()}):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new M({view:this.view,layer:this.layer,memoryController:e}),Q(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new J({layerView:this}),this._updatingHandles.add(()=>this.layer.rangeInfos,e=>this._rangeInfosChanged(e),o),this._updatingHandles.add(()=>this.layer.renderer,(e,t)=>this._rendererChange(e,t)),this._updatingHandles.add(()=>[this.parsedDefinitionExpression,this.layer.excludeObjectIds],()=>this._filterChange()),this._set(\"processor\",new F({owner:this,preferredUpdatePolicy:0,scaleVisibilityEnabled:!ne(),filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t)),this.supportsHeightUnitConversion&&(this._verticalScale=b(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new w({layerView:this}),q(this.layer.geometryDefinitions)&&(this._workerHandle=new D(e=>this.view.resourceController.immediate.schedule(e))),this.addHandles(this.layer.on(\"apply-edits\",e=>this._updatingHandles.addPromise(e.result))),this.addHandles([this.layer.on(\"edits\",e=>{const t=this._pendingEditsQueue.then(()=>this._handleEdits(e)).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)}),a(()=>ee.I3S_TREE_SHOW_TILES,e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then(({I3STreeDebugger:t})=>{!this._treeDebugger&&ee.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))})}else e||!this._treeDebugger||ee.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)},o)]),this.when(()=>{this._setupQueryEngine(),this._updatingHandles.add(()=>this.maximumNumberOfFeatures,e=>this._controller.featureTarget=e,o),this._updatingHandles.add(()=>this.suspended,e=>{e&&this._removeAllNodeData()})})}destroy(){this._treeDebugger=r(this._treeDebugger),this._i3sOverrides=r(this._i3sOverrides),this._set(\"processor\",r(this.processor)),this._controller=r(this._controller),this._queryEngine=r(this._queryEngine),this._workerHandle=r(this._workerHandle),this._memCache=r(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=r(this._fieldsHelper)}get i3slayer(){return this.layer}get layerViewUid(){return this.uid}get updatingProgressValue(){return this._controller?.updatingProgress??1}get visibleAtCurrentScale(){return ne()?le(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIds(){return new Set(this.layer.excludeObjectIds)}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}get _graphicOrigin(){return this.layer.graphicOrigin}async whenGraphicAttributes(e,t){return T(this.layer,e,this._getObjectIdField(),t,()=>[...this.loadedGraphics.nodes()])}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find(t=>t.uid===e),this.layer,this._graphicOrigin),r=this._getObjectIdField();return null==t?.attributes?.[r]?null:{type:\"graphic\",graphic:t,layer:t.layer}}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){const r=ae(t),i=this.layer.objectIdField,s=W(e);if(0===s.length)return K;if(C(s[0])){const e=s;if(null!=B(this.layer.fieldsIndex,e[0].attributes,i)){const t=e.map(e=>B(this.layer.fieldsIndex,e.attributes,i));return this.processor.highlightByObjectIds(t,i,r)}return this.processor.highlightByGraphics(e,r)}return Z(s[0])?this.processor.highlightByObjectIds(s,i,r):K}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return V(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._workerHandle&&(this._workerHandle=new D(e=>this.view.resourceController.immediate.schedule(e)));const i=await this._workerHandle.invoke(r,t);if(null==i)throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,r,i){if(!me(r)&&!ge(r))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void t.getLogger(this).error(\"I3S node \"+e.id+\" already added\");const s=null!=this.layer.fullExtent?_e(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=me(r)?await this._extractBinaryPointPositions(e,r,i):this._extractLegacyPointPositions(r),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;c(a,l,0,a,d,0,o.length);const u=me(r)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new he(h,o,r.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,r.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),fe(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const t of p.graphics)this._verticalScale(t.geometry);const g=this.view.stage.renderView.olidRenderHelper;if(g){const e=N(this.view,this.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];g.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.uid,this.layer.popupEnabled&&!e&&oe(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;c(t,r,0,t,s,0),e.serviceObbInIndexSR=te(new ie(t,3)),i.isGeographic&&(g(e.serviceObbInIndexSR.center,s,ve,i),e.serviceObbInIndexSR.center=ve)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}getNodeComponentHandle(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=f(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:p,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?_(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=f(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??be[a],l=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,r,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=r.length,n=3;for(let l=0;l<a;l++){const r=l*n;u(ve,i[r],i[r+1],i[r+2]);const a=!Number.isNaN(i[2]);null==s||(a?m(s,ve):y(s,ve))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&t.getLogger(this).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&t.getLogger(this).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(ve[0],ve[1],ve[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??n(),g=h*o,m=isNaN(t[g+2])?void 0:t[g+2],y=new x(u,t[g],t[g+1],m),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(Ie.property=\"geometry\",Ie.graphic=f,Ie.oldValue=f.geometry,Ie.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(Ie),xe()),d.push(f);else{const e=n();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(e.numFeatures??0)*this.processor.graphicsCore.usedMemoryPerGraphic}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)}),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,r,i,s){this.loadedGraphics.hasNode(e.index)?t.getLogger(this).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.applyAttributeOverrides(r.featureIds,i,s),r.attributeInfo=i,this.loadedGraphics.addNode(e.index,r),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),fe(r),this._filterNode(r),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode(t=>e.push(t.node.id)),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode(t=>e.push(t.node)),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode((t,r)=>e.push(r))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){fe(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach(e=>e.nodeIndex===t&&i.push(e.uid)),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||v}_getGlobalIdField(){return this.layer.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every((e,t)=>s[t]===o[t])||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&t.getLogger(this).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode(e=>this._filterNode(e))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const t=this.parsedDefinitionExpression,r=this._excludeObjectIds,i=this._getObjectIdField();for(const s of e.graphics){const e=s.visible,o=this._evaluateClause(t,s),a=!r.has(s.attributes[i]);s.visible=o&&a,e!==s.visible&&(Ie.graphic=s,Ie.property=\"visible\",Ie.oldValue=e,Ie.newValue=s.visible,this.processor.graphicsCore.graphicUpdateHandler(Ie),xe())}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return this.filter?.createQuery(e)??new O(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():O.from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new A(s,e,o,()=>this.processor.featureStore,i,r);this._queryEngine=new G({context:a,priority:de.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await P(t,e);L(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode(t=>e(t.node,t.featureIds)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new $(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};e([l()],pe.prototype,\"processor\",void 0),e([l({type:j})],pe.prototype,\"filter\",void 0),e([l()],pe.prototype,\"loadedGraphics\",void 0),e([l()],pe.prototype,\"i3slayer\",null),e([l()],pe.prototype,\"layerViewUid\",null),e([l()],pe.prototype,\"_controller\",void 0),e([l()],pe.prototype,\"updating\",void 0),e([l()],pe.prototype,\"suspended\",void 0),e([l(re)],pe.prototype,\"updatingProgress\",void 0),e([l()],pe.prototype,\"updatingProgressValue\",null),e([l({readOnly:!0})],pe.prototype,\"visibleAtCurrentScale\",null),e([l(ue.requiredFields)],pe.prototype,\"requiredFields\",null),e([l(ue.availableFields)],pe.prototype,\"availableFields\",void 0),e([l()],pe.prototype,\"_fieldsHelper\",void 0),e([l({type:Number})],pe.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0})],pe.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l()],pe.prototype,\"_excludeObjectIds\",null),e([l({readOnly:!0})],pe.prototype,\"lodFactor\",null),e([l({readOnly:!0})],pe.prototype,\"hasM\",null),e([l({readOnly:!0})],pe.prototype,\"hasZ\",null),e([l()],pe.prototype,\"contentVisible\",null),e([l({readOnly:!0})],pe.prototype,\"legendEnabled\",null),e([l()],pe.prototype,\"_graphicOrigin\",null),pe=e([d(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],pe);const ce=pe;function ge(e){return\"pointData\"in e}function me(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ye(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=R(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function fe(e){const t=e.attributeInfo;if(null==t?.loadedAttributes||null==t.attributeData)return;const r=e.node.index;for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=R(t.attributeData[e],i))}}}function _e(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const be={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},ve=h(),Ie={graphic:null,property:null,oldValue:null,newValue:null};function xe(){Ie.graphic=null,Ie.property=null,Ie.oldValue=null,Ie.newValue=null}export{ce as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import n from\"../../../../layers/support/FeatureFilter.js\";import{combineTimeExtent as s}from\"../../../../layers/support/timeSupport.js\";import{getCachedAttributeValue as o}from\"../i3s/I3SBinaryReader.js\";import{filterInPlace as l}from\"../i3s/I3SUtil.js\";const u=i=>{const o=i;let l=class extends o{get timeExtent(){return s(this.i3slayer,this.view?.timeExtent,this._get(\"timeExtent\"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new n;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:n,useTime:s}=r;if(!s||null==i&&null==n)return;const o=r.toJSON(),l=e.toJSON();t.push((t,e)=>m(t,e,o,l))}};return t([e({readOnly:!0})],l.prototype,\"timeExtent\",null),t([e()],l.prototype,\"mergedFilter\",null),l=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],l),l};function m(t,e,r,n){const s=e.attributeInfo?.attributeData;if(null==s)return;const{startTimeField:o,endTimeField:u}=r;if(!!(null!=o&&null==s[o]||null!=u&&null==s[u]))return;const m=i(r,n,new a(s));if(null==m)return;const{featureIds:p}=e;l(t,p,m)}class a{constructor(t){this.attributeData=t}getAttribute(t,e){return o(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n"],"names":["t","p","d","constructor","super","arguments","this","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","r","e","getLogger","error","parsedDefinitionExpression","_this$i3slayer","i3slayer","definitionExpression","o","create","fieldsIndex","isStandardized","i","s","fieldNames","n","missingFields","length","concat","join","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","clone","where","readOnly","prototype","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","clear","size","toArray","emit","added","removed","get","getNode","hasNode","has","nodes","values","addNode","set","graphics","Set","objectId","h","add","push","nodeIndex","_updateForeignGraphics","filter","removeNode","delete","indexOf","splice","node","level","forEach","index","Array","from","find","some","forEachNode","nodeCount","_checkInvariants","_e$get","ue","z","he","featureIds","attributeInfo","usedMemory","reduce","I","pe","X","k","Y","S","se","type","_queryEngine","_memCache","_interactiveEditingSessions","_pendingEditsQueue","Promise","resolve","loadedGraphics","H","loadedAttributes","attributeData","name","R","attributes","ye","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","tryRecycleWith","url","layer","_i3sOverrides","isEmpty","load","then","_this$view$resourceCo","U","destroy","view","resourceController","memoryController","M","_setupQueryEngine","resetObjectStates","initialize","_this$view$resourceCo2","_this$processor$eleva","addResolvingPromise","indexInfo","Q","spatialReference","viewingMode","_fieldsHelper","J","layerView","_updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","excludeObjectIds","_filterChange","_set","F","owner","preferredUpdatePolicy","scaleVisibilityEnabled","ne","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_ref","extent","_controller","updateElevationChanged","_verticalScale","b","when","newCache","uid","w","q","geometryDefinitions","_workerHandle","D","immediate","schedule","addHandles","addPromise","result","_handleEdits","a","ee","I3S_TREE_SHOW_TILES","_treeDebugger","crsIndex","_ref2","I3STreeDebugger","lv","nodeSR","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","layerViewUid","updatingProgressValue","_this$_controller$upd","_this$_controller","updatingProgress","visibleAtCurrentScale","_this$processor","le","effectiveScaleRange","scale","scaleVisibilitySuspended","requiredFields","_this$_fieldsHelper$r","_this$_fieldsHelper","_this$processor2","_e$maximumNumberOfFea","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","_this$_controller2","useMaximumNumberOfFeatures","leavesReached","_excludeObjectIds","lodFactor","semantic","qualitySettings","sceneService","point","hasM","hasZ","contentVisible","_this$_controller3","rootNodeVisible","legendEnabled","_graphicOrigin","graphicOrigin","whenGraphicAttributes","T","_getObjectIdField","getHit","_t$attributes","E","graphic","whenGraphicBounds","computeAttachmentOrigin","isUpdating","_this$_controller4","_this$processor3","_this$_fieldsHelper2","updating","layerFilterUpdating","highlight","ae","objectIdField","W","K","C","B","map","highlightByObjectIds","highlightByGraphics","Z","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","V","_attributeEditingContext","_decompressBinaryPointData","invoke","Error","positionData","positions","me","ge","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","_e","pointPositions","_extractBinaryPointPositions","_extractLegacyPointPositions","_validatePositions","l","crsVertex","c","u","_createGraphics","attributeDataInfo","applyAttributeOverrides","numFeatures","_updateNodeMemory","fe","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","g","stage","renderView","olidRenderHelper","N","_this$view$popup","setUidToObjectAndLayerId","popupEnabled","oe","popup","defaultPopupTemplateEnabled","resources","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObbInIndexSR","te","ie","center","ve","isNodeLoaded","isNodeReloading","updateNodeState","getNodeComponentHandle","f","Math","abs","_","pointData","_t$geometries$","_t$geometries","_n$params$vertexAttri","_n$params$vertexAttri2","featureDataPosition","geometries","be","params","vertexAttributes","position","NaN","Number","isNaN","m","y","x","Ie","property","oldValue","newValue","graphicUpdateHandler","xe","visible","_e$numFeatures","memory","usedMemoryPerGraphic","put","_getMemCacheKey","_removeNodeStageData","loadCachedNodeData","_this$_memCache","pop","addCachedNodeData","getLoadedNodeIds","sort","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","getAttributeData","_setAttributeData","_attributeValuesChanged","updateAttributes","labelsEnabled","updateLabelingInfo","refreshFilter","updateClippingArea","v","_getGlobalIdField","globalIdField","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","createQuery","_this$filter$createQu","_this$filter","outFields","returnGeometry","outSpatialReference","O","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","A","featureStore","G","context","priority","de","FEATURE_QUERY_ENGINE","_this$processor$graph","_this$processor4","unloadedMemory","_this$_controller$unl","_this$_controller5","_this$processor$graph2","_this$processor5","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","P","L","_this$i3slayer$attrib","sessions","attributeStorageInfo","i3sOverrides","setAttributeData","clearMemCache","performanceInfo","$","test","j","re","availableFields","ce","timeExtent","_this$view","_get","mergedFilter","_t$clone","_r$timeExtent$interse","_r$timeExtent","intersection","getTimeFilterDependencies","timeInfo","startField","endField","addTimeFilter","useTime","toJSON","_e$attributeInfo","startTimeField","endTimeField","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}