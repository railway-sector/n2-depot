"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[2274],{19747:(e,r,s)=>{s.d(r,{c:()=>i});var t=s(31633),o=s(44568);function i(e){var r,s,i,c,a;const d="metric";if(null==e)return d;const u=e.map,h=null!==(r=u&&"portalItem"in u?null===(s=u.portalItem)||void 0===s?void 0:s.portal:null)&&void 0!==r?r:o.A.getDefault();switch(null!==(i=null===(c=h.user)||void 0===c?void 0:c.units)&&void 0!==i?i:h.units){case d:return d;case"english":return"imperial"}return null!==(a=(0,t.jM)(e.spatialReference))&&void 0!==a?a:d}},35925:(e,r,s)=>{s.d(r,{Xq:()=>a,wk:()=>c});const t={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},o={dash:t.dash,"dash-dot":[...t.dash,...t.dot],dot:t.dot,"long-dash":t["long-dash"],"long-dash-dot":[...t["long-dash"],...t.dot],"long-dash-dot-dot":[...t["long-dash"],...t.dot,...t.dot],none:null,"short-dash":t["short-dash"],"short-dash-dot":[...t["short-dash"],...t["short-dot"]],"short-dash-dot-dot":[...t["short-dash"],...t["short-dot"],...t["short-dot"]],"short-dot":t["short-dot"],solid:null},i=8;function c(e){return{pattern:[e,e],pixelRatio:2}}function a(e){return"style"===(null===e||void 0===e?void 0:e.type)?function(e){return null!=e?function(e,r){return null==e?e:{pattern:e.slice(),pixelRatio:r}}(o[e],i):null}(e.style):null}},85746:(e,r,s)=>{s.d(r,{X:()=>y});var t=s(6326),o=s(91967),i=s(5632),c=s(46053),a=(s(81806),s(76460),s(47249),s(87990));class d{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=2}destroy(){this._destroyResources()}get resources(){var e;return null===(e=this._resources)||void 0===e?void 0:e.external}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){var r;this._renderGroup=e;const s=null===(r=this._resources)||void 0===r?void 0:r.layerView;s&&(s.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new u({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.overlayManager;this._resources={layerView:r,external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){var e;null!=(null===(e=this._resources)||void 0===e?void 0:e.drapeSourceRenderer)&&this._resources.geometriesAdded&&(this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,1),this._resources.geometriesAdded=!1)}_ensureRenderGeometriesAdded(){var e;null!=(null===(e=this._resources)||void 0===e?void 0:e.drapeSourceRenderer)&&(this._resources.geometriesAdded||(this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,1),this._resources.geometriesAdded=!0))}}let u=class extends((0,i.sA)(o.A)){constructor(e){super(e),this.drapeSourceType=1,this.updatePolicy=1,this.renderGroup=2}};(0,t.Cg)([(0,c.MZ)({constructOnly:!0})],u.prototype,"view",void 0),(0,t.Cg)([(0,c.MZ)({readOnly:!0})],u.prototype,"drapeSourceType",void 0),(0,t.Cg)([(0,c.MZ)()],u.prototype,"renderGroup",void 0),u=(0,t.Cg)([(0,a.$)("esri.views.3d.interactive.visualElements.DrapedVisualElementResources")],u);var h=s(69230),n=s(68134),l=s(37046),_=s(8918);class p{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view.stage;if(null==this._resources||!e)return;const r=this._resources.object;r.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer)}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory,r=e.view,s=r.stage;if(!s)return;const t=new _.x(s,{pickable:!1,updatePolicy:1}),o=new l.B({castShadow:!1}),i=e.createResources(o,t);t.add(o);const c=e.cameraChanged,a=c?(0,n.wB)(()=>r.state.camera,e=>c(e),n.Vh):null;this._resources={layer:t,object:o,external:i,cameraHandle:a},this._syncVisible()}_destroyResources(){var e;null!=this._resources&&(this._resources.layer.destroy(),this._resources.object.dispose(),null!==(e=this._resources.cameraHandle)&&void 0!==e&&e.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null)}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}class y extends h.B{constructor(e){var r;super(e),this._isDraped=!1,this.object3dResources=new p(this.createObject3DResourceFactory(e.view)),this.drapedResources=new d(this.createDrapedResourceFactory(e.view)),this.isDraped=null!==(r=e.isDraped)&&void 0!==r&&r}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}forEachMaterial(e){var r,s;null!==(r=this.object3dResources)&&void 0!==r&&r.forEachMaterial(e),null===(s=this.drapedResources)||void 0===s||s.forEachMaterial(e)}}}}]);
//# sourceMappingURL=2274.5e78dce6.chunk.js.map