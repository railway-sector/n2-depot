"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[2105],{2515:(e,t,n)=>{n.d(t,{r:()=>s});var i=n(19898);class r extends i.R{constructor(e,t){super(e,t,"webmap")}}function s(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}new r(2,35)},3589:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(6326),r=n(91967),s=n(19276),o=n(46053),a=(n(81806),n(76460),n(47249),n(87990));let l=class extends r.A{constructor(e){super(e),this.layer=null,this.enabled=!0,this.updating=!1,this.availability=1,this.sublayerSources=new s.A}};(0,i.Cg)([(0,o.MZ)({constructOnly:!0})],l.prototype,"layer",void 0),(0,i.Cg)([(0,o.MZ)()],l.prototype,"enabled",void 0),(0,i.Cg)([(0,o.MZ)()],l.prototype,"updating",void 0),(0,i.Cg)([(0,o.MZ)()],l.prototype,"availability",void 0),(0,i.Cg)([(0,o.MZ)()],l.prototype,"sublayerSources",void 0),l=(0,i.Cg)([(0,a.$)("esri.views.interactive.snapping.FeatureSnappingLayerSource")],l)},4244:(e,t,n)=>{n.d(t,{Q:()=>l,X:()=>c});var i=n(76931),r=n(19555),s=n(20664),o=n(9392),a=n(12482);function l(e,t,n,i){const s=n.projectToRenderScreen(e,h),o=n.projectToRenderScreen(t,d);return null==s||null==o?null:((0,r.Re)(i,o,s),(0,r.S8)(i,i),i)}function c(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,o.vt)();const l=(0,s.d)(u,e);return l[2]=(0,a.xS)(i,l,t,n)||0,i.renderCoordsHelper.toRenderCoords(l,t,r),r}const u=(0,o.vt)(),h=(0,i.QG)(),d=(0,i.QG)()},7137:(e,t,n)=>{n.d(t,{TT:()=>f,Xn:()=>w,Zj:()=>_,_3:()=>M,l1:()=>v,qy:()=>g,vN:()=>m});var i=n(50076),r=n(31633),s=n(40565),o=(n(19247),n(65215)),a=n(23701),l=n(13312),c=n(63885),u=n(80963);function h(e){var t;if(!e)return null;const n=e.wkid;if(n)return c.uw[n];const i=null!==(t=e.wkt2)&&void 0!==t?t:e.wkt;return i?function(e){const t=c._f.exec(e);if(!t||2!==t.length)return null;const n=t[1].split(",");if(!n||n.length<3)return null;const i=parseFloat(n[1]),r=parseFloat(n[2]);return isNaN(i)||isNaN(r)?null:{a:i,f:0===r?0:1/r}}(i):null}function d(e){const t=h(e);if(function(e){return null!=e&&"b"in e&&"eSq"in e&&"radius"in e}(t))return t;const n=t.a*(1-t.f);return Object.assign(t,{b:n,eSq:1-(n/t.a)**2,radius:(2*t.a+n)/3,densificationRatio:1e4/((2*t.a+n)/3)})}function p(e,t,n){const{a:i,eSq:r}=d(n),s=Math.sqrt(r),o=Math.sin(t[1]*c.eh),a=i*t[0]*c.eh;let l;return l=r>0?i*((1-r)*(o/(1-r*(o*o))-1/(2*s)*Math.log((1-s*o)/(1+s*o))))*.5:i*o,e[0]=a,e[1]=l,e}function f(e){return(0,u.EA)(e)&&!!h(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"square-meters";if(e.some(e=>!f(e.spatialReference)))throw new i.A("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const t=e[i],r=t.spatialReference,{radius:s,densificationRatio:o}=d(r),a=s*o;n.push(y(t,a))}const s=[],o=[0,0],a=[0,0];for(let i=0;i<n.length;i++){const{rings:e,spatialReference:l}=n[i];let c=0;for(let t=0;t<e.length;t++){const n=e[t];p(o,n[0],l),p(a,n[n.length-1],l);let i=a[0]*o[1]-o[0]*a[1];for(let e=0;e<n.length-1;e++)p(o,n[e+1],l),p(a,n[e],l),i+=a[0]*o[1]-o[0]*a[1];c+=i}c=(0,r.oU)(c,"square-meters",t),s.push(c/-2)}return s}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"meters";if(!e)throw new i.A("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(e.some(e=>!f(e.spatialReference)))throw new i.A("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const n=[];for(let i=0;i<e.length;i++){const s=e[i],{spatialReference:o}=s,a="polyline"===s.type?s.paths:s.rings;let l=0;for(let e=0;e<a.length;e++){const t=a[e];let n=0;for(let e=1;e<t.length;e++){const i=t[e-1][0],r=t[e][0],s=t[e-1][1],a=t[e][1];if(s!==a||i!==r){const e=new _;M(e,[i,s],[r,a],o),n+=e.distance}}l+=n}l=(0,r.oU)(l,"meters",t),n.push(l)}return n}function y(e,t){if("polyline"!==e.type&&"polygon"!==e.type)throw new i.A("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:n}=e;if(!f(n))throw new i.A("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const r="polyline"===e.type?e.paths:e.rings,c=[],u=[0,0],h=new _;for(const i of r){const e=[];c.push(e),e.push([i[0][0],i[0][1]]);let r,s,o=i[0][0],a=i[0][1];for(let l=0;l<i.length-1;l++){if(r=i[l+1][0],s=i[l+1][1],o===r&&a===s)continue;const c=[o,a];M(h,[o,a],[r,s],n);const{azimuth:d,distance:p}=h,f=p/t;if(f>1){for(let i=1;i<=f-1;i++)m(u,c,d,i*t,n),e.push(u.slice());m(u,c,d,(p+Math.floor(f-1)*t)/2,n),e.push(u.slice())}m(u,c,d,p,n),e.push(u.slice()),o=u[0],a=u[1]}}const d=(0,s.PZ)(l.A,n);return"polyline"===e.type?new a.A({paths:c,spatialReference:d}):new o.A({rings:c,spatialReference:d})}class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.distance=e,this.azimuth=t,this.reverseAzimuth=n}}function m(e,t,n,i,r){const s=t[0],o=t[1],a=s*c.eh,l=o*c.eh,u=(null!==n&&void 0!==n?n:0)*c.eh,{a:h,b:p,f:f}=d(r),g=Math.sin(u),v=Math.cos(u),y=(1-f)*Math.tan(l),_=1/Math.sqrt(1+y*y),m=y*_,M=Math.atan2(y,v),w=_*g,S=w*w,b=1-S,x=b*(h*h-p*p)/(p*p),T=1+x/16384*(4096+x*(x*(320-175*x)-768)),C=x/1024*(256+x*(x*(74-47*x)-128));let Z,R,P,L=i/(p*T),z=2*Math.PI;for(;Math.abs(L-z)>1e-12;)P=Math.cos(2*M+L),Z=Math.sin(L),R=Math.cos(L),z=L,L=i/(p*T)+C*Z*(P+C/4*(R*(2*P*P-1)-C/6*P*(4*Z*Z-3)*(4*P*P-3)));const q=m*Z-_*R*v,j=Math.atan2(m*R+_*Z*v,(1-f)*Math.sqrt(S+q*q)),A=f/16*b*(4+f*(4-3*b)),E=Math.atan2(Z*g,_*R-m*Z*v)-(1-A)*f*w*(L+A*Z*(P+A*R*(2*P*P-1)));return e[0]=(a+E)/c.eh,e[1]=j/c.eh,e}function M(e,t,n,i){const r=t[0]*c.eh,s=t[1]*c.eh,o=n[0]*c.eh,a=n[1]*c.eh,{a:l,b:u,f:h,radius:p}=d(i),f=o-r,g=Math.atan((1-h)*Math.tan(s)),v=Math.atan((1-h)*Math.tan(a)),y=Math.sin(g),_=Math.cos(g),m=Math.sin(v),M=Math.cos(v);let w,S,b,x,T,C,Z,R,P,L,z=1e3,q=f;do{if(Z=Math.sin(q),R=Math.cos(q),b=Math.sqrt(M*Z*(M*Z)+(_*m-y*M*R)*(_*m-y*M*R)),0===b)return e.distance=0,e.azimuth=void 0,e.reverseAzimuth=void 0,e;T=y*m+_*M*R,C=Math.atan2(b,T),P=_*M*Z/b,S=1-P*P,x=T-2*y*m/S,isNaN(x)&&(x=0),L=h/16*S*(4+h*(4-3*S)),w=q,q=f+(1-L)*h*P*(C+L*b*(x+L*T*(2*x*x-1)))}while(Math.abs(q-w)>1e-12&&--z>0);if(0===z){const t=p,n=Math.acos(Math.sin(s)*Math.sin(a)+Math.cos(s)*Math.cos(a)*Math.cos(o-r))*t,i=o-r,l=Math.sin(i)*Math.cos(a),u=Math.cos(s)*Math.sin(a)-Math.sin(s)*Math.cos(a)*Math.cos(i),h=Math.atan2(l,u);return e.azimuth=h/c.eh,e.distance=n,e.reverseAzimuth=void 0,e}const j=S*(l*l-u*u)/(u*u),A=j/1024*(256+j*(j*(74-47*j)-128)),E=u*(1+j/16384*(4096+j*(j*(320-175*j)-768)))*(C-A*b*(x+A/4*(T*(2*x*x-1)-A/6*x*(4*b*b-3)*(4*x*x-3)))),N=Math.atan2(M*Math.sin(q),_*m-y*M*Math.cos(q)),H=Math.atan2(_*Math.sin(q),_*m*Math.cos(q)-y*M);return e.azimuth=N/c.eh,e.distance=E,e.reverseAzimuth=H/c.eh,e}function w(e){return f(e)?e:(0,u.K8)(e)?l.A.WGS84:null}},9876:(e,t,n)=>{n.d(t,{z:()=>a});var i=n(89379),r=n(75543),s=n(61751),o=n(23543);class a extends s.w{constructor(e){super((0,i.A)((0,i.A)({},e),{},{constraint:new r.Mn(e.edgeStart,e.edgeEnd)}))}get hints(){return[new o.c(1,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}},17072:(e,t,n)=>{n.d(t,{j:()=>a});var i=n(76931),r=n(9392),s=n(18117),o=n(4244);function a(e,t,n,r){return"2d"===r.type?(l.x=e[0],l.y=e[1],l.spatialReference=t,r.toScreen(l)):((0,o.X)(e,t,n,r,c),r.state.camera.projectToScreen(c,u),(0,i.tc)(u[0],u[1]))}const l=(0,s.TH)(0,0,0,null),c=(0,r.vt)(),u=(0,i.gs)()},18917:(e,t,n)=>{n.d(t,{Hh:()=>o,fz:()=>l,g7:()=>a,s1:()=>s});var i=n(7724);let r;function s(){return!!r&&(0,i.i)()}async function o(){if(!s()){const[e,t]=await Promise.all([Promise.all([n.e(6871),n.e(6364),n.e(6175),n.e(7207)]).then(n.bind(n,19581)),Promise.all([n.e(6871),n.e(6364),n.e(6175),n.e(116)]).then(n.bind(n,75606)).then(e=>{let{injectPe:t}=e;return t}),(0,i.l)()]);r=new e.OperatorGeodeticLength,t(i.p)}}function a(e,t,n){return r.execute(e,t,n,null)}function l(){return r.supportsCurves()}},20578:(e,t,n)=>{n.d(t,{r:()=>s});n(81806),n(76460);var i=n(20664),r=n(64753);class s extends r.m{constructor(e,t,n){super(n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:3),this.lineStart=e,this.lineEnd=t}equals(e){return e instanceof s&&(0,i.q)(this.lineStart,e.lineStart)&&(0,i.q)(this.lineEnd,e.lineEnd)}}},20612:(e,t,n)=>{n.d(t,{B:()=>u});var i=n(20664),r=n(9392),s=n(75543),o=n(23862),a=n(30003),l=n(23543),c=n(20578);class u extends a.C{constructor(e){let{referenceLine:t,lineStart:n,targetPoint:a,isDraped:l}=e;const c=(0,r.o8)(n),{left:u,right:h}=t;(0,i.e)(c,(0,i.g)(c,c,h),u),super(a,new s.WG(n,(0,o._7)(c)),l,2),this._referenceLines=[{edge:t,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new l.c(0,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new c.r(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map(e=>new l.c(1,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight))]}addReferenceLine(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(n=>{(0,i.q)(e.right,n.edge.left)&&(n.fadeLeft=!1,t.fadeRight=!1),(0,i.q)(e.right,n.edge.right)&&(n.fadeRight=!1,t.fadeRight=!1),(0,i.q)(e.left,n.edge.right)&&(n.fadeRight=!1,t.fadeLeft=!1),(0,i.q)(e.left,n.edge.left)&&(n.fadeLeft=!1,t.fadeLeft=!1)}),this._referenceLines.push(t)}}},23543:(e,t,n)=>{n.d(t,{c:()=>s});var i=n(20664),r=n(64753);class s extends r.m{constructor(e,t,n,i){let r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];super(i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:3),this.type=e,this.lineStart=t,this.lineEnd=n,this.fadeLeft=r,this.fadeRight=s}equals(e){return e instanceof s&&this.type===e.type&&(0,i.q)(this.lineStart,e.lineStart)&&(0,i.q)(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight}get length(){return(0,i.k)(this.lineStart,this.lineEnd)}}},23739:(e,t,n)=>{n.d(t,{V:()=>d});var i=n(24648),r=n(9392),s=n(23701),o=n(73085),a=n(7137),l=n(80963),c=n(90659);function u(e,t,n){return(0,c.M0)(n,p,f,e,t,n)}const h={geodesicLength:function(e){const{spatialReference:t}=e;return(0,c.M0)(t,g,v,e)},geodesicDistanceBetweenPoints:function(e,t){if(!(0,l.aI)(e.spatialReference,t.spatialReference))return null;const{spatialReference:n}=e;return _[0]=e.x,_[1]=e.y,_[2]=e.hasZ?e.z:0,m[0]=t.x,m[1]=t.y,m[2]=t.hasZ?t.z:0,u(_,m,n)},geodesicDistance:u};async function d(){return await(0,o.l)(),h}function p(e,t,n){return(0,i.d_)((0,a._3)(y,e,t,n).distance,"meters")}function f(e,t,n){return(0,i.d_)((0,o.e)(function(e,t,n){return new s.A({spatialReference:n,paths:[[[...e],[...t]]]})}(e,t,n),{unit:"meters"}),"meters")}function g(e){return(0,i.d_)((0,a.l1)([e],"meters")[0],"meters")}function v(e){return(0,i.d_)((0,o.e)(e,{unit:"meters"}),"meters")}const y=new a.Zj,_=(0,r.vt)(),m=(0,r.vt)()},23862:(e,t,n)=>{n.d(t,{Ex:()=>p,FH:()=>_,Hh:()=>a,Lp:()=>f,Xz:()=>c,_7:()=>l,de:()=>d,fA:()=>u,io:()=>v,o8:()=>h,vf:()=>g,vt:()=>o,xF:()=>y});var i=n(9392),r=n(18117),s=n(12482);function o(e,t,n){return a(e,t,n)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,i.fA)(e,t,n)}function l(e){return e}function c(e){return e}function u(e,t,n){return(0,i.fA)(e,t,n)}function h(e){const[t,n,i]=e;return e.length>3?[t,n,i,e[3]]:[t,n,i]}function d(e){var t;return e[3]=1|(null!==(t=e.length>3?e[3]:void 0)&&void 0!==t?t:0),e}function p(e){var t;return Boolean(1&(null!==(t=e.length>3?e[3]:void 0)&&void 0!==t?t:0))}function f(e,t,n,i){let{coordinateHelper:r,elevationInfo:s}=n;return e?g(r.vectorToDehydratedPoint(e,m),t,s,i):null}function g(e,t,n){var i,r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a();return o[0]=e.x,o[1]=e.y,o[2]=null!==(i=e.z)&&void 0!==i?i:0,null==t||("2d"===t.type?o[2]=0:o[2]=null!==(r=(0,s.wS)(t,e,n,s.qt))&&void 0!==r?r:0),o}function v(e,t,n){return n?((0,r.Jc)(n,e[0],e[1],e[2],t),n):(0,r.TH)(e[0],e[1],e[2],t)}function y(e,t,n,i,o){let{z:a,m:l}=n;const{spatialReference:c,elevationInfo:u}=i;let h;if(null==a&&null==l)h=void 0;else if(null==t||"2d"===t.type)h=null!==a&&void 0!==a?a:void 0;else{var d;h=null!==(d=(0,s.xS)(t,e,c,s.qt,u))&&void 0!==d?d:0}const[p,f]=e;return o?(0,r.Jc)(o,p,f,h,c):o=(0,r.TH)(p,f,h,c),null!=l&&(o.m=l,o.hasM=!0),o}function _(e,t,n,i){var r,o;let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a();const[c,u]=e;return l[0]=c,l[1]=u,e.length>3&&(l[3]=null!==(r=e[3])&&void 0!==r?r:0),"3d"!==(null===n||void 0===n?void 0:n.type)?(l[2]=t.value,l):(l[2]=null!==(o=(0,s.Fo)(n,c,u,t.value,i,t.elevationInfo,s.qt))&&void 0!==o?o:0,l)}const m=(0,r.TH)(0,0,0,null)},29772:(e,t,n)=>{n.d(t,{Ce:()=>p,NH:()=>d,Of:()=>v,Qc:()=>y,Xg:()=>u,cL:()=>M,e5:()=>g,ll:()=>f,sT:()=>m,vp:()=>_});var i=n(24648),r=n(31633),s=n(20664),o=n(9392),a=n(14487),l=n(80963),c=n(41868);function u(e){return h(e,1)}function h(e,t){const{hasZ:n,spatialReference:s}=e,o=(0,c.l)(s);let a=0;const l=(0,r._H)(o);if(null==l)return null;const u=0===t?_:m;for(const i of e.paths){if(i.length<2)continue;const e=i.length-1;for(let t=0;t<e;++t){const e=i[t];S[0]=e[0],S[1]=e[1],S[2]=n?e[2]:0;const r=i[t+1];b[0]=r[0],b[1]=r[1],b[2]=n?r[2]:0;const o=u(S,b,s);if(null==o)return null;a+=o.value}}return(0,i.d_)(a,l)}function d(e,t){const{spatialReference:n}=e;return(0,l.aI)(n,t.spatialReference)?(S[0]=e.x,S[1]=e.y,S[2]=e.hasZ?e.z:0,b[0]=t.x,b[1]=t.y,b[2]=t.hasZ?t.z:0,function(e,t,n){const r=w(e,t,n);return null!=r?{direct:(0,i.d_)(r.direct,r.unit),horizontal:(0,i.d_)(r.horizontal,r.unit),vertical:(0,i.d_)(r.vertical,r.unit)}:null}(S,b,n)):null}function p(e,t){const{spatialReference:n}=e;return(0,l.aI)(n,t.spatialReference)?(S[0]=e.x,S[1]=e.y,S[2]=e.hasZ?e.z:0,b[0]=t.x,b[1]=t.y,b[2]=t.hasZ?t.z:0,_(S,b,n)):null}function f(e,t){const{spatialReference:n}=e;return(0,l.aI)(n,t.spatialReference)?(S[0]=e.x,S[1]=e.y,S[2]=e.hasZ?e.z:0,b[0]=t.x,b[1]=t.y,b[2]=t.hasZ?t.z:0,m(S,b,n)):null}function g(e,t){const{spatialReference:n}=e;return(0,l.aI)(n,t.spatialReference)?(S[0]=e.x,S[1]=e.y,S[2]=e.hasZ?e.z:0,b[0]=t.x,b[1]=t.y,b[2]=t.hasZ?t.z:0,M(S,b,n)):null}function v(e){return null!=e?y(e.hasZ?e.z:0,e.spatialReference):null}function y(e,t){const n=(0,r.mq)(t);return null!=n?(0,i.d_)(null!==e&&void 0!==e?e:0,n):null}function _(e,t,n){const r=w(e,t,n,0);return null!=r?(0,i.d_)(r.direct,r.unit):null}function m(e,t,n){const r=w(e,t,n,1);return null!=r?(0,i.d_)(r.horizontal,r.unit):null}function M(e,t,n){const r=w(e,t,n,2);return null!=r?(0,i.d_)(r.verticalSigned,r.unit):null}function w(e,t,n,i){const o=(0,c.l)(n),l=(0,r._H)(o);if(null==l)return null;const u=t[2]-e[2];if(2===i)return{verticalSigned:u,unit:l};if(!(0,a.F)(e,n,x,o)||!(0,a.F)(t,n,T,o))return null;if(0===i)return{direct:(0,s.k)(T,x),unit:l};if((0,s.j)(C,e[0],e[1],t[2]),!(0,a.F)(C,n,C,o))return null;const h=(0,s.k)(C,T);return 1===i?{horizontal:h,unit:l}:{direct:(0,s.k)(T,x),horizontal:h,vertical:Math.abs(u),unit:l}}const S=(0,o.vt)(),b=(0,o.vt)(),x=(0,o.vt)(),T=(0,o.vt)(),C=(0,o.vt)()},30003:(e,t,n)=>{n.d(t,{C:()=>i});class i{constructor(e,t,n,i){this.targetPoint=e,this.constraint=t,this.isDraped=n,this.domain=i}}},30484:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(20664),r=n(64753);class s extends r.m{constructor(e,t){super(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:3),this.intersectionPoint=e}equals(e){return e instanceof s&&(0,i.q)(this.intersectionPoint,e.intersectionPoint)}}},41868:(e,t,n)=>{n.d(t,{l:()=>o});var i=n(34111),r=n(98510),s=n(80963);function o(e){return(0,s.B3)(e)?(0,s.oT)(e)||(0,s.K8)(e)||(0,s.x1)(e)||(0,i.jA)(e)?r.Y0:e:(0,r.lO)(e)}},45633:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(75543),r=n(30003),s=n(23543);class o extends r.C{constructor(e){let{lineStart:t,lineEnd:n,targetPoint:r,isDraped:o}=e;super(r,new i.WG(t,n),o,2),this._referenceLineHint=new s.c(2,t,n,o,this.domain)}get hints(){return[this._referenceLineHint,new s.c(0,this._lineEndClosestToTarget(),this.targetPoint,this.isDraped,this.domain)]}_lineEndClosestToTarget(){return this.constraint.closestEndTo(this.targetPoint)}}},56572:(e,t,n)=>{n.d(t,{l:()=>s});n(81806),n(76460);var i=n(20664),r=n(64753);class s extends r.m{constructor(e,t,n,i){super(i,arguments.length>4&&void 0!==arguments[4]?arguments[4]:3),this.previousVertex=e,this.centerVertex=t,this.nextVertex=n}equals(e){return e instanceof s&&(0,i.q)(this.previousVertex,e.previousVertex)&&(0,i.q)(this.centerVertex,e.centerVertex)&&(0,i.q)(this.nextVertex,e.nextVertex)}}},59380:(e,t,n)=>{n.d(t,{R:()=>h});var i=n(19555),r=n(20664),s=n(9392),o=n(75543),a=n(23862),l=n(30003),c=n(23543),u=n(56572);class h extends l.C{constructor(e){let{targetPoint:t,point1:n,point2:l,isDraped:c}=e;super(t,new o.ej((0,a._7)((0,r.l)((0,s.vt)(),n,l,.5)),.5*(0,i.Io)((0,a.Xz)(n),(0,a.Xz)(l))),c,2),this._p1=n,this._p2=l}get hints(){return[new c.c(1,this.targetPoint,this._p1,this.isDraped,this.domain),new c.c(1,this.targetPoint,this._p2,this.isDraped,this.domain),new u.l(this._p1,this.targetPoint,this._p2,this.isDraped,this.domain)]}}},61751:(e,t,n)=>{n.d(t,{w:()=>r});var i=n(30003);class r extends i.C{constructor(e){let{targetPoint:t,objectId:n,constraint:i,isDraped:r}=e;super(t,i,r,1),this.objectId=n}}},63078:(e,t,n)=>{n.d(t,{N:()=>u});var i=n(6326),r=n(69539),s=n(42553),o=n(46053),a=n(87990);let l=class extends s.o{constructor(){super(...arguments),this.enabled=!0}};(0,i.Cg)([(0,o.MZ)({type:Boolean})],l.prototype,"enabled",void 0),l=(0,i.Cg)([(0,a.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],l);let c=class extends s.o{constructor(e){super(e),this.lineSnapper=new l,this.parallelLineSnapper=new l,this.rightAngleSnapper=new l,this.rightAngleTriangleSnapper=new l,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new r.A([255,127,0]),this.orangeTransparent=new r.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,i.Cg)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"lineSnapper",void 0),(0,i.Cg)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"parallelLineSnapper",void 0),(0,i.Cg)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"rightAngleSnapper",void 0),(0,i.Cg)([(0,o.MZ)({type:l,constructOnly:!0,nonNullable:!0,json:{write:!0}})],c.prototype,"rightAngleTriangleSnapper",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],c.prototype,"shortLineThreshold",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],c.prototype,"distance",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"pointThreshold",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"intersectionParallelLineThreshold",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"parallelLineThreshold",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"verticalLineThresholdMeters",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"touchSensitivityMultiplier",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],c.prototype,"pointOnLineThreshold",void 0),(0,i.Cg)([(0,o.MZ)({type:r.A,nonNullable:!0})],c.prototype,"orange",void 0),(0,i.Cg)([(0,o.MZ)({type:r.A,nonNullable:!0})],c.prototype,"orangeTransparent",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"lineHintWidthReference",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"lineHintWidthTarget",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"lineHintFadedExtensions",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],c.prototype,"parallelLineHintWidth",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],c.prototype,"parallelLineHintLength",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],c.prototype,"parallelLineHintOffset",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],c.prototype,"rightAngleHintSize",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],c.prototype,"rightAngleHintOutlineSize",void 0),(0,i.Cg)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],c.prototype,"satisfiesConstraintScreenThreshold",void 0),c=(0,i.Cg)([(0,a.$)("esri.views.interactive.snapping.Settings.Defaults")],c);const u=new c},64344:(e,t,n)=>{n.d(t,{g:()=>T});var i=n(6326),r=n(98773),s=n(54099),o=(n(81806),n(50346)),a=n(68134),l=n(46053),c=(n(76460),n(47249),n(87990)),u=n(56611),h=n(12482),d=n(23862),p=n(63078),f=n(83973),g=n(70330),v=n(80794),y=n(9876),_=n(90836),m=n(45633),M=n(20612),w=n(78228),S=n(59380),b=n(17072),x=n(23739);let T=class extends s.nJ{constructor(e){super(e),this.options=new f.A,this._engineCache=new Map,this._loadTask=null,this._engines=[],this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=0}initialize(){this.addHandles([(0,a.wB)(()=>{const{distance:e,touchSensitivityMultiplier:t,effectiveSelfEnabled:n,effectiveFeatureEnabled:i,effectiveGridEnabled:r}=this.options;return{selfEnabled:n,featureEnabled:i,gridEnabled:"2d"===this.view.type&&r,viewReady:this.view.ready,viewSpatialReference:this.view.spatialReference,distance:e,touchSensitivityMultiplier:t}},(e,t)=>{var n;t&&(this.doneSnapping(),this.emit("changed")),null!==(n=this._loadTask)&&void 0!==n&&n.abort(),this._loadTask=(0,r.UT)(n=>this._updateEngines(e,t,n))},a.pc),(0,a.wB)(()=>this.options,e=>{for(const t of this._engines)t.options=e},a.OH)])}destroy(){var e;null!==(e=this._loadTask)&&void 0!==e&&e.abort(),this._destroyEngines()}get updating(){var e;return this._engines.some(e=>e.updating)||!(null!==(e=this._loadTask)&&void 0!==e&&e.finished)}_destroyEngines(){this._engineCache.forEach(e=>e.destroy()),this._engineCache.clear(),this._engines=[]}async _updateEngines(e,t,n){if(!e.viewReady)return void this._destroyEngines();(null===t||void 0===t?void 0:t.viewSpatialReference)!==e.viewSpatialReference&&this._destroyEngines();const i=this._engineCache,r=await Promise.allSettled([e.featureEnabled&&!i.has("feature")?this._createFeatureSnappingEngine(n):void 0,e.selfEnabled&&!i.has("self")?this._createSelfSnappingEngine(n):void 0,e.gridEnabled&&!i.has("grid")?this._createGridSnappingEngine(n):void 0]);if(n.aborted)for(const o of r){var s;"fulfilled"===o.status&&(null===(s=o.value)||void 0===s||s.engine.destroy())}else{for(const e of r)"fulfilled"===e.status&&e.value&&i.set(e.value.type,e.value.engine);this._engines=Array.from(i.values())}}async _createSelfSnappingEngine(e){const[{SelfSnappingEngine:t},i]=await Promise.all([n.e(7960).then(n.bind(n,67960)),(0,x.V)()]);return(0,o.Te)(e),{type:"self",engine:new t({view:this.view,options:this.options,geodesicLengthMeasurementUtils:i})}}async _createGridSnappingEngine(e){const{view:t}=this;if("2d"!==t.type)return;const{GridSnappingEngine:i}=await n.e(5411).then(n.bind(n,35411));return(0,o.Te)(e),{type:"grid",engine:new i({view:t,options:this.options})}}async _createFeatureSnappingEngine(e){const{FeatureSnappingEngine:t}=await n.e(2843).then(n.bind(n,12843));(0,o.Te)(e);const{view:i,options:r}=this,{spatialReference:s}=i;return{type:"feature",engine:new t({view:i,options:r,spatialReference:s})}}get _squaredMouseProximityThreshold(){return this.options.distance*this.options.distance}get _squaredTouchProximityThreshold(){const{distance:e,touchSensitivityMultiplier:t}=this.options,n=e*t;return n*n}snap(e){return function(e){return null!=e.scenePoint}(e)?this._snapMultiPoint(e):this._snapSinglePoint(e)}update(e){const{point:t,context:n}=e;this._removeVisualization();const i=this._currentMainCandidate;if(null==i)return t;const r=this._selectUpdateInput(e);if(null==r)return t;const{spatialReference:s}=n,o=(0,u.project)(r,s);if(null==o)return t;const{view:a}=this,{elevationInfo:l,visualizer:c}=n,h=[],p=(0,d.vf)(o,a,l),f=i.constraint.closestTo(p);if(!this._arePointsWithinScreenThreshold(p,f,n)||!R(i,n.drawConstraints))return this._resetSnappingState(),t;i.targetPoint=(0,d.de)(f),h.push(...i.hints);for(const u of this._currentOtherActiveCandidates)R(u,n.drawConstraints)&&(u.targetPoint=(0,d.de)(f),h.push(...u.hints));return null!=c&&this.addHandles(c.draw(h,{spatialReference:s,elevationInfo:L(n),view:a,selfSnappingZ:n.selfSnappingZ}),C),(0,d.xF)(f,a,t,n)}doneSnapping(){this._removeVisualization(),this._resetSnappingState()}_selectUpdateInput(e){let{point:t,scenePoint:n}=e;switch(this._currentSnappedType){case 0:return t;case 1:return n}}_resetSnappingState(){this._currentMainCandidate=null,this._currentOtherActiveCandidates=[],this._currentSnappedType=0}_removeVisualization(){this.removeHandles(C)}async _snapSinglePoint(e){let{point:t,context:n,signal:i}=e;const{view:r}=this,{elevationInfo:s}=n,o=(0,d.vf)(t,r,s),a=await this._fetchCandidates(o,3,n,i);return this._createSnapResult(o,0,a,r,t,n,i)}async _snapMultiPoint(e){var t,n;let{point:i,scenePoint:r,context:s,signal:o}=e;const{view:a}=this,{coordinateHelper:l,elevationInfo:c,spatialReference:h}=s;await(0,u.initializeProjection)(r.spatialReference,h);const p=(0,u.project)(r,h),f=(0,d.vf)(p,a,c),g=await this._fetchCandidates(f,1,s,o);if(g.length>0){const e=await this._fetchCandidates(f,2,s,o);return this._createSnapResult(f,1,[...g,...e],a,p,s,o)}const v=(0,d.vf)(i,a,c),y=await this._fetchCandidates(v,2,s,o);return this._createSnapResult(v,0,y,a,{z:l.hasZ()&&i.hasZ?null!==(t=i.z)&&void 0!==t?t:0:void 0,m:l.hasM()&&i.hasM?null!==(n=i.m)&&void 0!==n?n:0:void 0},s,o)}async _fetchCandidates(e,t,n,i){return(await Promise.all(this._engines.map(r=>r.fetchCandidates(e,t,n,i)))).flat()}_createSnapResult(e,t,n,i,r,s,a){return{get valid(){return!(0,o.G4)(a)},apply:()=>{const{spatialReference:o}=s,{snappedPoint:a,hints:l}=this._processCandidates(e,t,n,s);return this._removeVisualization(),null!=s.visualizer&&this.addHandles(s.visualizer.draw(l,{spatialReference:o,elevationInfo:h.qt,view:i,selfSnappingZ:s.selfSnappingZ}),C),(0,d.xF)(a,i,r,s)}}}_processCandidates(e,t,n,i){if(n.length<1)return this.doneSnapping(),{snappedPoint:e,hints:[]};this._currentSnappedType!==t&&this._resetSnappingState(),(0,g.xX)(e,n);const r=this._currentMainCandidate;if(null!=r){const s=function(e,t){return e instanceof _.N?P(t,e.first)>=0&&P(t,e.second)>=0?0:-1:P(t,e)}(r,n);if(s>=0){if(!(n[s]instanceof _.N))return this._intersectWithOtherCandidates(s,n,e,t,i);if(this._arePointsWithinScreenThreshold(e,r.targetPoint,i))return this._updateSnappingCandidate(r,t,n,i)}}return this._intersectWithOtherCandidates(0,n,e,t,i)}_intersectWithOtherCandidates(e,t,n,i,r){const{coordinateHelper:s}=r,o=t[e],a=[];for(let l=0;l<t.length;++l){if(l===e)continue;const i=t[l],r=o.constraint.intersect(i.constraint);if(r)for(const e of r.closestPoints(o.targetPoint))a.push([new _.N((0,d.de)(e),o,i,i.isDraped),this._squaredScreenDistance(n,e,s)])}return a.length>0&&(a.sort((e,t)=>e[1]-t[1]),a[0][1]<this._squaredPointProximityThreshold(r.pointer))?this._updateSnappingCandidate(a[0][0],i,t,r):R(o,r.drawConstraints)?this._updateSnappingCandidate(o,i,t,r):{snappedPoint:n,hints:[]}}_updateSnappingCandidate(e,t,n,i){this.doneSnapping(),this._currentMainCandidate=e,this._currentSnappedType=t;const r=this._currentMainCandidate.targetPoint,s=[];s.push(...e.hints);for(const o of n){if(e instanceof _.N){if(o.constraint.equals(e.first.constraint)||o.constraint.equals(e.second.constraint))continue}else if(o.constraint.equals(e.constraint))continue;const t=o.constraint.closestTo(r);this._squaredScreenDistance(t,r,i.coordinateHelper)<Z()&&(o.targetPoint=r,this._currentOtherActiveCandidates.push(o),s.push(...o.hints))}return{snappedPoint:r,hints:s}}_squaredPointProximityThreshold(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityThreshold}_arePointsWithinScreenThreshold(e,t,n){return this._squaredScreenDistance(e,t,n.coordinateHelper)<this._squaredPointProximityThreshold(n.pointer)}_squaredScreenDistance(e,t,n){return(0,g.pM)(this._toScreen(e,n),this._toScreen(t,n))}_toScreen(e,t){return(0,b.j)(e,t.spatialReference,h.qt,this.view)}get test(){}};(0,i.Cg)([(0,l.MZ)({constructOnly:!0})],T.prototype,"view",void 0),(0,i.Cg)([(0,l.MZ)()],T.prototype,"options",void 0),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],T.prototype,"updating",null),(0,i.Cg)([(0,l.MZ)()],T.prototype,"_loadTask",void 0),(0,i.Cg)([(0,l.MZ)()],T.prototype,"_engines",void 0),(0,i.Cg)([(0,l.MZ)()],T.prototype,"_squaredMouseProximityThreshold",null),(0,i.Cg)([(0,l.MZ)()],T.prototype,"_squaredTouchProximityThreshold",null),T=(0,i.Cg)([(0,c.$)("esri.views.interactive.snapping.SnappingManager")],T);const C="visualization-handle";function Z(){return p.N.satisfiesConstraintScreenThreshold*p.N.satisfiesConstraintScreenThreshold}function R(e,t){return!t||null==t.direction&&null==t.distance||!(e instanceof v.X||e instanceof y.z||e instanceof m.o||e instanceof M.B||e instanceof S.R)&&(!(e instanceof w.H)||null==t.direction&&1===e.selfSnappingType)}function P(e,t){let n=-1;for(let i=0;i<e.length;++i)if(t.constraint.equals(e[i].constraint)){n=i;break}return n}function L(e){let{coordinateHelper:t,elevationInfo:n}=e;return t.hasZ()?h.qt:n}},64753:(e,t,n)=>{n.d(t,{m:()=>i});class i{constructor(e,t){this.isDraped=e,this.domain=t}}},70330:(e,t,n)=>{n.d(t,{BY:()=>w,Mo:()=>v,PA:()=>b,Tu:()=>S,io:()=>f,is:()=>m,nf:()=>_,pM:()=>g,xX:()=>y});var i=n(68134),r=n(41289),s=n(34154),o=n(18288),a=n(20664),l=n(18117),c=n(97015),u=n(57308),h=n(82307),d=n(23862),p=n(2515);const f=Symbol("grid-placement-graphic");function g(e,t){const n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function v(e,t){return Math.sqrt(g(e,t))}function y(e,t){t.sort((t,n)=>(0,a.s)(t.targetPoint,e)-(0,a.s)(n.targetPoint,e))}function _(e){var t;let{parameters:{point:n,distance:i,returnEdge:a,vertexMode:u,coordinateHelper:{spatialReference:h},filter:d},mode:p,returnZ:f,filter:g}=e;const v=null!==(t=null===g||void 0===g?void 0:g.clone())&&void 0!==t?t:new c.A({where:"1=1"});return v.returnZ=null!==f&&void 0!==f?f:"3d"===p,d&&(v.geometry=d.geometry,v.distance=d.distance,v.spatialRelationship=d.spatialRelationship,v.where=(0,s.mA)(v.where,d.where),v.timeExtent=(0,o.pJ)(v.timeExtent,d.timeExtent),v.objectIds=function(e,t){return e||t?t?e?Array.from((0,r.E$)(new Set(e),new Set(t))):t:e:null}(v.objectIds,d.objectIds)),{point:(0,l.TH)(n[0],n[1],n[2],h.toJSON()),mode:p,distance:i,returnEdge:a,vertexMode:u,query:v.toJSON()}}function m(e,t,n){return{left:(0,d.Lp)(e.leftVertex.pos,t,n),right:(0,d.Lp)(e.rightVertex.pos,t,n)}}const M=Symbol("snapping-toggle");function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=(0,i.wB)(()=>({view:e.view,snappingOptions:e.snappingOptions}),n=>{let{view:i,snappingOptions:r}=n;if(e.removeHandles(M),!i||!r)return;const s=u.oj.TOOL,o=[i.on("key-down",e=>{e.key!==h.fn.toggle||e.repeat||(r.enabledToggled=!0,t())},s),i.on("key-up",e=>{e.key===h.fn.toggle&&(r.enabledToggled=!1,t())},s),i.on("pointer-move",e=>{const n=e.native.ctrlKey;r.enabledToggled!==n&&(r.enabledToggled=n,t())},s)];e.addHandles(o,M)},i.pc);e.addHandles(n)}function S(e){var t;return(0,p.r)(e)&&"utilityNetworks"in e&&!(null===(t=e.utilityNetworks)||void 0===t||!t.length)}function b(e){return"line"===(null===e||void 0===e?void 0:e.type)}},73085:(e,t,n)=>{n.d(t,{e:()=>d,g:()=>p,l:()=>h});var i=n(31633),r=n(18917),s=n(75226);let o,a,l,c;function u(){return!!o&&(0,r.s1)()}async function h(){if(!u()){const[e]=await Promise.all([Promise.all([n.e(6871),n.e(6364),n.e(6175),n.e(426),n.e(1509)]).then(n.bind(n,58067)),(0,r.Hh)()]);o=e.fromGeometry,a=e.fromSpatialReference,l=e.getSpatialReference,c=(0,r.fz)()}}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{curveType:n="geodesic",unit:c}=t,u=l(e);let h=(0,r.g7)(o(e),a(u),s.O[n]);return h&&c&&(h=(0,i.oU)(h,"meters",c)),h}const p=Object.freeze(Object.defineProperty({__proto__:null,execute:d,isLoaded:u,load:h,get supportsCurves(){return c}},Symbol.toStringTag,{value:"Module"}))},74050:(e,t,n)=>{n.d(t,{Dh:()=>a,IB:()=>c,fg:()=>o,jI:()=>l});n(15941);var i=n(19555),r=n(72745);function s(e,t){return e[0]*t[1]-e[1]*t[0]}function o(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n;return(0,i.Re)(h,r,n),(0,i.Re)(p,t,s),function(e,t,n){const r=(0,i.Om)(n,t)/(0,i.m3)(n);(0,i.hs)(e,n,r)}(f,p,h),(0,i.WQ)(e,s,f)}function a(e,t,n,r){(0,i.Re)(h,t,n);const s=r/(0,i.Bw)(h);return(0,i.Ln)(e,n,h,s)}function l(e,t){const n=e.start,r=e.end,o=t.start,a=t.end,l=(0,i.Re)(h,r,n),c=(0,i.Re)(d,a,o),g=s(l,c);if(Math.abs(g)<=u)return[];const v=(0,i.Re)(p,n,o),y=s(c,v)/g,_=s(l,v)/g;if(y>=0){if(_>=0||1===t.type)return[(0,i.Ln)(f,n,l,y)]}else if(1===e.type&&(_>=0||1===t.type))return[(0,i.Ln)(f,n,l,y)];return[]}function c(e,t,n){const r=[],s=(0,i.Re)(h,e.end,e.start),o=(0,i.Re)(d,e.start,t),a=(0,i.m3)(s),l=2*(0,i.Om)(s,o),c=l*l-4*a*((0,i.m3)(o)-n*n);if(0===c){const t=-l/(2*a);(1===e.type||t>=0)&&r.push((0,i.Ln)(f,e.start,s,t))}else if(c>0){const t=Math.sqrt(c),n=(-l+t)/(2*a);(1===e.type||n>=0)&&r.push((0,i.Ln)(f,e.start,s,n));const o=(-l-t)/(2*a);(1===e.type||o>=0)&&r.push((0,i.Ln)(p,e.start,s,o))}return r}const u=1e-6,h=(0,r.vt)(),d=(0,r.vt)(),p=(0,r.vt)(),f=(0,r.vt)()},75226:(e,t,n)=>{n.d(t,{O:()=>i});const i={geodesic:0,loxodrome:1,"great-elliptic":2,"normal-section":3,"shape-preserving":4}},75543:(e,t,n)=>{n.d(t,{FX:()=>N,Mn:()=>w,QT:()=>D,WG:()=>H,ej:()=>x,en:()=>k,fT:()=>re,i7:()=>m,jf:()=>I,qR:()=>P,xW:()=>ne});var i=n(18690),r=n(15941),s=n(19555),o=n(72745),a=n(20664),l=n(9392),c=n(43047),u=n(55855),h=n(63885),d=n(7137),p=n(13927),f=n(78315),g=n(94966),v=n(23862),y=n(79337);class _{intersect(e){return G(this,e)}closestPoints(e){return[this.closestTo(e)]}}class m extends _{constructor(e){super(),this.point=e}equals(e){return this===e||re(e)&&(0,a.q)(this.point,e.point)}closestTo(){return(0,v.o8)(this.point)}}class M extends _{constructor(e,t,n){super(),this.start=e,this.end=t,this.lineLike={start:e,end:t,type:n}}equals(e){return this===e||se(e)&&this.lineLike.type===e.lineLike.type&&(0,a.q)(this.start,e.start)&&(0,a.q)(this.end,e.end)}closestTo(e){const t=(0,v.Hh)();return(0,y.Yv)(e,this.lineLike,t),t}}class w extends M{constructor(e,t){super(e,t,1)}}class S extends M{constructor(e,t){super(e,t,0)}}class b extends _{constructor(e){super(),this.constraints=e}equals(e){return this===e||ie(e)&&(0,i.aI)(this.constraints,e.constraints,(e,t)=>e.equals(t))}closestTo(e){let t,n=1/0;for(const i of this.constraints){const r=i.closestTo(e),s=(0,a.s)(e,r);s<n&&(n=s,t=r)}return(0,v.o8)(null!==t&&void 0!==t?t:e)}closestPoints(e){return this.constraints.flatMap(t=>t===this?[]:t.closestPoints(e))}}class x extends _{constructor(e,t){super(),this.center=e,this.radius=t}equals(e){return this===e||le(e)&&this.center[0]===e.center[0]&&this.center[1]===e.center[1]&&this.radius===e.radius}closestTo(e){const t=(0,v.Hh)();return(0,y.Nm)(e,this.center,this.radius,t),t}}class T extends _{constructor(e,t){super(),this.center=e,this.radius=t}equals(e){return this===e||ce(e)&&(0,a.q)(this.center,e.center)&&this.radius===e.radius}closestTo(e){const t=(0,v.Hh)();return(0,y.Nm)(e,this.center,this.radius,t),t[2]=this.center[2],t}asCircle(){return new C((0,v.o8)(this.center),this.radius,(0,v.fA)(0,0,1))}}class C extends _{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;super(),this.center=e,this.radius=t,this.normal=n,this.slicePlane=i}equals(e){return this===e||ue(e)&&(0,a.q)(this.center,e.center)&&(0,a.q)(this.normal,e.normal)&&this.radius===e.radius}closestTo(e){const{center:t,radius:n}=this;(0,p._I)(this.getPlane(R),e,Z);const i=(0,a.a)(Z,Z,t),r=(0,a.m)(i);if((0,y.Zj)(r,0))return(0,v.o8)(e);const s=n/Math.sqrt(r),o=(0,v.Hh)();(0,a.c)(o,t,i,s);const{slicePlane:l}=this;if(l&&!(0,y.F2)(l,o)){var c;const t=W(l,this);return null!==(c=null===t||void 0===t?void 0:t.closestTo(e))&&void 0!==c?c:(0,v.o8)(e)}return o}getPlane(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.vt)();return(0,p.O_)(this.center,this.normal,e)}}const Z=(0,l.vt)(),R=(0,p.vt)();class P extends _{constructor(e){super(),this.z=e}equals(e){return this===e||oe(e)&&this.z===e.z}closestTo(e){return(0,v.fA)(e[0],e[1],this.z)}getPlane(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.vt)();return(0,a.j)(L,0,0,this.z),(0,p.O_)(L,l.Cb,e)}}const L=(0,l.vt)();class z extends _{constructor(e,t,n){super(),this.start=e,this.end=t,this.planeLike={start:(0,v.Xz)(e),end:(0,v.Xz)(t),type:n}}equals(e){return this===e||ae(e)&&this.planeLike.type===e.planeLike.type&&(0,a.q)(this.start,e.start)&&(0,a.q)(this.end,e.end)}closestTo(e){const t=(0,v.Hh)();return(0,y.r2)(e,this.planeLike,t),t}closestEndTo(e){const{start:t,end:n}=this.planeLike;return Math.sign((0,s.Om)((0,s.Re)(q,n,t),(0,s.Re)(j,(0,v.Xz)(e),t)))>0?this.end:this.start}getPlane(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.vt)();const t=(0,a.d)(A,this.end);return t[2]+=1,(0,p.Cr)(this.start,this.end,t,e)}getSlicePlane(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.vt)();const{start:t,end:n,type:i}=this.planeLike;if(0===i)return;const r=(0,a.j)(A,t[0],t[1],0),s=(0,a.j)(E,n[0],n[1],0),o=(0,a.e)(E,s,r);return(0,p.O_)(r,o,e),e}}const q=(0,o.vt)(),j=(0,o.vt)(),A=(0,l.vt)(),E=(0,l.vt)();class N extends z{constructor(e,t){super(e,t,1)}}class H extends z{constructor(e,t){super(e,t,0)}}class O extends _{constructor(e,t){super(),this.sphere=(0,f.j)(e,t),this._center=(0,l.o8)(e)}equals(e){return this===e||he(e)&&(0,f.k)(this.sphere,e.sphere)}closestTo(e){const t=(0,v.Hh)();return(0,f.p)(this.sphere,e,t),t}get center(){return this._center}get radius(){return this.sphere[3]}}class k extends _{constructor(e,t,n){super(),this.start=e,this.end=t,this.getZ=n,this.planeLike={start:(0,v.Xz)(e),end:(0,v.Xz)(t),type:0}}equals(e){return this===e||de(e)&&(0,a.q)(this.start,e.start)&&(0,a.q)(this.end,e.end)&&this.getZ===e.getZ}closestTo(e){return function(e,t){var n;const i=(0,v.Hh)();return(0,y.r2)(t,e.planeLike,i),i[2]=null!==(n=e.getZ(i[0],i[1]))&&void 0!==n?n:pe,i}(this,e)}addIfOnTheGround(e,t){for(const i of t){var n;const t=null!==(n=this.getZ(i[0],i[1]))&&void 0!==n?n:0;(0,y.Zj)(i[2],t)&&(i[2]=t,e.push(i))}}}class D extends _{constructor(e,t,n){super(),this._x=e,this._y=t,this._z=n}equals(e){return this===e||function(e){return e instanceof D}(e)&&this._x===e._x&&this._y===e._y&&this._z===e._z}closestTo(e){var t,n,i;let[r,s,o]=e;return(0,v.vt)(null!==(t=this._x)&&void 0!==t?t:r,null!==(n=this._y)&&void 0!==n?n:s,null!==(i=this._z)&&void 0!==i?i:o)}}class I extends _{constructor(e,t,n,i,r){super(),this._origin=e,this._spatialReference=t,this._distanceMeters=n,this._z=i,this._directionDegrees=r}equals(e){return this===e||function(e){return e instanceof I}(e)&&(0,s.t2)(this._origin,e._origin)&&this._spatialReference===e._spatialReference&&this._distanceMeters===e._distanceMeters&&this._z===e._z&&this._directionDegrees===e._directionDegrees}closestTo(e){var t;let[n,i,r]=e;return(0,s.hZ)(F,n,i),(0,s.t2)(F,this._origin)||this._applyDirectionAndDistance(F),(0,v.vt)(F[0],F[1],null!==(t=this._z)&&void 0!==t?t:r)}_applyDirectionAndDistance(e){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,d.vN)(e,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(e,t,n,i,r){let{azimuth:s,distance:o}=(0,d._3)(X,t,i,r);null!==s&&void 0!==s||(s=0);let a=o*Math.cos((s-n)*h.eh);a=Math.max(0,a),(0,d.vN)(e,t,n,a,r)}(e,this._origin,this._directionDegrees,e,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:t}=(0,d._3)(V,this._origin,e,this._spatialReference);(0,d.vN)(e,this._origin,null!==t&&void 0!==t?t:0,this._distanceMeters,this._spatialReference)}}}const F=[0,0],V=new d.Zj;const X=new d.Zj;function G(e,t){if(ie(e)){const n=[];for(const i of e.constraints){const e=i.intersect(t);e&&n.push(e)}return ne(n)}if(ie(t))return G(t,e);if(de(e))return Y(e,t);if(de(t))return Y(t,e);if(re(e)){const{point:n}=e;if(re(t))return(0,a.q)(n,t.point)?e:void 0;const i=t.closestTo(n);return(0,a.G)(i,n)?e:void 0}if(se(e)){if(re(t))return G(t,e);if(se(t))return ee((0,y.SO)(e.lineLike,t.lineLike));if(oe(t))return B(e,t);if(ae(t))return ee((0,y.Mc)(t.planeLike,e.lineLike));if(le(t))return ee((0,y.K4)(e.lineLike,t.center,t.radius));if(ue(t))return ee((0,y.IB)(e.lineLike,t));if(ce(t))return function(e,t){let{lineLike:n}=e,{center:i,radius:r}=t;const s=i[2];return ee((0,y.K4)(n,i,r).filter(e=>(0,y.Zj)(e[2],s)))}(e,t);if(he(t))return function(e,t){let{lineLike:n}=e,{sphere:i}=t;return ee((0,f.h)(i,n.start,n.end))}(e,t)}else if(oe(e)){if(re(t)||se(t))return G(t,e);if(oe(t))return function(e,t){return(0,y.Zj)(e.z,t.z)?e:void 0}(e,t);if(ae(t))return function(e,t){let{z:n}=e,{planeLike:i}=t;const[r,s]=i.start,[o,a]=i.end,l=(0,v.fA)(r,s,n),c=(0,v.fA)(o,a,n);return 0===i.type?new w(l,c):new S(l,c)}(e,t);if(le(t))return function(e,t){const[n,i]=t.center;return new T((0,v.fA)(n,i,e.z),t.radius)}(e,t);if(ue(t))return U(e,t);if(ce(t))return function(e,t){return(0,y.Zj)(t.center[2],e.z)?t:void 0}(e,t);if(he(t))return function(e,t){let{center:n,radius:i}=t;const r=Math.abs(n[2]-e.z);if(r>i&&!(0,y.Zj)(r,i))return;const s=(0,v.fA)(n[0],n[1],e.z),o=Math.sqrt(i**2-r**2);return(0,y.Zj)(o,0)?void 0:new T(s,o)}(e,t)}else if(ae(e)){if(re(t)||se(t)||oe(t))return G(t,e);if(ae(t))return $((0,y.b_)(e.planeLike,t.planeLike));if(le(t))return $((0,y.Bn)(e.planeLike,t.center,t.radius));if(ue(t))return K(e,t);if(ce(t))return Q(e,t);if(he(t))return J(e,t)}else if(le(e)){if(re(t)||se(t)||oe(t)||ae(t))return G(t,e);if(le(t))return $((0,y.t1)((0,v.Xz)(e.center),e.radius,(0,v.Xz)(t.center),t.radius));if(ue(t))return;if(ce(t))return function(e,t){const n=(0,s.hG)((0,v.Xz)(e.center),(0,v.Xz)(t.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(e.radius,t.radius)?t:te((0,y.t1)((0,v.Xz)(e.center),e.radius,(0,v.Xz)(t.center),t.radius),t.center[2])}(e,t);if(he(t))return}else if(ue(e)){if(re(t)||se(t)||oe(t)||ae(t)||le(t))return G(t,e);if(ue(t))return;if(ce(t))return void t.asCircle();if(he(t))return}else if(ce(e)){if(re(t)||se(t)||oe(t)||ae(t)||le(t)||ue(t))return G(t,e);if(ce(t))return function(e,t){if(!(0,y.HG)(e.center,t.center))return;const n=(0,s.hG)((0,v.Xz)(e.center),(0,v.Xz)(t.center));return(0,y.Zj)(n,0)&&(0,y.Zj)(e.radius,t.radius)?e:te((0,y.t1)((0,v.Xz)(e.center),e.radius,(0,v.Xz)(t.center),t.radius),e.center[2])}(t,e);if(he(t))return}else if(he(e)){if(re(t)||se(t)||oe(t)||ae(t)||le(t)||ce(t))return G(t,e);if(he(t))return}}const B=(()=>{const e=(0,p.vt)();return(t,n)=>{const{start:i,end:r}=t;if((0,y.HG)(i,r)&&(0,y.Zj)(i[2],n.z))return t;const s=(0,v.Hh)();return(0,p.U5)(n.getPlane(e),i,r,s)?new m(s):void 0}})();const W=(()=>{const e=(0,u.vt)(),t=(0,l.vt)(),n=(0,l.vt)();return(i,s,o)=>{const{normal:u,center:h,radius:d}=s;(0,g.VV)(u,t,n);const f=(0,p.Qj)(i),_=d*(0,a.f)(f,t),M=d*(0,a.f)(f,n);(0,c.s)(e,h[0],h[1],h[2],1);const w=(0,c.g)(i,e),S=Math.hypot(_,M),b=(0,y.Zj)(S,0);if((0,y.Zj)((0,p.Io)(i,h),0)){if(b)return s;if((0,y.Zj)(d,0))return!o||(0,y.F2)(o,h)?new m((0,v.o8)(h)):void 0;(0,a.i)(t,f,u),(0,a.n)(t,t);const e=new Array,n=(0,l.o8)(h);(0,a.c)(n,n,t,d),o&&!(0,y.F2)(o,n)||e.push(n);const i=(0,l.o8)(h);return(0,a.c)(i,i,t,-d),o&&!(0,y.F2)(o,i)||e.push(i),ee(e)}if(b)return;const x=-w/S;if(Math.abs(x)>1||(0,y.Zj)(x,1))return;const T=Math.atan(_/M),C=(0,r.YN)(x)-T,Z=Math.PI-C,R=new Array,P=(0,l.vt)();(0,a.c)(P,h,t,d*Math.cos(C)),(0,a.c)(P,P,n,d*Math.sin(C)),R.push(P);const L=(0,l.vt)();return(0,a.c)(L,h,t,d*Math.cos(Z)),(0,a.c)(L,L,n,d*Math.sin(Z)),R.push(L),ee(o?(0,y.UL)(o,R):R)}})();const U=(()=>{const e=(0,p.vt)();return(t,n)=>W(t.getPlane(e),n,n.slicePlane)})();const Q=(()=>{const e=(0,p.vt)();return(t,n)=>{let{center:i,radius:r}=n;const s=(0,y.Bn)(t.planeLike,i,r),o=i[2];t.getSlicePlane(e);const a=new Array;for(const[l,c]of s){const t=[l,c,o];(0,y.F2)(e,t)&&a.push(t)}return ee(a)}})(),K=(()=>{const e=(0,p.vt)(),t=(0,p.vt)();return(n,i)=>W(n.getPlane(e),i,n.getSlicePlane(t))})(),J=(()=>{const e=(0,p.vt)();return(t,n)=>{let{center:i,radius:r}=n;const s=t.getPlane(e),o=(0,p.mN)(s,i),c=Math.abs(o);if(c>r&&!(0,y.Zj)(c,r))return;const u=Math.sqrt(r**2-o**2);if((0,y.Zj)(u,0)){const e=(0,v.Hh)();return(0,p._I)(s,i,e),new m(e)}const h=(0,v.Hh)(),d=(0,l.o8)((0,p.Qj)(s));return(0,a.c)(h,i,d,o),new C(h,u,d,t.getSlicePlane())}})();function Y(e,t){const{planeLike:n,getZ:i}=e,r=new Array;if(re(t))e.addIfOnTheGround(r,(0,y.VT)(n,t.point));else if(se(t))e.addIfOnTheGround(r,(0,y.Mc)(n,t.lineLike));else if(le(t))for(const[o,a]of(0,y.Bn)(n,t.center,t.radius)){const e=i(o,a);null!=e&&r.push((0,l.fA)(o,a,e))}else if(ae(t)||de(t))for(const[o,a]of(0,y.b_)(n,t.planeLike)){var s;const e=null!==(s=i(o,a))&&void 0!==s?s:pe;r.push((0,l.fA)(o,a,e))}return ee(r)}function $(e){return ne(e.map(e=>{let[t,n]=e;const i=(0,v.fA)(t,n,0),r=(0,v.fA)(t,n,1);return new w(i,r)}))}function ee(e){return ne(e.map(e=>e?new m((0,v._7)(e)):void 0))}function te(e,t){return ee(e.map(e=>{let[n,i]=e;return[n,i,t]}))}function ne(e){var t;if(0!==e.length)return 1===e.length?null!==(t=e[0])&&void 0!==t?t:void 0:new b(e.filter(i.Ru))}function ie(e){return e instanceof b}function re(e){return e instanceof m}function se(e){return e instanceof M}function oe(e){return e instanceof P}function ae(e){return e instanceof z}function le(e){return e instanceof x}function ce(e){return e instanceof T}function ue(e){return e instanceof C}function he(e){return e instanceof O}function de(e){return e instanceof k}const pe=0},78228:(e,t,n)=>{n.d(t,{H:()=>o});var i=n(30003),r=n(23543),s=n(56572);class o extends i.C{constructor(e){let{targetPoint:t,constraint:n,previousVertex:i,otherVertex:r,otherVertexType:s,isDraped:o,selfSnappingType:a,objectId:l,domain:c}=e;super(t,n,o,null!==c&&void 0!==c?c:2),this.previousVertex=i,this.otherVertex=r,this.otherVertexType=s,this.selfSnappingType=null!==a&&void 0!==a?a:0,this.objectId=null!==l&&void 0!==l?l:null}get hints(){const e=this.previousVertex,t=1===this.otherVertexType?this.otherVertex:this.targetPoint,n=1===this.otherVertexType?this.targetPoint:this.otherVertex;return[new r.c(0,t,n,this.isDraped,this.domain),new r.c(1,e,t,this.isDraped,this.domain),new s.l(this.previousVertex,t,n,this.isDraped,this.domain)]}}},79337:(e,t,n)=>{n.d(t,{Bn:()=>d,F2:()=>Z,HG:()=>x,IB:()=>m,K4:()=>M,Mc:()=>p,Nm:()=>y,SO:()=>w,UL:()=>C,VT:()=>f,Yv:()=>_,Zj:()=>T,b_:()=>g,r2:()=>v,t1:()=>S});var i=n(15941),r=n(19555),s=n(72745),o=n(20664),a=n(9392),l=n(53494),c=n(13927),u=n(94966),h=n(74050);function d(e,t,n){let{start:i,end:o,type:a}=e;const l=[],c=(0,r.Re)(P,o,i),u=(0,r.Re)(L,i,t),h=(0,r.m3)(c),d=2*(0,r.Om)(c,u),p=d*d-4*h*((0,r.m3)(u)-n*n);if(0===p){const e=-d/(2*h);(0===a||e>=0)&&l.push((0,r.Ln)((0,s.vt)(),i,c,e))}else if(p>0){const e=Math.sqrt(p),t=(-d+e)/(2*h);(0===a||t>=0)&&l.push((0,r.Ln)((0,s.vt)(),i,c,t));const n=(-d-e)/(2*h);(0===a||n>=0)&&l.push((0,r.Ln)((0,s.vt)(),i,c,n))}return l}function p(e,t){const n=e.start,i=e.end,s=(0,r.Re)(P,i,n),c=(0,o.j)(q,-s[1],s[0],0),u=t.start,h=t.end,d=(0,o.a)(j,h,u),p=(0,o.f)(d,c),f=(0,o.j)(A,n[0],n[1],0),g=(0,o.a)(E,f,u),v=(0,o.f)(g,c),y=(0,l.FD)();if(Math.abs(p)<y)return Math.abs(v),[];const _=(0,o.c)(N,u,d,v/p);if(0===t.type){const e=(0,o.a)(H,_,u);if((0,o.f)(e,d)<-y)return[]}if(1===e.type){const e=(0,r.jb)(L,_,n);if((0,r.Om)(e,s)<-y)return[]}return[(0,a.o8)(_)]}function f(e,t){return function(e,t){let{start:n,end:i,type:r}=e;const s=(0,o.a)(z,t,n),c=(0,o.a)(q,i,n),u=(0,o.i)(j,c,s),h=(0,o.y)(u)/(0,o.y)(c),d=(0,l.FD)();if(h<d)switch(r){case 1:return[(0,a.o8)(t)];case 0:return(0,o.f)(c,s)<-d?[]:[(0,a.o8)(t)]}return[]}(b(k,t[2],e),t)}function g(e,t){return w(b(k,0,e),b(D,0,t)).map(e=>{let[t,n]=e;return(0,s.fA)(t,n)})}function v(e,t,n){return _(e,b(k,e[2],t),n)}function y(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,a.vt)();const s=(0,r.Re)(P,e,t),o=(0,r.Bw)(s);return(0,r.Ln)(i,t,s,0===o?1:n/o),i[2]=e[2],i}function _(e,t){let{start:n,end:i,type:r}=t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,a.vt)();const l=(0,o.a)(z,e,n),c=(0,o.a)(q,i,n),u=(0,o.f)(l,c)/(0,o.f)(c,c);return(0,o.c)(s,n,c,0===r?Math.max(u,0):u)}const m=(()=>{const e=(0,a.vt)(),t=(0,a.vt)(),n=(0,a.vt)();return(i,l)=>{let{start:d,end:p}=i,{center:f,radius:g,normal:v,slicePlane:y}=l;const _=(0,c.O_)(f,v,O);if(T((0,c.Io)(_,d),0)&&T((0,c.Io)(_,p),0)){(0,u.VV)(v,e,t);const i=(i,s)=>((0,o.e)(n,s,f),(0,r.hZ)(i,(0,o.f)(n,e),(0,o.f)(n,t)),i),l=(0,h.IB)({start:i(P,d),end:i(L,p),type:1},s.uY,g),c=[];for(const[n,r]of l){const i=(0,o.d)((0,a.vt)(),f);(0,o.c)(i,i,e,n),(0,o.c)(i,i,t,r),y&&!Z(y,i)||c.push(i)}return c}const m=(0,a.vt)();return(0,c.U5)(_,d,p,m)?!T((0,o.k)(m,f),g)||y&&!Z(y,m)?[]:[m]:[]}})();function M(e,t,n){let{start:i,end:s,type:l}=e;const c=[],u=(0,o.e)(z,s,i),h=(0,r.Re)(L,i,t),d=(0,r.m3)(u),p=2*(0,r.Om)(u,h),f=p*p-4*d*((0,r.m3)(h)-n*n);if(0===f){const e=-p/(2*d);(1===l||e>=0)&&c.push((0,o.c)((0,a.vt)(),i,u,e))}else if(f>0){const e=Math.sqrt(f),t=(-p+e)/(2*d);(1===l||t>=0)&&c.push((0,o.c)((0,a.vt)(),i,u,t));const n=(-p-e)/(2*d);(1===l||n>=0)&&c.push((0,o.c)((0,a.vt)(),i,u,n))}return c}function w(e,t){const n=e.start,i=e.end,r=t.start,s=t.end,c=(0,o.a)(z,i,n),u=(0,o.a)(q,s,r),h=(0,o.a)(j,r,n),d=(0,o.i)(A,c,u);if(!T((0,o.f)(h,d),0))return[];const p=(0,o.y)(d);if(T(p,0))return[];const f=(0,o.i)(E,h,u),g=(0,o.f)(f,d)/p,v=(0,o.c)(N,n,c,g);if(0===e.type){const e=(0,o.a)(H,v,n);if((0,o.f)(c,e)<-(0,l.FD)())return[]}if(0===t.type){const e=(0,o.a)(H,v,r);if((0,o.f)(u,e)<-(0,l.FD)())return[]}return[(0,a.o8)(v)]}function S(e,t,n,i){const[o,a]=e,[l,c]=n,u=l-o,h=c-a,d=u*u+h*h,p=Math.sqrt(d);if(p>t+i)return[];if(p<Math.abs(t-i))return[];if(T(p,0)&&T(t,i))return[];const f=(t*t-i*i+d)/(2*p),g=Math.sqrt(t*t-f*f),v=g*h/p,y=g*u/p,[_,m]=(0,r.Cc)(P,e,n,f/p);return T(v,y)?[(0,s.fA)(_,m)]:[(0,s.fA)(_+v,m-y),(0,s.fA)(_-v,m+y)]}function b(e,t,n){let{start:i,end:r,type:s}=n;return(0,o.j)(e.start,i[0],i[1],t),(0,o.j)(e.end,r[0],r[1],t),e.type=R[s],e}function x(e,t){return T(e[2],t[2])}function T(e,t){return(0,i.Sp)(Math.abs(e-t),0,(0,l.FD)())}function C(e,t){return t.filter(t=>Z(e,t))}function Z(e,t){return(0,c.Tj)(e,t)}const R={0:1,1:0},P=(0,s.vt)(),L=(0,s.vt)(),z=(0,a.vt)(),q=(0,a.vt)(),j=(0,a.vt)(),A=(0,a.vt)(),E=(0,a.vt)(),N=(0,a.vt)(),H=(0,a.vt)(),O=(0,c.vt)(),k={start:(0,a.vt)(),end:(0,a.vt)(),type:1},D={start:(0,a.vt)(),end:(0,a.vt)(),type:1}},80794:(e,t,n)=>{n.d(t,{X:()=>a});var i=n(89379),r=n(75543),s=n(61751),o=n(23543);class a extends s.w{constructor(e){super((0,i.A)((0,i.A)({},e),{},{isDraped:!0,constraint:new r.en(e.edgeStart,e.edgeEnd,e.getGroundElevation)}))}get hints(){return[new o.c(1,this.constraint.start,this.constraint.end,this.isDraped,this.domain)]}}},83973:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(6326),r=n(91967),s=n(18690),o=n(19276),a=n(76460),l=n(46053),c=(n(81806),n(87990)),u=n(3589),h=n(63078);let d=class extends r.A{constructor(e){super(e),this.enabled=!1,this.enabledToggled=!1,this.forceDisabled=!1,this.selfEnabled=!0,this.featureEnabled=!0,this.gridEnabled=!1,this.attributeRulesEnabled=!1,this.featureSources=new o.A,this.distance=h.N.distance,this.touchSensitivityMultiplier=h.N.touchSensitivityMultiplier}get effectiveEnabled(){return!this.forceDisabled&&(this.enabledToggled?!this.enabled:this.enabled)}get effectiveGridEnabled(){return this.effectiveEnabled&&this.gridEnabled}get effectiveSelfEnabled(){return this.effectiveEnabled&&this.selfEnabled}get effectiveFeatureEnabled(){return this.effectiveEnabled&&this.featureEnabled}get _effectiveFeatureSources(){var e,t,n;const i=this.featureSources;i.some(p)&&a.A.getLogger(this).warnOnce("Do not configure SubtypeGroupLayer sources in SnappingOptions.featureSources directly. Create a FeatureSnappingLayerSource for each SubtypeSublayer.");const r=i.filter(g),l=null!==(e=null===(t=this._get("_effectiveFeatureSources"))||void 0===t?void 0:t.filter(p))&&void 0!==e?e:new o.A;for(const s of r){const e=l.find(e=>e.layer===s.layer.parent);if(e)e.sublayerSources.includes(s)||e.sublayerSources.add(s);else if(s.layer.parent){const e=new u.A({layer:s.layer.parent});e.sublayerSources.add(s),l.add(e)}}for(const s of l){const e=s.sublayerSources.filter(e=>!r.includes(e));s.sublayerSources.removeMany(e)}l.removeMany(l.filter(e=>0===e.sublayerSources.length));const c=i.filter(f),h=null!==(n=this._get("_effectiveFeatureSources"))&&void 0!==n?n:new o.A,{added:d,removed:v}=(0,s.iv)(h.toArray(),[...c,...l]);return h.removeMany(v),h.addMany(d),h}};function p(e){return"subtype-group"===e.layer.type}function f(e){return"subtype-group"!==e.layer.type}function g(e){return"subtype-sublayer"===e.layer.type}(0,i.Cg)([(0,l.MZ)()],d.prototype,"enabled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"enabledToggled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"forceDisabled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"selfEnabled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"featureEnabled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"gridEnabled",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"attributeRulesEnabled",void 0),(0,i.Cg)([(0,l.MZ)({type:o.A.ofType(u.A)})],d.prototype,"featureSources",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"distance",void 0),(0,i.Cg)([(0,l.MZ)()],d.prototype,"touchSensitivityMultiplier",void 0),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],d.prototype,"effectiveEnabled",null),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],d.prototype,"effectiveGridEnabled",null),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],d.prototype,"effectiveSelfEnabled",null),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],d.prototype,"effectiveFeatureEnabled",null),(0,i.Cg)([(0,l.MZ)({readOnly:!0})],d.prototype,"_effectiveFeatureSources",null),d=(0,i.Cg)([(0,c.$)("esri.views.interactive.snapping.SnappingOptions")],d)},90659:(e,t,n)=>{n.d(t,{M0:()=>o,U7:()=>a,yF:()=>s});var i=n(7137),r=n(80963);function s(e){return(0,i.TT)(e)||(0,r.K8)(e)}function o(e,t,n){for(var r=arguments.length,s=new Array(r>3?r-3:0),o=3;o<r;o++)s[o-3]=arguments[o];return(0,i.TT)(e)?t.apply(void 0,s):e.isWebMercator?n.apply(void 0,s):null}const a=1e5},90836:(e,t,n)=>{n.d(t,{N:()=>o});var i=n(75543),r=n(30003),s=n(30484);class o extends r.C{constructor(e,t,n,r){super(e,new i.i7(e),r,3),this.first=t,this.second=n}get hints(){return this.first.targetPoint=this.targetPoint,this.second.targetPoint=this.targetPoint,[...this.first.hints,...this.second.hints,new s.v(this.targetPoint,this.isDraped,this.domain)]}}}}]);
//# sourceMappingURL=2105.3c1deeda.chunk.js.map