{"version":3,"file":"static/js/3013.c82f5635.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/chunks/LineMarker.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";const o=e().vec3f(\"position\").freeze(),f=e().vec3f(\"position\").vec2f16(\"uv0\").freeze(),v=e().vec3f(\"position\").vec4u8(\"color\").freeze(),r=e().vec3f(\"position\").vec2f(\"uv0\").freeze(),c=e().vec3f(\"position\").vec2f(\"uv0\").vec4u8(\"olidColor\").freeze();export{v as PositionColorLayout,o as PositionLayout,f as PositionUvLayout,r as PositionUvf32Layout,c as PositionUvf32OlidLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{markerTextureSize as e,markerSymbolSize as r,markerTipThicknessFactor as i}from\"../views/3d/support/engineContent/marker.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{RibbonVertexPosition as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{OutputHighlight as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{MarkerSizing as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{NoPerspectiveWrite as l,NoPerspectiveRead as p}from\"../views/3d/webgl-engine/core/shaderLibrary/util/NoPerspective.glsl.js\";import{addProjViewLocalOrigin as d,addViewNormal as v,addPixelRatio as m}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{glsl as w,If as y}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Texture2DPassUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{outputColorHighlightOID as P}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as z}from\"../views/webgl/ShaderBuilder.js\";function b(b){const j=new z,{space:L,anchor:D,hasTip:k,hasScreenSizePerspective:M}=b,C=2===L,$=1===L;j.include(t,b),j.include(n,b),j.include(s,b);const{vertex:W,fragment:U,varyings:O}=j;d(W,b),j.attributes.add(\"position\",\"vec3\"),j.attributes.add(\"previousDelta\",\"vec4\"),j.attributes.add(\"uv0\",\"vec2\"),O.add(\"vColor\",\"vec4\"),O.add(\"vpos\",\"vec3\",{invariant:!0}),O.add(\"vUV\",\"vec2\"),O.add(\"vSize\",\"float\"),k&&O.add(\"vLineWidth\",\"float\"),W.uniforms.add(new h(\"nearFar\",({camera:e})=>e.nearFar),new f(\"viewport\",({camera:e})=>e.fullViewport)).code.add(w`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),W.code.add(w`void clip(vec4 pos, inout vec4 prev) {\nfloat vnp = nearFar[0] * 0.99;\nif (prev.z > -nearFar[0]) {\nfloat interpolation = (-vnp - pos.z) / (prev.z - pos.z);\nprev = mix(pos, prev, interpolation);\n}\n}`),C?(j.attributes.add(\"normal\",\"vec3\"),v(W),W.constants.add(\"tiltThreshold\",\"float\",.7),W.code.add(w`vec3 perpendicular(vec3 v) {\nvec3 n = (viewNormal * vec4(normal.xyz, 1.0)).xyz;\nvec3 n2 = cross(v, n);\nvec3 forward = vec3(0.0, 0.0, 1.0);\nfloat tiltDot = dot(forward, n);\nreturn abs(tiltDot) < tiltThreshold ? n : n2;\n}`)):W.code.add(w`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}`);const T=C?\"vec3\":\"vec2\";return W.code.add(w`\n      ${T} normalizedSegment(${T} pos, ${T} prev) {\n        ${T} segment = pos - prev;\n        float segmentLen = length(segment);\n\n        // normalize or zero if too short\n        return (segmentLen > 0.001) ? segment / segmentLen : ${C?\"vec3(0.0, 0.0, 0.0)\":\"vec2(0.0, 0.0)\"};\n      }\n\n      ${T} displace(${T} pos, ${T} prev, float displacementLen) {\n        ${T} segment = normalizedSegment(pos, prev);\n\n        ${T} displacementDirU = perpendicular(segment);\n        ${T} displacementDirV = segment;\n\n        ${1===D?\"pos -= 0.5 * displacementLen * displacementDirV;\":\"\"}\n\n        return pos + displacementLen * (uv0.x * displacementDirU + uv0.y * displacementDirV);\n      }\n    `),$&&(W.uniforms.add(new S(\"inverseProjectionMatrix\",({camera:e})=>e.inverseProjectionMatrix)),W.code.add(w`vec3 inverseProject(vec4 posScreen) {\nposScreen.xy = (posScreen.xy / viewport.zw) * posScreen.w;\nreturn (inverseProjectionMatrix * posScreen).xyz;\n}`),W.code.add(w`bool rayIntersectPlane(vec3 rayDir, vec3 planeOrigin, vec3 planeNormal, out vec3 intersection) {\nfloat cos = dot(rayDir, planeNormal);\nfloat t = dot(planeOrigin, planeNormal) / cos;\nintersection = t * rayDir;\nreturn abs(cos) > 0.001 && t > 0.0;\n}`),W.uniforms.add(new u(\"perScreenPixelRatio\",({camera:e})=>e.perScreenPixelRatio)),W.code.add(w`\n      vec4 toFront(vec4 displacedPosScreen, vec3 posLeft, vec3 posRight, vec3 prev, float lineWidth) {\n        // Project displaced position back to camera space\n        vec3 displacedPos = inverseProject(displacedPosScreen);\n\n        // Calculate the plane that we want the marker to lie in. Note that this will always be an approximation since ribbon lines are generally\n        // not planar and we do not know the actual position of the displaced prev vertices (they are offset in screen space, too).\n        vec3 planeNormal = normalize(cross(posLeft - posRight, posLeft - prev));\n        vec3 planeOrigin = posLeft;\n\n        ${y(b.hasCap,\"if(prev.z > posLeft.z) {\\n                vec2 diff = posLeft.xy - posRight.xy;\\n                planeOrigin.xy += perpendicular(diff) / 2.0;\\n             }\")};\n\n        // Move the plane towards the camera by a margin dependent on the line width (approximated in world space). This tolerance corrects for the\n        // non-planarity in most cases, but sharp joins can place the prev vertices at arbitrary positions so markers can still clip.\n        float offset = lineWidth * perScreenPixelRatio;\n        planeOrigin *= (1.0 - offset);\n\n        // Intersect camera ray with the plane and make sure it is within clip space\n        vec3 rayDir = normalize(displacedPos);\n        vec3 intersection;\n        if (rayIntersectPlane(rayDir, planeOrigin, planeNormal, intersection) && intersection.z < -nearFar[0] && intersection.z > -nearFar[1]) {\n          return vec4(intersection.xyz, 1.0);\n        }\n\n        // Fallback: use depth of pos or prev, whichever is closer to the camera\n        float minDepth = planeOrigin.z > prev.z ? length(planeOrigin) : length(prev);\n        displacedPos *= minDepth / length(displacedPos);\n        return vec4(displacedPos.xyz, 1.0);\n      }\n  `)),m(W),j.include(l),W.main.add(w`\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(position + previousDelta.xyz * previousDelta.w, 1.0);\n\n      float lineWidth = getLineWidth(${y(M,\"pos.xyz\")});\n      float screenMarkerSize = getScreenMarkerSize(lineWidth);\n\n      clip(pos, prev);\n\n      ${C?w`${y(b.hideOnShortSegments,w`\n                if (areWorldMarkersHidden(pos.xyz, prev.xyz)) {\n                  // Project out of clip space\n                  gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n                  return;\n                }`)}\n            pos.xyz = displace(pos.xyz, prev.xyz, getWorldMarkerSize(pos.xyz));\n            vec4 displacedPosScreen = projectAndScale(pos);`:w`\n            vec4 posScreen = projectAndScale(pos);\n            vec4 prevScreen = projectAndScale(prev);\n            vec4 displacedPosScreen = posScreen;\n\n            displacedPosScreen.xy = displace(posScreen.xy, prevScreen.xy, screenMarkerSize);\n            ${y($,w`\n                vec2 displacementDirU = perpendicular(normalizedSegment(posScreen.xy, prevScreen.xy));\n\n                // We need three points of the ribbon line in camera space to calculate the plane it lies in\n                // Note that we approximate the third point, since we have no information about the join around prev\n                vec3 lineRight = inverseProject(posScreen + lineWidth * vec4(displacementDirU.xy, 0.0, 0.0));\n                vec3 lineLeft = pos.xyz + (pos.xyz - lineRight);\n\n                pos = toFront(displacedPosScreen, lineLeft, lineRight, prev.xyz, lineWidth);\n                displacedPosScreen = projectAndScale(pos);`)}`}\n      forwardViewPosDepth(pos.xyz);\n      // Convert back into NDC\n      displacedPosScreen.xy = (displacedPosScreen.xy / viewport.zw) * displacedPosScreen.w;\n\n      // Convert texture coordinate into [0,1]\n      vUV = (uv0 + 1.0) / 2.0;\n      ${y(!C,\"vUV = noPerspectiveWrite(vUV, displacedPosScreen.w);\")}\n      ${y(k,\"vLineWidth = noPerspectiveWrite(lineWidth, displacedPosScreen.w);\")}\n\n      vSize = screenMarkerSize;\n      vColor = getColor();\n\n      // Use camera space for slicing\n      vpos = pos.xyz;\n\n      gl_Position = displacedPosScreen;\n    }`),U.include(o,b),j.include(P,b),U.include(c),U.uniforms.add(new g(\"intrinsicColor\",({color:e})=>e),new x(\"tex\",({markerTexture:e})=>e)).constants.add(\"texelSize\",\"float\",1/e).code.add(w`float markerAlpha(vec2 samplePos) {\nsamplePos += vec2(0.5, -0.5) * texelSize;\nfloat sdf = texture(tex, samplePos).r;\nfloat pixelDistance = sdf * vSize;\npixelDistance -= 0.5;\nreturn clamp(0.5 - pixelDistance, 0.0, 1.0);\n}`),k&&(j.include(p),U.constants.add(\"relativeMarkerSize\",\"float\",r/e).constants.add(\"relativeTipLineWidth\",\"float\",i).code.add(w`\n    float tipAlpha(vec2 samplePos) {\n      // Convert coordinates s.t. they are in pixels and relative to the tip of an arrow marker\n      samplePos -= vec2(0.5, 0.5 + 0.5 * relativeMarkerSize);\n      samplePos *= vSize;\n\n      float halfMarkerSize = 0.5 * relativeMarkerSize * vSize;\n      float halfTipLineWidth = 0.5 * max(1.0, relativeTipLineWidth * noPerspectiveRead(vLineWidth));\n\n      ${y(C,\"halfTipLineWidth *= fwidth(samplePos.y);\")}\n\n      float distance = max(abs(samplePos.x) - halfMarkerSize, abs(samplePos.y) - halfTipLineWidth);\n      return clamp(0.5 - distance, 0.0, 1.0);\n    }\n  `)),j.include(a,b),j.include(p),U.main.add(w`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n\n    vec4 finalColor = intrinsicColor * vColor;\n\n    // Cancel out perspective correct interpolation if in screen space or draped\n    vec2 samplePos = ${y(!C,\"noPerspectiveRead(vUV)\",\"vUV\")};\n    finalColor.a *= ${k?\"max(markerAlpha(samplePos), tipAlpha(samplePos))\":\"markerAlpha(samplePos)\"};\n    outputColorHighlightOID(finalColor, vpos, finalColor.rgb);`),j}const j=Object.freeze(Object.defineProperty({__proto__:null,build:b},Symbol.toStringTag,{value:\"Module\"}));export{j as L,b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as t}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r,depthOnlyOutputBuffersOr as l}from\"../core/shaderTechnique/ShaderTechnique.js\";import{depthWrite as n,oitDepthTest as s,blending as o,getDrawBuffers as c}from\"../lib/OrderIndependentTransparency.js\";import{stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as p,stencilWriteMaskOn as a,stencilToolTransparentOccluderParams as d,depthCompareAlways as h,stencilToolMaskOccluderParams as f,stencilWriteMaskOff as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{L as T}from\"../../../../chunks/LineMarker.glsl.js\";import{makePipelineState as W,defaultColorWrite as _,unpremultipliedAlphaToPremultipliedAlpha as b}from\"../../../webgl/renderState.js\";class g extends r{constructor(e,t){super(e,t,new i(T,()=>import(\"./LineMarker.glsl.js\")),S(t).locations)}_makePipelineState(e,i){const{output:r,oitPass:d,space:h,hasOccludees:f}=e;return W({blending:t(r)?o(d):null,depthTest:0===h?null:{func:s(d)},depthWrite:n(e),drawBuffers:l(r,c(d,r)),colorWrite:_,stencilWrite:f?a:null,stencilTest:f?i?u:p:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:null,stencilTest:d}),this._occluderPipelineOpaque=W({blending:b,depthTest:h,depthWrite:null,colorWrite:_,stencilWrite:m,stencilTest:f}),this._occluderPipelineMaskWrite=W({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:a,stencilTest:u})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,t){return e?this._occludeePipelineState:11===t?this._occluderPipelineTransparent??super.getPipeline():10===t?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}function S(t){const i=e().vec3f(\"position\").vec4f16(\"previousDelta\").vec2f16(\"uv0\");return t.hasVVColor?i.f32(\"colorFeatureAttribute\"):i.vec4u8(\"color\",{glNormalized:!0}),t.hasVVOpacity&&i.f32(\"opacityFeatureAttribute\"),t.hasVVSize?i.f32(\"sizeFeatureAttribute\"):i.f16(\"size\"),t.worldSpace&&i.vec3f16(\"normal\"),i.freeze()}export{g as LineMarkerTechnique,S as getLayout};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class i extends o{constructor(t){super(),this.spherical=t,this.space=1,this.anchor=0,this.occluder=!1,this.writeDepth=!1,this.hideOnShortSegments=!1,this.hasCap=!1,this.hasTip=!1,this.hasVVSize=!1,this.hasVVColor=!1,this.hasVVOpacity=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.hasScreenSizePerspective=!1,this.textureCoordinateType=0,this.emissionSource=0,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.hasVVInstancing=!1,this.hasSliceTranslatedView=!0,this.olidColorInstanced=!1,this.overlayEnabled=!1,this.snowCover=!1}get draped(){return 0===this.space}get worldSpace(){return 2===this.space}}t([e({count:3})],i.prototype,\"space\",void 0),t([e({count:2})],i.prototype,\"anchor\",void 0),t([e()],i.prototype,\"occluder\",void 0),t([e()],i.prototype,\"writeDepth\",void 0),t([e()],i.prototype,\"hideOnShortSegments\",void 0),t([e()],i.prototype,\"hasCap\",void 0),t([e()],i.prototype,\"hasTip\",void 0),t([e()],i.prototype,\"hasVVSize\",void 0),t([e()],i.prototype,\"hasVVColor\",void 0),t([e()],i.prototype,\"hasVVOpacity\",void 0),t([e()],i.prototype,\"hasOccludees\",void 0),t([e()],i.prototype,\"terrainDepthTest\",void 0),t([e()],i.prototype,\"cullAboveTerrain\",void 0),t([e()],i.prototype,\"hasScreenSizePerspective\",void 0);export{i as LineMarkerTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{j as e,G as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{makeFloat16Array as s}from\"../../../../geometry/support/float16.js\";import{isColorOrColorEmission as a,isDepth as o,isColorEmissionHighlightOIDOrDepth as n}from\"../core/shaderLibrary/ShaderOutput.js\";import h from\"../lib/GLMaterial.js\";import{Material as c}from\"../lib/Material.js\";import{VisualVariablePassParameters as p}from\"./VisualVariablePassParameters.js\";import{writeDeltaF16Vector as l}from\"./internal/bufferWriterUtils.js\";import{getLayout as m,LineMarkerTechnique as u}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as d}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{alphaCutoff as f}from\"../../../../webscene/support/AlphaCutoff.js\";class g extends c{constructor(e,t){super(e,v),this.produces=new Map([[2,e=>9===e||a(e)&&8===this.parameters.renderOccluded],[3,e=>o(e)],[10,e=>n(e)&&8===this.parameters.renderOccluded],[11,e=>n(e)&&8===this.parameters.renderOccluded],[4,e=>a(e)&&this.parameters.writeDepth],[8,e=>a(e)&&!this.parameters.writeDepth],[18,e=>a(e)||9===e]]),this.intersectDraped=void 0,this._configuration=new d(t)}getConfiguration(e,t){return super.getConfiguration(e,t,this._configuration),this._configuration.space=18===t.slot?0:this.parameters.worldSpace?2:1,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=0!==this.parameters.cap,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasVVSize=this.parameters.hasVVSize,this._configuration.hasVVColor=this.parameters.hasVVColor,this._configuration.hasVVOpacity=this.parameters.hasVVOpacity,this._configuration.occluder=8===this.parameters.renderOccluded,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&a(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective,this._configuration}get visible(){return this.parameters.color[3]>=f}intersect(){}createBufferWriter(){return new S(m(this.parameters),this.parameters)}createGLMaterial(e){return new _(e)}}class _ extends h{dispose(){super.dispose(),this._markerTextures?.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this.getTechnique(u,e)}}class v extends p{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=0,this.anchor=0,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.stipplePattern=null,this.markerTexture=null}}class S{constructor(e,t){this.layout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,a,o,n,h,c){const p=o.get(\"position\").data,m=p.length/3;let u=[1,0,0];const d=o.get(\"normal\");this._parameters.worldSpace&&null!=d&&(u=d.data);let f=1,g=0;this._parameters.vvSize?g=o.get(\"sizeFeatureAttribute\").data[0]:o.has(\"size\")&&(f=o.get(\"size\").data[0]);let _=[1,1,1,1],v=0;this._parameters.vvColor?v=o.get(\"colorFeatureAttribute\").data[0]:o.has(\"color\")&&(_=o.get(\"color\").data);let S=0;this._parameters.vvOpacity&&(S=o.get(\"opacityFeatureAttribute\").data[0]);const P=new Float32Array(h.buffer),T=s(h.buffer),k=new Uint8Array(h.buffer);let O=c*(this.layout.stride/4);const V=P.BYTES_PER_ELEMENT/T.BYTES_PER_ELEMENT,j=4/V,y=(e,t,r,i)=>{P[O++]=e[0],P[O++]=e[1],P[O++]=e[2],l(t,e,T,O*V),O+=j;let s=O*V;if(T[s++]=r[0],T[s++]=r[1],O=Math.ceil(s/V),this._parameters.vvColor)P[O++]=v;else{const e=Math.min(4*i,_.length-4),t=4*O++;k[t]=255*_[e],k[t+1]=255*_[e+1],k[t+2]=255*_[e+2],k[t+3]=255*_[e+3]}this._parameters.vvOpacity&&(P[O++]=S),s=O*V,this._parameters.vvSize?(P[O++]=g,s+=2):T[s++]=f,this._parameters.worldSpace&&(T[s++]=u[0],T[s++]=u[1],T[s++]=u[2]),O=Math.ceil(s/V)},M=(s,a)=>{const o=e(b,p[3*s],p[3*s+1],p[3*s+2]),n=w;let h=s+a;do{e(n,p[3*h],p[3*h+1],p[3*h+2]),h+=a}while(t(o,n)&&h>=0&&h<m);i&&(r(o,o,i),r(n,n,i)),y(o,n,[-1,-1],s),y(o,n,[1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,-1],s),y(o,n,[1,1],s),y(o,n,[-1,1],s)},C=this._parameters.placement;return\"begin\"!==C&&\"begin-end\"!==C||M(0,1),\"end\"!==C&&\"begin-end\"!==C||M(m-1,-1),null}}const b=i(),w=i();export{g as LineMarkerMaterial,v as Parameters};\n"],"names":["o","e","vec3f","freeze","f","vec2f16","v","vec4u8","r","vec2f","c","b","j","z","space","L","anchor","D","hasTip","k","hasScreenSizePerspective","M","C","$","include","t","n","s","vertex","W","fragment","U","varyings","O","d","attributes","add","invariant","uniforms","h","_ref","camera","nearFar","_ref2","fullViewport","code","w","_templateObject","_taggedTemplateLiteral","_templateObject2","constants","_templateObject3","_templateObject4","T","_templateObject5","S","_ref3","inverseProjectionMatrix","_templateObject6","_templateObject7","u","_ref4","perScreenPixelRatio","_templateObject8","y","hasCap","m","l","main","_templateObject9","_templateObject0","hideOnShortSegments","_templateObject1","_templateObject10","_templateObject11","P","g","_ref5","color","x","_ref6","markerTexture","_templateObject12","p","i","_templateObject13","a","_templateObject14","Object","defineProperty","__proto__","build","Symbol","toStringTag","value","constructor","super","locations","_makePipelineState","output","oitPass","hasOccludees","blending","depthTest","func","depthWrite","drawBuffers","colorWrite","_","stencilWrite","stencilTest","polygonOffset","factor","units","initializePipeline","occluder","this","_occluderPipelineTransparent","_occluderPipelineOpaque","_occluderPipelineMaskWrite","_occludeePipelineState","getPipeline","_this$_occluderPipeli","_this$_occluderPipeli2","_this$_occluderPipeli3","vec4f16","hasVVColor","f32","glNormalized","hasVVOpacity","hasVVSize","f16","worldSpace","vec3f16","spherical","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","hasVVInstancing","hasSliceTranslatedView","olidColorInstanced","overlayEnabled","snowCover","draped","count","prototype","produces","Map","parameters","renderOccluded","intersectDraped","_configuration","getConfiguration","slot","cap","hasSlicePlane","screenSizePerspective","visible","intersect","createBufferWriter","createGLMaterial","dispose","_this$_markerTextures","_markerTextures","release","_markerPrimitive","beginSlot","_material","markerPrimitive","setParameters","swap","getTechnique","arguments","width","placement","vvFastUpdate","stipplePattern","layout","_parameters","elementCount","write","get","data","length","vvSize","has","vvColor","vvOpacity","Float32Array","buffer","Uint8Array","stride","V","BYTES_PER_ELEMENT","Math","ceil","min"],"sourceRoot":""}