{"version":3,"file":"static/js/5595.647db034.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/interactive/AnalysisToolBase.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/chunks/Viewshed.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js","../node_modules/@arcgis/core/analysis/Viewshed.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/interactive/ToolIntersector.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js","../node_modules/@arcgis/core/views/analysis/AnalysisView.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/support/geometry2dUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedFieldOfViewManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedArrowManipulator.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedScaleOrientManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedShapeVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js","../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{watch as s,syncAndInitial as t}from\"../../core/reactiveUtils.js\";import\"../../core/Logger.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{InteractiveToolBase as i}from\"./InteractiveToolBase.js\";let o=class extends i{constructor(e){super(e)}initialize(){this.addHandles(s(()=>this.analysisViewData.visible,e=>this.visible=e,t))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set(\"created\",!1)}};o=e([r(\"esri.views.interactive.AnalysisToolBase\")],o);export{o as AnalysisToolBase};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{handlesGroup as t}from\"../../core/handleUtils.js\";import{removeMaybe as e}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as i,onAbort as a}from\"../../core/promiseUtils.js\";import{watch as r,syncAndInitial as s,on as l,whenOnce as c}from\"../../core/reactiveUtils.js\";function u(t,n){t.interactive=!0;const{tool:i,view:r}=t;r.activeTool=i;let s=a(n,()=>{r.activeTool===i&&(r.activeTool=null)});return o(async o=>{await c(()=>!t.tool?.active,o),s=e(s)},n)}function m(o,t){return r(()=>o.interactive,()=>p(o,t),s)}function p(o,t){o.interactive?v(o,t):f(o)}function v(o,t){f(o);const{view:e,analysis:n}=o,i=new t({view:e,analysis:n,analysisViewData:o});return o.tool=i,e.tools.add(i),i}function f(o){const{view:t,tool:e}=o;null!=e&&(t.tools.remove(e),o.tool=null)}function y(e,a){const r=e.userOperation,s=o(async o=>{if(r){const t=r.promise.catch(()=>{});r?.abort(),await t,n(o)}const s=u(e,{signal:o}),c=a?.shouldRejectOnCancel??(()=>!0),m=t([l(()=>e.tool,\"cancel\",()=>{c()&&s.abort()})]),{tool:p}=e;try{p&&(p.resetCreated(),a?.onToolActivated?.(p)),await s.promise,n(o)}catch(v){if(o.aborted||!i(v)||c())throw v}finally{m?.remove()}},{signal:a?.abortOptions?.signal});return e.userOperation=s,s.promise.finally(()=>{e.userOperation===s&&(e.userOperation=null)})}async function d(o,t){const e=o.analysis.clone();return await y(o,{abortOptions:t?.placementOptions,onToolActivated:t?.onToolActivated,shouldRejectOnCancel:()=>{const{analysis:t}=o;return!t.valid||t.equals(e)}}),{}}export{u as activateAnalysisViewTool,m as connectAnalysisViewToTool,f as removeAnalysisViewTool,y as startExclusiveInteractiveOperation,d as startPlaceOperation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{invertOrIdentity as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{PiUtils as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{LocalFromScreenSpacePassParameters as r,localFromScreenSpace as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js\";import{Float2PassUniform as d}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{FloatPassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js\";import{glsl as c}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Matrix4BindUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4sPassUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js\";import{Texture2DBindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as u}from\"../views/webgl/ShaderBuilder.js\";class x extends r{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=i.flat(),this.viewMatrices=i.flat(),this.volumeOffset=0}}function V(){const i=new u,o=i.fragment;return i.include(t),i.include(n),o.include(s),o.include(a),o.uniforms.add(new m(\"depthTexture\",e=>e.depth?.attachment),new f(\"inverseProjectionMatrix\",e=>e.camera.inverseProjectionMatrix),new f(\"inverseViewNormalMatrix\",({camera:i})=>e(b,i.viewInverseTransposeMatrix)),new l(\"viewshedObserverOffset\",e=>e.observerOffset),new l(\"viewshedTargetVector\",e=>e.targetVector),new l(\"viewshedUpVector\",e=>e.upVector),new d(\"viewshedFOVs\",e=>e.fovs),new d(\"viewshedHeadingAndTilt\",e=>e.headingAndTilt),new d(\"viewshedNearFar\",e=>e.shadowMap.nearFar??[1,100]),new h(\"viewshedVolumeOffset\",e=>e.volumeOffset),new g(\"viewshedShadowMap\",e=>e.shadowMap.depthTexture),new p(\"viewshedProjectionMatrices\",e=>e.projectionMatrices,6),new p(\"viewshedViewMatrices\",e=>e.viewMatrices,6),new w(\"viewshedNumFaces\",e=>e.shadowMap.numActiveFaces),new v(\"viewshedAtlasRegions\",e=>e.shadowMap.atlasRegions.flat(),24),new g(\"normalMap\",e=>e.normals)),o.constants.add(\"visibleColor\",\"vec4\",[0,1,0,.5]),o.constants.add(\"occludedColor\",\"vec4\",[1,0,0,.5]),o.code.add(c`vec2 getViewshedUv(vec4 worldPosition, int face) {\nmat4 viewshedMatrix = viewshedProjectionMatrices[face];\nvec4 viewshedUv4 = viewshedMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nreturn viewshedUv.xy;\n}\nfloat viewshedDepthToFloat(float depth) {\nreturn (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);\n}\nfloat getOrthographicDepthToViewshed(vec4 worldPosition, int face) {\nmat4 viewshedViewMatrix = viewshedViewMatrices[face];\nvec4 viewshedUv4 = viewshedViewMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nfloat depth = -viewshedUv.z;\nreturn viewshedDepthToFloat(depth);\n}\nfloat viewshedReadShadowMapDepth(sampler2D _viewshedShadowmap, ivec2 uv) {\nreturn texelFetch(_viewshedShadowmap, uv, 0).r;\n}\nfloat viewshedFilterShadow(sampler2D _viewshedShadowmap, vec2 uv) {\nvec2 uvScaled = uv * vec2(textureSize(_viewshedShadowmap, 0));\nvec2 st    = fract(uvScaled);\nivec2 base = ivec2(uvScaled);\nfloat s00 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y    ));\nfloat s10 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y    ));\nfloat s11 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x + 1, base.y + 1));\nfloat s01 = viewshedReadShadowMapDepth( _viewshedShadowmap, ivec2(base.x,     base.y + 1));\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat viewshedTextureAtlasLookup(sampler2D _viewshedShadowmap, vec2 uv, vec4 atlasRegion) {\nvec2 atlasScale = atlasRegion.zw - atlasRegion.xy;\nvec2 uvAtlas = fract(uv) * atlasScale + atlasRegion.xy;\nreturn viewshedFilterShadow(_viewshedShadowmap, uvAtlas);\n}\nfloat getDepthFromShadowMap(vec2 uv, int face) {\nint index = 4 * face;\nfloat umin = viewshedAtlasRegions[index];\nfloat umax = viewshedAtlasRegions[index + 1];\nfloat vmin = viewshedAtlasRegions[index + 2];\nfloat vmax = viewshedAtlasRegions[index + 3];\nvec4 atlasRegion = vec4(umin, vmin, umax, vmax);\nreturn viewshedTextureAtlasLookup(viewshedShadowMap, uv, atlasRegion);\n}\nstruct ViewshedPoint {\nint face;\nvec2 uv;\nbool isWithin;\nfloat orthographicDepth;\n};\nmat3 rotationMatrix(vec3 axis, float angle)\n{\nfloat s = sin(angle);\nfloat c = cos(angle);\nfloat oc = 1.0 - c;\nreturn mat3(\noc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),\noc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),\noc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)\n);\n}\nfloat distanceToPlane(vec3 position, vec3 normal) {\nreturn dot(position, normal);\n}\nbool outsideViewshed(float distance) {\nreturn distance > -viewshedVolumeOffset;\n}\nbool isWithinViewshed(vec3 position) {\nfloat positionLength = length(position - viewshedObserverOffset);\nfloat farSphereDistance = positionLength - viewshedNearFar[1];\nif (outsideViewshed(farSphereDistance)) { return false; }\nfloat nearSphereDistance = viewshedNearFar[0] - positionLength;\nif (outsideViewshed(nearSphereDistance)) { return false; }\nvec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));\nbool leftOfTarget = distanceToPlane(position, westVector) > 0.0;\nif (viewshedFOVs[0] < TWO_PI) {\nfloat horAngle = viewshedFOVs[0] / 2.0;\nhorAngle = leftOfTarget ? horAngle : -horAngle;\nvec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);\nbool inFront = distanceToPlane(position, sideVector) > 0.0;\nif (inFront) {\nvec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n} else if (viewshedFOVs[0] < PI) { return false; }\n}\nif (viewshedFOVs[1] < PI) {\nfloat t = dot(viewshedUpVector, position);\nvec3 nProjVector = normalize(position - t * viewshedUpVector);\nfloat heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));\nheading = leftOfTarget ? heading : -heading;\nbool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;\nfloat verFOV = viewshedFOVs[1] / 2.0;\nverFOV = aboveTarget ? -verFOV : verFOV;\nmat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);\nvec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;\nvec3 leftVector = westVector * rotateByHeading;\nvec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n}\nreturn true;\n}\nbool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {\nfor(int i=0; i < viewshedNumFaces; i++) {\nvec2 viewshedUv = getViewshedUv(localPosition, i);\nif (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {\nfloat orthoDepth = getOrthographicDepthToViewshed(localPosition, i);\nif (orthoDepth >= 0.) {\nbool isWithin = isWithinViewshed(localPosition.xyz);\npoint = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);\nreturn true;\n}\n}\n}\nreturn false;\n}\nfloat normalCosAngle(float linearDepth, vec3 localPosition) {\nvec4 normal4 = texture(normalMap, uv);\nvec3 normalN = normalize(normal4.xyz * 2.0 - 1.0);\nvec3 normal =  normalize((inverseViewNormalMatrix * vec4(normalN, 1.0)).xyz);\nvec3 viewingDir = normalize(localPosition);\nreturn dot(normal, viewingDir);\n}`),o.main.add(c`float depth = depthFromTexture(depthTexture, uv);\nif (depth >= 1.0 || depth <= 0.0) {\nreturn;\n}\nfloat linearDepth = linearizeDepth(depth);\nvec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);\nViewshedPoint point;\nbool foundFace = getViewshedPoint(localPosition, point);\nif (!foundFace || !point.isWithin) {\nreturn;\n}\nfloat viewshedDepth = getDepthFromShadowMap(point.uv, point.face);\nfloat distance = point.orthographicDepth;\nbool visible = distance < viewshedDepth;\nfragColor = visible ? visibleColor : occludedColor;\nfloat cosAngle = normalCosAngle(linearDepth, localPosition.xyz);\nfloat threshold = -0.01;\nif (cosAngle > threshold) {\nfragColor = occludedColor;\n}`),i}const b=o(),M=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:x,build:V},Symbol.toStringTag,{value:\"Module\"}));export{x as V,M as a,V as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{translate as r,invertOrIdentity as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{zeros as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{CameraSpace as t}from\"./CameraSpace.glsl.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";import{NoParameters as c}from\"../../../../../webgl/NoParameters.js\";class m extends c{constructor(){super(...arguments),this.localOrigin=i()}}function l(i){i.include(t),i.fragment.uniforms.add(new s(\"inverseViewMatrix\",(i,t)=>{const a=r(o(),t.camera.viewMatrix,i.localOrigin);return e(a,a)})).code.add(a`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {\nvec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);\nreturn inverseViewMatrix * cameraSpace;\n}`)}export{m as LocalFromScreenSpacePassParameters,l as localFromScreenSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{featureReferenceEquals as r,featureReferenceProperty as o}from\"./featureReferenceUtils.js\";import{Clonable as i}from\"../core/Clonable.js\";import{cyclicalDegrees as t}from\"../core/Cyclical.js\";import{JSONSupportMixin as s}from\"../core/JSONSupport.js\";import{equalsMaybe as a}from\"../core/maybe.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as m}from\"../core/accessorSupport/ensureType.js\";import c from\"../geometry/Point.js\";let u=class extends(s(i)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}get valid(){return null!=this.observer&&this.farDistance>0}equals(e){return a(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&r(this.feature,e.feature)}};e([l({type:c,json:{write:{isRequired:!0}}})],u.prototype,\"observer\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],u.prototype,\"farDistance\",void 0),e([l({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n(e=>t.normalize(m(e),void 0,!0))],u.prototype,\"heading\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"tilt\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],u.prototype,\"horizontalFieldOfView\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"verticalFieldOfView\",void 0),e([l(o)],u.prototype,\"feature\",void 0),e([l({readOnly:!0,json:{read:!1}})],u.prototype,\"valid\",null),u=e([p(\"esri.analysis.Viewshed\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{a as e,b as t,c as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{toGraphic as u,hasLod as i,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const d={json:{write:{writer:b,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:f}}},clonable:\"reference\"};function b(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function f(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function I(l,i,a,c){const{sceneIntersectionHelper:d}=l,{observer:b,observerFeatureId:f,targetFeatureId:I,target:m}=a;if(null==f&&null==I)return;c||(c=e=>e),e(g,b,m);const p=t(g),S=1;r(g,b,g,S/p);const v=o(g,m,y);i.options.store=2,d.intersectToolIntersectorRay(v,i);let F=null,N=null,R=null,w=null;for(const e of i.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=f&&r===f&&(F??=c(j(e,l,p)),e.distanceInRenderSpace-S<F&&(R=e)),null!=I&&r===I&&(N??=c(j(e,l,p)),null==w&&e.distanceInRenderSpace-S<p&&p-e.distanceInRenderSpace+S<N&&(w=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,w?.getIntersectionPoint(h)?a.targetSurfaceNormal=w.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(i(e)){const n=a(e,t);if(null!=n)return Math.min(n*m,r)}return 1e-5*r}const m=.05,y=l(),g=n();export{c as featureReferenceEquals,d as featureReferenceProperty,s as getFeatureId,I as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Intersector as e}from\"../3d/webgl-engine/lib/Intersector.js\";function o(o){const n=new e(o);return n.options.store=0,n.options.excludeLabels=!0,n}export{o as newToolIntersector};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Material as r}from\"../lib/Material.js\";import{intersectTriangleGeometry as e,intersectTriangleGeometry2d as t}from\"../lib/RayIntersections.js\";class i extends r{intersect(r,t,i,s,n,o){return e(r,i,s,n,void 0,o)}intersectDraped(r,e,i,s){return t(i[0],i[1],r,s)}}export{i as TriangleMaterial};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{makeHandle as r}from\"../../core/handleUtils.js\";import{EsriPromiseMixin as o}from\"../../core/Promise.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends(o(t)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return(this.parent?.visible&&!this.parent.suspended)??!0}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractive(){return this._interactiveViewModelCount++,r(()=>this._interactiveViewModelCount--)}};e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([s(\"esri.views.analysis.AnalysisView\")],n);export{n as AnalysisView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as s}from\"tslib\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView as o}from\"../../analysis/AnalysisView.js\";let e=class extends o{};e=s([r(\"esri.views.3d.analysis.AnalysisView3D\")],e);export{e as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{floatEqualAbsolute as t}from\"../../core/mathUtils.js\";import{subtract as n,scaleAndAdd as r,add as e,length as s,dot as o,squaredLength as c,scale as u,distance as i,copy as f}from\"../../core/libs/gl-matrix-2/math/vec2.js\";import{create as a,clone as p}from\"../../core/libs/gl-matrix-2/factories/vec2f64.js\";function m(t,n){return t[0]*n[1]-t[1]*n[0]}function h(t,n,r){const e=(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0]);return Math.abs(e)/i(n,r)}function l(t,n,r){const e=o(r,n)/c(r);return u(t,r,e)}function y(t,r,s,o,c=s){return n(q,o,s),n(k,r,c),l(w,k,q),e(t,c,w)}function b(t,e,s,u){n(q,u,s),n(k,e,s);const i=o(q,k)/c(q);return i>0?r(t,s,q,i):f(t,s)}function d(t,e,o,c){n(q,e,o);const u=c/s(q);return r(t,o,q,u)}function j(n,r){return y(k,r,n.start,n.end),t(k[0],r[0])&&t(k[1],r[1])?[p(r)]:[]}function x(n,r,e){return d(k,e,n,r),t(k[0],e[0])&&t(k[1],e[1])?[p(e)]:[]}function M(t,e){const s=t.start,o=t.end,c=e.start,u=e.end,i=n(q,o,s),f=n(U,u,c),a=m(i,f);if(Math.abs(a)<=v)return[];const p=n(k,s,c),h=m(f,p)/a,l=m(i,p)/a;if(h>=0){if(l>=0||1===e.type)return[r(w,s,i,h)]}else if(1===t.type&&(l>=0||1===e.type))return[r(w,s,i,h)];return[]}function g(t,e,s){const u=[],i=n(q,t.end,t.start),f=n(U,t.start,e),a=c(i),p=2*o(i,f),m=p*p-4*a*(c(f)-s*s);if(0===m){const n=-p/(2*a);(1===t.type||n>=0)&&u.push(r(w,t.start,i,n))}else if(m>0){const n=Math.sqrt(m),e=(-p+n)/(2*a);(1===t.type||e>=0)&&u.push(r(w,t.start,i,e));const s=(-p-n)/(2*a);(1===t.type||s>=0)&&u.push(r(k,t.start,i,s))}return u}const v=1e-6,q=a(),U=a(),k=a(),w=a();export{m as cross,x as intersectCircleAndPoint,j as intersectLineAndPoint,M as intersectLineAndRay,g as intersectLineLikeAndCircle,h as pointToLineDistance,l as projectPoint,d as projectPointToCircle,y as projectPointToLine,b as projectPointToRay};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";const t=2,r=4,s=i(2),o=1.5;class c{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=r,this.fovFocusedArcWidth=t*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=t/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const n=new c;class h{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new e([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0,color:e.toUnitRGBA(new e([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:1,cullFace:2,writeDepth:!1}}}const l=new h;export{s as arcAnglePerSegment,o as creationVerticalOffset,n as viewshedToolManipulatorConfiguration,l as viewshedVisualizationConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,clamp as e}from\"../../../../core/mathUtils.js\";import{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as o,n as a,d as s,p as i,f as c,a as m,g as p,h as d}from\"../../../../chunks/vec32.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as f,fromPositionAndNormal as u,create as g}from\"../../../../geometry/support/plane.js\";import{viewshedToolManipulatorConfiguration as h}from\"./ViewshedConfiguration.js\";import{calculateTranslateRotateFromBases as j,calculateInputRotationTransform as b}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as x}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{headingTiltToDirectionUp as v}from\"../../support/cameraUtils.js\";import{createDirectionUp as S}from\"../../support/cameraUtilsInternal.js\";function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=j(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,o,i){const j=l(),v=f(o.plane),S=E(n,v);let R;if(Math.abs(S)>h.viewAngleThreshold)R=t.next(x(n,o.plane));else{const r=u(i.targetRenderSpace,o.basis1,g()),s=a(D,o.basis1),f=a(M,o.basis2);R=t.next(x(n,r)).next(r=>{const t=r=>{const t=c(m(V,r,o.origin),f),n=Math.acos(e(t/i.farDistanceRenderSpace,-1,1)),a=Math.sin(n)*i.farDistanceRenderSpace;return p(l(),o.origin,p(l(),d(V,s,a),d(w,f,t)))},n=t(r.renderStart),a=t(r.renderEnd);return{...r,renderStart:n,renderEnd:a}})}return R.next(e=>{\"start\"===e.action&&s(j,e.renderStart);const t=r(b(j,e.renderEnd,o.origin,v));return{...e,deltaAngle:t}})}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=v(e,n,e.camera.heading,e.camera.tilt,S()).direction;return r(i(o,t))-90}function C(r,e,n,a){return t(A,n,a),o(r,e,A)}const D=l(),M=l(),V=l(),w=l(),A=n();export{R as getViewshedRotationMatrix,C as rotateBy,U as screenToCircleAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as n,n as p,i as a,u as c,g as l,h}from\"../../../../chunks/vec32.js\";import{create as d,fromValues as u,fromArray as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import{rotateBy as g}from\"./viewshedToolUtils.js\";var S;let m=S=class extends t{constructor(e){super(e),this.observerRenderSpaceOverride=null,this.needUpdateByFeature=!1}get observer(){return this.viewshed.observer??new v}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,d())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=n(d(),this.targetRenderSpace,this.observerRenderSpace);return p(e,e)}get tiltedUpVector(){const e=g(d(),this.upVector,-r(this.tiltParallelToSurface),this.leftVector);return p(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,s())}get upVector(){const e=this._basis;return u(e[8],e[9],e[10])}get northVector(){const e=this._basis;return u(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=g(d(),this.northVector,-r(this.heading),e);return a(t,e,t)}get rightVector(){return c(d(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}get valid(){return this.viewshed.valid}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=n(R,s,i);return g(p,p,-r(t),this.leftVector),g(p,p,-r(e),this.tiltedUpVector),l(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin(r(this.verticalFieldOfView/2)),i=h(R,this.tiltedUpVector,o);l(e.top,t,i),n(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new v(r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=f(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=d();return h(n,o,s),g(n,n,-r(this.heading),i),g(n,n,-r(this.tiltParallelToSurface),t),l(n,e,n),n}};e([o()],m.prototype,\"renderCoordsHelper\",void 0),e([o()],m.prototype,\"viewshed\",void 0),e([o()],m.prototype,\"observerRenderSpaceOverride\",void 0),e([o()],m.prototype,\"needUpdateByFeature\",void 0),e([o()],m.prototype,\"observer\",null),e([o()],m.prototype,\"effectiveObserverRenderSpace\",null),e([o()],m.prototype,\"effectiveObserver\",null),e([o()],m.prototype,\"effectiveTargetRenderSpace\",null),e([o()],m.prototype,\"farDistance\",null),e([o()],m.prototype,\"farDistanceRenderSpace\",null),e([o()],m.prototype,\"heading\",null),e([o()],m.prototype,\"tilt\",null),e([o()],m.prototype,\"feature\",null),e([o()],m.prototype,\"tiltParallelToSurface\",null),e([o()],m.prototype,\"horizontalFieldOfView\",null),e([o()],m.prototype,\"verticalFieldOfView\",null),e([o()],m.prototype,\"observerRenderSpace\",null),e([o()],m.prototype,\"target\",null),e([o()],m.prototype,\"targetRenderSpace\",null),e([o()],m.prototype,\"targetDirection\",null),e([o()],m.prototype,\"tiltedUpVector\",null),e([o()],m.prototype,\"_basis\",null),e([o()],m.prototype,\"upVector\",null),e([o()],m.prototype,\"northVector\",null),e([o()],m.prototype,\"leftVector\",null),e([o()],m.prototype,\"rightVector\",null),e([o()],m.prototype,\"valid\",null),e([o()],m.prototype,\"metersPerUnit\",null),m=S=e([i(\"esri.views.3d.analysis.Viewshed.ViewshedComputedData\")],m);const R=d();export{m as ViewshedComputedData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{deg2rad as a,clamp as i}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as s}from\"../../../../core/reactiveUtils.js\";import{fromYRotation as l,fromXRotation as c,fromScaling as u,fromZRotation as p,fromRotation as m,multiply as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as d,a as _,h as g}from\"../../../../chunks/vec32.js\";import{create as M,fromValues as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{viewshedToolManipulatorConfiguration as j}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as w,screenToCircleAngle as A}from\"./viewshedToolUtils.js\";import{Manipulator3D as V}from\"../../interactive/Manipulator3D.js\";import{RenderObject as O}from\"../../interactive/RenderObject.js\";import{InteractiveManipulation as E}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{assert as R}from\"../../webgl-engine/lib/Util.js\";import{RibbonLineMaterial as T}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as U}from\"../../../interactive/dragEventPipeline.js\";class x extends E{constructor(t){super(),this._handles=new r,this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles=o(this._handles),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const a=Object.values(this._manipulators);return e(a.map(({manipulator:e,side:a})=>U(e,(e,i,o,n,s)=>{const l=G(a,r),c=i.next(t=>({...t,manipulatorType:2,side:a})),u=A(c,this._view,l,r);t(e,u,o)})))}updateManipulatorsTransform(t){t.arcCentersPoints(H),this._forEachManipulatorInfo(r=>this._updateArcManipulatorTransform(r,t,H[r.side]))}updateManipulatorVisuals(t){this._forEachManipulatorInfo(r=>this._updateArcManipulatorVisuals(r,t))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const a=[];if(null!=e){const[i,o]=P(r,e,this._unfocusedArcMaterial);a.push(new O(i,1),new O(i.instantiate({material:this._focusedArcMaterial}),2)),t.collisionType={type:\"line\",paths:[o]}}t.renderObjects=a,t.radius=j.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,i){const o=e.horizontalFieldOfView,n=a(e.verticalFieldOfView/2),s=a(o/2),_=I(r);t.renderLocation=i;const g=f(),M=t=>{h(g,t,g)};M(l(k,a(-90))),_||M(c(k,n));const b=e.farDistanceRenderSpace;let v,j;M(u(k,d(L,b,b,b))),M(p(k,F(r))),M(w(e,k)),_?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*=\"right\"===r||\"bottom\"===r?-1:1;const A=m(k,v,j);null!=A&&M(A),t.modelTransform=g}_createManipulators(){const t=this._createArcManipulator(\"left\"),r=this._createArcManipulator(\"right\"),e=this._createArcManipulator(\"top\"),a=this._createArcManipulator(\"bottom\");this._manipulators={left:t,right:r,top:e,bottom:a};[[a.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach(([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}})}_createArcManipulator(t){const r=new V({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on([\"focus-changed\",\"grab-changed\"],t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))})),e}_createArcMaterial(r){const e=j.getFovArcWidth(r),a=new T({renderOccluded:4,isDecoration:!0,width:e},this._view.state.isGlobal);return this._handles.add(n(()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor),t=>a.setParameters({color:t}),s)),a}forEachManipulator(t){Object.values(this._manipulators).forEach(({manipulator:r})=>t(r,2))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach(r=>t(r))}get test(){return{manipulators:this._manipulators}}}function P(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=I(t),l=a(i((s?n:o)/2,0,15)),c=S(-l/2,l/2,s?1:Math.max(Math.sin(a(90-n/2)),.1));return[y(e,c),c]}function S(t,r,e,a=10){R(a>1,\"createArcPolylineGeometry() needs at least 2 for numVertices\");const i=r-t;if(i<=0||e<=0){const t=.01;return[b(0,0,t),b(0,0,-t)]}const o=[],n=i/a;for(let s=0;s<a;s++){let i=t+s*n;s===a-1&&(i=r);const l=Math.cos(i)*e,c=Math.sin(i)*e,u=b(l-e,0,c);o.push(u)}return o}function D(t){switch(t){case\"left\":return 0;case\"bottom\":return 1;case\"right\":return 2;case\"top\":return 3}}function F(t){return D(t)*z}function I(t){return\"left\"===t||\"right\"===t}function C(t){return\"left\"===t?\"right\":\"right\"===t?\"left\":\"top\"===t?\"bottom\":\"top\"}function G(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:a,rightVector:i,farDistanceRenderSpace:o}){const n=_(L,e,r),s=I(t)?i:a,l=g(B,s,o);return v(r,n,l)}const z=Math.PI/2,k=f(),L=M(),B=M(),H={top:M(),bottom:M(),left:M(),right:M()};export{x as ViewshedFieldOfViewManipulation,S as createArcPolylineVertices,C as flipSide,I as isSideHorizontal,F as sideToRad};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Handles.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as i,mul as s,fromXRotation as a,fromYRotation as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as c}from\"../../../../chunks/vec32.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{displayFocusMultiplier as p}from\"../Slice/sliceToolConfig.js\";import{viewshedToolManipulatorConfiguration as f}from\"./ViewshedConfiguration.js\";import{Manipulator3D as h}from\"../../interactive/Manipulator3D.js\";import{RenderObject as d}from\"../../interactive/RenderObject.js\";import{createTubeGeometry as u,createExtrudedTriangle as j}from\"../../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as g}from\"../../webgl-engine/materials/ColorMaterial.js\";class w extends h{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:f.collisionRadius}),this._handles=new t,this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[m(0,0,0),m(0,0,r)],h=u(t,o,e,16,!1),j=u(t,o,e*p,16,!1),g=b(!1,t,e),w=b(!0,t,e),M=l();i(M,o[o.length-1]),s(M,M,a(v,Math.PI/2)),s(M,M,n(v,Math.PI/2)),g.transformation=M,w.transformation=M,this.renderObjects=[new d(h,1),new d(j,2),new d(g,1),new d(w,2)];const _=m(0,f.getScaleOrientArrowTipLength(!0),0),O=c(_,_,M),x=[...o,O];this.collisionType={type:\"line\",paths:[x]}}_createMaterial(){const t=new g({cullFace:2,renderOccluded:4,isDecoration:!0});return this._handles.add(r(()=>e.toUnitRGBA(this.view.effectiveTheme.accentColor),e=>t.setParameters({color:e}),o)),t}}function b(e,t,r){const o=f.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=p);const s=o/2;return j(t,o,s,s,i,0)}const v=l();export{w as ViewshedArrowManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromScaling as e,fromTranslation as a,fromZRotation as r,mul as o,fromYRotation as n,multiply as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as m,h as c,g as p,a as u,H as h,f as d,c as f,n as _}from\"../../../../chunks/vec32.js\";import{create as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{fromValues as T}from\"../../../../geometry/support/ray.js\";import{displayFocusMultiplier as w}from\"../Slice/sliceToolConfig.js\";import{ViewshedArrowManipulator as j}from\"./ViewshedArrowManipulator.js\";import{viewshedToolManipulatorConfiguration as D}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as H,screenToCircleAngle as x}from\"./viewshedToolUtils.js\";import{screenToRenderRay as S}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{discRadiusSmall as M,discRadius as P}from\"../../interactive/editingTools/manipulations/config.js\";import{InteractiveManipulation as R}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createManipulatorDragEventPipeline as y,dragAtLocation as b}from\"../../../interactive/dragEventPipeline.js\";class V extends R{constructor(i){super(),this._handles=new t,this._tool=i.tool,this._view=i.view;const e=D.scaleOrientHandleRadius;this._manipulatorHeading=new j(this._view,e),this._manipulatorTilt=new j(this._view,e),this._manipulatorDistance=new j(this._view,e),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this._handles.destroy(),this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return y(this._manipulatorHeading,(a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:m,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:T}=e,w=Math.sin(i(m))*d,j=p(L,_,c(O,f,w)),D=u(O,g,j),H=c(k,T,h(D)),S=v(j,D,H),M=x(r,l,S,e).next(t=>({...t,manipulatorType:3}));t(a,M,o)})}createTiltDragPipeline(t,i){return y(this._manipulatorTilt,(e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:p}=i,u=d(p,m),h=f(L,p,m,-u);c(h,_(h,h),l);const g=c(O,m,l),T=v(s,h,g),w=x(a,this._view,T,i).next(t=>({...t,manipulatorType:3}));t(e,w,r)})}createDistanceDragPipeline(t,i){return y(this._manipulatorDistance,(e,a,r,o,n)=>{const s=T(i.observerRenderSpace,i.targetDirection),l=a.next(b(this._view,e.location)).next(S(this._view,s)).next(t=>({...t,manipulatorType:2}));t(e,l,r)})}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const p=l(),u=t=>{s(p,t,p)},h=D.scaleOrientSize*(M/P);u(e(E,m(L,h,h,h))),u(H(t,E));const d=D.scaleOrientHandleRadius*w*h,f=c(L,t.targetDirection,d);u(a(E,f));const _=r(E,-C);o(_,_,n(I,-C)),this._manipulatorHeading.modelTransform=o(l(),p,_);const g=n(E,C);o(g,g,r(I,Math.PI)),this._manipulatorTilt.modelTransform=s(l(),p,g),this._manipulatorDistance.modelTransform=p}forEachManipulator(t){t(this._manipulatorHeading,3),t(this._manipulatorTilt,3),t(this._manipulatorDistance,2)}}const E=l(),I=l(),L=g(),O=g(),k=g(),C=Math.PI/2;export{V as ViewshedScaleOrientManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../../../Color.js\";import o from\"../../../../core/Handles.js\";import{watch as t,initial as i}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{viewshedToolManipulatorConfiguration as c}from\"./ViewshedConfiguration.js\";import{Manipulator3D as m}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as a}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as n}from\"../../interactive/RenderObject.js\";import{createSphereGeometry as p}from\"../../webgl-engine/lib/GeometryUtil.js\";class l extends m{constructor(r,e){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new o;const s=a(this._color);this.renderObjects=[new n(p(s,c.observerSize,32,32))],e.manipulators.add(this),this._handles.add([t(()=>this._color,r=>{s.setParameters({color:r})},i)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return e.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([s()],l.prototype,\"_color\",null);export{l as ViewshedObserverManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import i from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{createTask as a}from\"../../../../core/asyncUtils.js\";import{cyclicalDegrees as o,Cyclical as n}from\"../../../../core/Cyclical.js\";import{handlesGroup as s}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{abortMaybe as l,destroyMaybe as p}from\"../../../../core/maybe.js\";import{after as h,throwIfAborted as u}from\"../../../../core/promiseUtils.js\";import{watch as d,syncAndInitial as c,initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as g,H as M,f as b}from\"../../../../chunks/vec32.js\";import{create as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{tryProjectWithZConversion as w}from\"../../../../geometry/projectionUtils.js\";import{viewingModeFromString as O}from\"../../../ViewingMode.js\";import{viewshedToolManipulatorConfiguration as V}from\"./ViewshedConfiguration.js\";import{ViewshedFieldOfViewManipulation as y,isSideHorizontal as D,flipSide as T}from\"./ViewshedFieldOfViewManipulation.js\";import{ViewshedScaleOrientManipulation as H}from\"./ViewshedScaleOrientManipulation.js\";import{ViewshedObserverManipulator as j}from\"./viewshedToolManipulatorUtils.js\";import{discRadiusSmall as C}from\"../../interactive/editingTools/manipulations/config.js\";import{MoveManipulation as F}from\"../../interactive/editingTools/manipulations/MoveManipulation.js\";import{resetProperties as S,dragManipulatedObject as P}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as k}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const E=Symbol(\"dragHandles\"),x=Symbol(\"hideManipulators\"),A=Symbol(\"hideFoVManipulators\"),z=Symbol(\"hideObserverManipulator\");let U=class extends i{constructor(e){super(e),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new y({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new H({view:this.view,tool:this.parentTool}),this._observerManipulator=new j(this.view,this.parentTool),this.addHandles([d(()=>this.viewshedComputedData?.observerRenderSpace,e=>{null!=e&&(this._moveManipulation.renderLocation=e,this._observerManipulator.renderLocation=e)},c),d(()=>this.viewshedComputedData?.heading,e=>{e&&(this._moveManipulation.angle=r(90-e))},v),d(()=>{const{viewshedComputedData:e}=this;return{viewshedComputedData:e,observer:e?.observer}},({viewshedComputedData:e,observer:i},a)=>{this._grabbing&&i!==a?.observer||(this.removeHandles(E),e?.valid&&this.addHandles([this._buildObserverDragPipeline(e),this._buildFOVDragPipeline(e),this._buildScaleOrientDragPipeline(e)].filter(t),E))},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,target:e.targetRenderSpace,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorsTransform(e.viewshedCompData)},v),d(()=>{const e=this.viewshedComputedData;return e?.valid?{viewshedCompData:e,hFOV:e.horizontalFieldOfView,vFOV:e.verticalFieldOfView,tilt:e.tilt}:null},e=>{null!=e&&this._fieldOfViewManipulation.updateManipulatorVisuals(e.viewshedCompData)},v),d(()=>{const e=this.analysisViewData.visible&&(this.viewshedComputedData?.valid??!1),i=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:e&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:e&&(!this.parentTool.creating||i)}},({fovManipulationAvailable:e,nonFOVManipulationAvailable:i})=>{this._moveManipulation.available=i,this._scaleOrientManipulation.available=i,this._observerManipulator.available=i,this._fieldOfViewManipulation.available=e},v),d(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const{observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=e;return{viewshedCompData:e,observer:i,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}},e=>{null!=e&&this._scaleOrientManipulation.updateManipulators(e.viewshedCompData)},v)]);const e=e=>{const i=this.analysisViewData;this.addHandles([e.events.on(\"focus-changed\",()=>{const e=this._someManipulatorHovering();e&&this.parentTool.subToolHandles.forEach(({subTool:e})=>{e._resetHoveringTask()}),this._someManipulatorSelected()||e||(this._forceHoveringTask=a(async e=>{await(this._forceHoveringTestPromise??h(V.hoverTimeoutMilliseconds,e)),u(e),this._forceHoveringTask=null,this._updateManipulatorVisibility()}))}),e.events.on(\"grab-changed\",t=>{this._grabbing=\"start\"===t.action,\"end\"===t.action&&i.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach(({subTool:e})=>{e!==this&&e._setInteractive(!this._grabbing)}),this._setInteractive(i=>i.hasManipulator(e)||!this._grabbing)}),e.events.on(\"drag\",e=>{\"start\"===e.action&&i.tool?.updateInteractionVisualsVisibility()})])};this._forEachManipulator(e)}destroy(){this._forceHoveringTask=l(this._forceHoveringTask),this._moveManipulation=p(this._moveManipulation),this._fieldOfViewManipulation=p(this._fieldOfViewManipulation),this._scaleOrientManipulation=p(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=p(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(e){const i=this.viewshed;null!=i&&(i.observer=e)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:e,grabbing:i}=this._moveManipulation;return{dragging:e,grabbing:i}}get scaleOrientInteractionState(){const{dragging:e,grabbing:i}=this._scaleOrientManipulation;return{dragging:e,grabbing:i}}_setInteractive(e){const i=\"boolean\"==typeof e;this._forEachManipulation(t=>t.interactive=i?e:e(t))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(e){let i=!1;return this._forEachManipulator(t=>{i=i||t===e}),i}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new F({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:C})}_buildObserverDragPipeline(e){const i={mode:\"absolute-height\",offset:0},t=e.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline((e,i,o,n,s)=>{n=n.next(S(this,[\"observer\"]));const r=w(t,a);if(null==r)return{steps:o,cancel:n};const l=k.fromGeometry(r,O(this.view.viewingMode));return{steps:o.next(P({operations:l})).next(e=>(this.observer=l.data.geometry,e)),cancel:n}},i,a,void 0)}_buildFOVDragPipeline(e){let i=0,t=0;return this._fieldOfViewManipulation.createDragPipeline((a,n,s)=>{if(null==e)return{steps:n,cancel:s};const r=e.viewshed;let l=null;s=s.next(S(r,[\"horizontalFieldOfView\",\"verticalFieldOfView\"]));return{steps:n.next(a=>{\"start\"===a.action&&(l=null,i=e.horizontalFieldOfView,t=e.verticalFieldOfView);const n=a.deltaAngle;if(null==l&&0!==n){const e=\"bottom\"===a.side||\"left\"===a.side?n>0:n<0;l=D(a.side)?0===i&&e||360===i&&!e:0===t&&e}const s=l?T(a.side):a.side;let p=0;switch(s){case\"left\":p=i/2-n;break;case\"right\":p=i/2+n;break;case\"top\":p=t+2*n;break;case\"bottom\":p=t-2*n}return D(s)?(p=o.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a}),cancel:s}},e)}_buildScaleOrientDragPipeline(e){let i=0,t=0;const a=(i,t)=>(a,o,n)=>{if(null==e)return{steps:o,cancel:n};const s=e.viewshed;return n=n.next(S(s,[i])),{steps:o=o.next(t(s,e)),cancel:n}};return s([this._scaleOrientManipulation.createHeadingDragPipeline(a(\"heading\",(i,a)=>a=>(\"start\"===a.action&&(t=e.heading),i.heading=o.normalize(t+a.deltaAngle),a)),e),this._scaleOrientManipulation.createTiltDragPipeline(a(\"tilt\",(t,a)=>a=>{\"start\"===a.action&&(i=e.tilt);let o=i+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=R.clamp(o),a}),e),this._scaleOrientManipulation.createDistanceDragPipeline(a(\"farDistance\",(e,i)=>t=>{const a=g(I,t.renderEnd,i.observerRenderSpace),o=M(a)*i.metersPerUnit,n=b(a,i.targetDirection)<0?V.scaleOrientMinDistance:o;return e.farDistance=n,t}),e)])}_updateManipulatorVisibility(){const e=this._someManipulatorSelected(),i=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=e=>{o.push(e.disableDisplay())};e||!a&&i?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),e||!a&&i||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),e||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=l(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(e){this._forEachManipulation(i=>{i.forEachManipulator(e)}),e(this._observerManipulator)}_forEachManipulation(e){e(this._moveManipulation),e(this._fieldOfViewManipulation),e(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:e=>{this._forceHoveringTestPromise=e}}}};e([m({constructOnly:!0})],U.prototype,\"analysis\",void 0),e([m({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),e([m({constructOnly:!0})],U.prototype,\"parentTool\",void 0),e([m({constructOnly:!0,nonNullable:!0})],U.prototype,\"view\",void 0),e([m()],U.prototype,\"viewshed\",null),e([m()],U.prototype,\"_grabbing\",void 0),e([m()],U.prototype,\"grabbing\",null),e([m()],U.prototype,\"viewshedComputedData\",void 0),e([m()],U.prototype,\"observer\",null),U=e([f(\"esri.views.3d.analysis.Viewshed.ViewshedSubTool\")],U);const I=_(),R=new n(0,180);export{U as ViewshedSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../analysis/Viewshed.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as s}from\"../../../../core/mapCollectionUtils.js\";import{rad2deg as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{when as n,watch as l,syncAndInitial as r,sync as d,initial as c}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as m,H as g,j as v,p as w,f as _}from\"../../../../chunks/vec32.js\";import{create as V}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import f from\"../../../../geometry/Point.js\";import{fromPositionAndNormal as b,create as y,projectPoint as S}from\"../../../../geometry/support/plane.js\";import{creationVerticalOffset as T}from\"./ViewshedConfiguration.js\";import{ViewshedSubTool as C}from\"./ViewshedSubTool.js\";import{Manipulator3D as D}from\"../../interactive/Manipulator3D.js\";import{Settings as M}from\"../../interactive/editingTools/settings.js\";import{ExtendedLineVisualElement as j}from\"../../interactive/visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as H}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{toGraphic as I}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{AnalysisToolBase as P}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as E}from\"../../../interactive/keybindings.js\";import{newToolIntersector as L}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as k}from\"../../../support/screenUtils.js\";const R=Symbol(\"interactionVisuals\");let W=class extends P{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._placementMode=B,this._creationState=!1,this._interactionVisualElements=null,this._settings=new M({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=L(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=s(()=>e,({viewshedComputedData:e})=>{const t=new C({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}}),this.addHandles([n(()=>this._valid,()=>this.finishToolCreation(),r),l(()=>this._stagedViewshed,e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null},r),this.analysis.viewsheds.on(\"after-remove\",e=>{const t=this._stagedViewshed;null!=t&&e.item===t&&this.analysis.viewsheds.add(t)}),l(()=>this.firstGrabbedManipulator,e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()},d),l(()=>this.view.activeTool,e=>{e!==this&&null!=e&&(this.selectedViewshed=null)}),n(()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}},e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)},c),l(()=>this.creating,()=>this.updateInteractionVisualsVisibility()),l(()=>this.selectedViewshed,e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)},c)])}destroy(){this.subToolHandles=o(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get _valid(){return this.analysisViewData.viewshedComputedDataHandles?.some(e=>e.viewshedComputedData.valid)??!1}get cursor(){return this.creating?\"crosshair\":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some(({subTool:e})=>e.grabbing)}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return\"placing-target\"===this._creationState}place(e){this.selectedViewshed=null,this._placementMode=e,this._creationState=\"placing-observer\",this._finishToolCreationIfValid()}onManipulatorSelectionChanged(){this.subToolHandles.forEach(e=>e.subTool.onManipulatorSelectionChanged())}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":E.cancel===e.key?this._cancelKeyHandler(e):E.delete.includes(e.key)&&this._deleteKeyHandler();break;case\"hold\":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickPlacementHandler(e)}onActivate(){this._placementMode=B}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,G);if(null!=i){if(\"placing-observer\"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+T;const e=new t({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState=\"placing-target\",this._updateStagedViewshed(i.scenePoint)}else if(\"placing-target\"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._stagedViewshed=null,\"multiple\"===this._placementMode?this._creationState=\"placing-observer\":(this._creationState=!1,this._stagedViewshed=null,this._finishToolCreationIfValid(),this.view.activeTool=null),this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,G);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){this.creating?this._onCancelWhileCreating(e):this.grabbing||(this.selectedViewshed=null,e.stopPropagation())}_onCancelWhileCreating(e){const t=this.removeStaged();this._finishToolCreationIfValid(),t?(this._creationState=\"placing-observer\",this.selectedViewshed=null,\"multiple\"===this._placementMode&&e.stopPropagation()):this._creationState=!1}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState=\"placing-observer\"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_finishToolCreationIfValid(){this._valid&&this.finishToolCreation()}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:o}=x(this.view,i,e);t.farDistance=o,t.tilt=a,t.heading=s}removeStaged(){const e=this._stagedViewshed;return null!=e&&(this._stagedViewshed=null,this.analysis.viewsheds.remove(e),!0)}_intersectScreen(e,t){const i=k(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const o=t.mapPoint;return o.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,o),null==o?null:(t.feature=I(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new H({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new j({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:4,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([l(()=>e.zVerticalLine,e=>e.apply(s),r),l(()=>e.heightPlane,e=>e.apply(t),r),i(()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null})],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,o=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void o(i,!1);if(null==s||null==a)return void o(!1,!1);const n=s.moveInteractionState,l=e?n.grabbing:n.dragging,r=s.scaleOrientInteractionState,d=e?r.grabbing:r.dragging,c=i&&(l||d);if(o(c,l),c){const e=l?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,l)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof D?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function x(e,t,i){const s=t.observerRenderSpace,o=m(O,i,s),n=g(o)*t.metersPerUnit,l=e.renderCoordsHelper.basisMatrixAtPosition(s,K),r=v(U,l[8],l[9],l[10]),d=b(s,r,F),c=S(d,i,A),h=m(c,c,s),u=(g(h)<1e-4?90:a(w(o,h)))*(_(r,o)<0?-1:1)+90,p=v(z,l[4],l[5],l[6]),V=a(w(p,h)),f=v(z,l[0],l[1],l[2]);return{heading:_(h,f)<0?360-V:V,tilt:u,farDistance:n}}e([h({constructOnly:!0})],W.prototype,\"view\",void 0),e([h()],W.prototype,\"analysisViewData\",void 0),e([h()],W.prototype,\"removeIncompleteOnCancel\",void 0),e([h()],W.prototype,\"automaticManipulatorSelection\",void 0),e([h({constructOnly:!0})],W.prototype,\"analysis\",void 0),e([h()],W.prototype,\"subToolHandles\",void 0),e([h()],W.prototype,\"_stagedViewshed\",void 0),e([h()],W.prototype,\"_stagedViewshedComputedData\",void 0),e([h()],W.prototype,\"_placementMode\",void 0),e([h()],W.prototype,\"_creationState\",void 0),e([h()],W.prototype,\"_valid\",null),e([h({readOnly:!0})],W.prototype,\"cursor\",null),e([h()],W.prototype,\"_selectedManipulator\",void 0),e([h()],W.prototype,\"_selectedSubTool\",null),e([h()],W.prototype,\"selectedViewshed\",null),e([h()],W.prototype,\"selectedViewshedComputedData\",null),e([h()],W.prototype,\"stagedViewshed\",null),e([h()],W.prototype,\"grabbing\",null),e([h()],W.prototype,\"creating\",null),e([h()],W.prototype,\"isPlacingTarget\",null),W=e([u(\"esri.views.3d.analysis.Viewshed.ViewshedTool\")],W);const O=V(),U=V(),A=V(),z=V(),K=p(),F=y(),G={mapPoint:new f,scenePoint:V(),feature:null},B=\"multiple\";export{W as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromScaling as e,mul as r,fromTranslation as s,fromRotation as o}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{j as a,d as n,t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as f,arcAnglePerSegment as h}from\"./ViewshedConfiguration.js\";import{getViewshedRotationMatrix as p,rotateBy as u}from\"./viewshedToolUtils.js\";import{Object3DVisualElement as d}from\"../../interactive/visualElements/Object3DVisualElement.js\";import{Attribute as w}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as v}from\"../../webgl-engine/lib/Geometry.js\";import{ColorMaterial as j}from\"../../webgl-engine/materials/ColorMaterial.js\";class D extends d{constructor(t){super(t),this._material=null,this._viewshedComputedData=null,this._material=new j({...f.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(t)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(t){this._viewshedComputedData=t,this.updateTransform()}updateTransform(){const t=this._viewshedComputedData;if(null==t)return;const o=i(),a=t.farDistanceRenderSpace;e(o,m(a,a,a)),p(t,M),r(o,M,o),s(M,this._viewshedComputedData.observerRenderSpace),r(o,M,o),this.transform=o}createExternalResources(){}destroyExternalResources(){}forEachMaterial(t){t(this._material)}createGeometries(t){const{_material:e,viewshedComputedData:r}=this;if(null==r||null==e||!r.valid)return;b(e,r).forEach(e=>t.addGeometry(e))}}function b(e,r){const{horizontalFieldOfView:s,verticalFieldOfView:i}=r,m=a(C,0,0,1),c=a(_,0,1,0),f=a(x,1,0,0);u(m,m,t(i/2),c),u(m,m,t(s/2),f);const p=t=>Math.ceil(Math.abs(t)/h)+1,d=t(s),j=n(E,f),D=p(d),b=g(-d/(D-1)),R=o(M,b,j),V=t(-i),G=p(V),O=g(V/(G-1)),T=n(_,c),F=o(y,t(s)/2,f);l(T,T,F);const N=y,P=[],S=n(x,m);for(let t=0;t<D;t++){o(N,O,T);for(let e=0;e<G;e++){const r=3*(e*D+t);P[r]=S[0],P[r+1]=S[1],P[r+2]=S[2],l(S,S,N)}l(T,T,R),l(m,m,R),n(S,m)}const U=D*G;P[3*U]=0,P[3*U+1]=0,P[3*U+2]=0;const k=[];for(let t=0;t<D-1;t++)for(let e=0;e<G-1;e++){const r=6*(e*(D-1)+t);k[r]=e*D+t,k[r+1]=(e+1)*D+t,k[r+2]=e*D+t+1,k[r+3]=e*D+t+1,k[r+4]=(e+1)*D+t,k[r+5]=(e+1)*D+t+1}const z=[k];if(360!==s&&0!==i){const t=[],e=[];for(let r=0;r<G-1;r++){const s=3*r;t[s]=U,t[s+1]=(r+1)*D,t[s+2]=r*D,e[s]=U,e[s+1]=r*D+D-1,e[s+2]=(r+1)*D+D-1}z.push(t,e)}if(180!==i&&0!==s){const t=[],e=[];for(let r=0;r<D-1;r++){const s=3*r;t[s]=U,t[s+1]=r,t[s+2]=r+1,e[s]=U,e[s+1]=r+(G-1)*D+1,e[s+2]=r+(G-1)*D}z.push(t,e)}return z.map(t=>{const r=[[\"position\",new w(P,t,3,!0)]];return new v(e,r)})}function g(t){return isNaN(t)?1:t}const C=c(),_=c(),x=c(),E=c(),M=i(),y=i();export{D as ViewshedShapeVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../Color.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{equals as s}from\"../../../../core/lang.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as d,j as u,a as p,H as _,n as V,h as f,p as v,u as w,d as E,g as b}from\"../../../../chunks/vec32.js\";import{create as g,clone as C}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as L,arcAnglePerSegment as A}from\"./ViewshedConfiguration.js\";import{ViewshedShapeVisualElement as D}from\"./ViewshedShapeVisualElement.js\";import y from\"./ViewshedTool.js\";import{LineVisualElement as j}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as F}from\"../../interactive/visualElements/PointVisualElement.js\";import{createStipplePatternSimple as R}from\"../../webgl-engine/materials/lineStippleUtils.js\";let S=class extends i{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:g(),topRight:g(),bottomLeft:g(),bottomRight:g()},this._arcCenterPoints={top:g(),bottom:g(),left:g(),right:g()},this._parallelCenters={top:g(),bottom:g()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:4},i={...t,stipplePattern:R(2)};this._observerVisualElement=new F({...e,...L.observerPointConfiguration}),this._shapeVisualElement=new D({...e,isDecoration:this.isDecoration}),this._frameLinesVisualElement=new j(t),this._leftArcVisualElement=new j(t),this._rightArcVisualElement=new j(t),this._topArcVisualElement=new j(t),this._bottomArcVisualElement=new j(t),this._centralLongitude=new j(i),this._centralLatitude=new j(i),this.addHandles([a(()=>{const e=this.viewshedComputedData;if(!e?.valid)return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}},e=>{const t=null!=e;this._forEachVisualElement(e=>e.attached=t),t&&this._updateVisualElements(e)},{initial:!0,equals:s}),a(()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}},({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()},l),a(()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}},({visible:e,selected:t,staged:i,horFovNot360:s})=>{const o=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const r=e&&(t||s);this._leftArcVisualElement.visible=r,this._rightArcVisualElement.visible=r,this._forEachLineVisualElement(e=>{e.width=o?L.frameWidthSelected:L.frameWidthNotSelected,e.renderOccluded=t?4:1}),[this._centralLatitude,this._centralLongitude].forEach(i=>{i.width=2*(o?L.frameWidthSelected:L.frameWidthNotSelected),i.visible=e&&t})},l),a(()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,o=this.view.activeTool,r=!t?.active&&o instanceof y&&o.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||r),color:this._color}},({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement(e=>e.color=t)},l)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return t.toUnitRGBA(L.frameColor);const o=s.tool?.active||s.interactive,r=e.viewshed===s.tool?.stagedViewshed,a=o&&(i||r)?this.view.effectiveTheme.accentColor:L.frameColor;return t.toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=r(this._observerVisualElement),this._shapeVisualElement=r(this._shapeVisualElement),this._frameLinesVisualElement=r(this._frameLinesVisualElement),this._leftArcVisualElement=r(this._leftArcVisualElement),this._rightArcVisualElement=r(this._rightArcVisualElement),this._topArcVisualElement=r(this._topArcVisualElement),this._bottomArcVisualElement=r(this._bottomArcVisualElement),this._centralLongitude=r(this._centralLongitude),this._centralLatitude=r(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:o}=e,r=C(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(r,i),this._updateFrameArcs(t,i,o),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:r,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=o(a),c=g(),p=m();h(p,n/2,l),d(c,r,p),O(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,\"forward\",c),h(p,-n/2,l),u(c,0,0,0),d(c,r,p),O(this._rightArcVisualElement,s,t.bottomRight,t.topRight,\"forward\",c);const _=a>180?\"backward\":\"forward\";O(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),O(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?\"backward\":\"forward\";O(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),O(this._centralLongitude,i,t.top,t.bottom,\"forward\",e.leftVector)}get test(){}};function O(e,t,i,s,o,r,a=A){const l=g();p(l,i,t);const n=_(l),c=g();p(c,s,t),V(c,c),f(c,c,n);let u=v(l,c);const L=C(r);\"backward\"===o&&(w(L,L),u=-(2*Math.PI-u));const D=[],y=Math.ceil(Math.abs(u)/a),j=m();h(j,u/y,L);const F=g();E(F,l);const R=g();E(R,i);for(let h=0;h<y;h++){const e=g();E(e,R),d(F,F,j),b(R,t,F);const i=g();E(i,R),D.push([e,i])}e.geometry=D}e([n()],S.prototype,\"view\",void 0),e([n({constructOnly:!0})],S.prototype,\"isDecoration\",void 0),e([n()],S.prototype,\"analysisViewData\",void 0),e([n()],S.prototype,\"viewshedComputedData\",void 0),e([n()],S.prototype,\"visible\",void 0),e([n()],S.prototype,\"_color\",null),e([n()],S.prototype,\"_selected\",null),e([n()],S.prototype,\"_staged\",null),S=e([c(\"esri.views.3d.analysis.Viewshed.ViewshedSubVisualization\")],S);export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import s from\"../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as t}from\"../../../../core/mapCollectionUtils.js\";import{watch as e,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"./ViewshedSubVisualization.js\";let c=class extends s{get visible(){return this.analysisViewData.visible}constructor(i){super(i)}initialize(){const i=this.analysisViewData,s=t(()=>this.analysisViewData.viewshedComputedDataHandles,({viewshedComputedData:s})=>{const o=new n({view:this.view,viewshedComputedData:s,analysisViewData:i,isDecoration:this.isDecoration});return{visualization:o,remove:()=>o.destroy()}});this._subVisualizations=s,this.addHandles([o(s),e(()=>this.visible,i=>this._subVisualizations.forEach(({visualization:s})=>s.visible=i),r)])}get test(){}};i([a({constructOnly:!0})],c.prototype,\"analysisViewData\",void 0),i([a({constructOnly:!0,nonNullable:!0})],c.prototype,\"view\",void 0),i([a({constructOnly:!0})],c.prototype,\"isDecoration\",void 0),i([a()],c.prototype,\"visible\",null),c=i([l(\"esri.views.3d.analysis.Viewshed.ViewshedVisualization\")],c);export{c as ViewshedVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import{rad2deg as o,deg2rad as e}from\"../../../../core/mathUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mul as i,fromTranslation as n,fromScaling as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as l,fromArray as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import m from\"../../webgl/RenderCamera.js\";import{assert as h}from\"./Util.js\";let g=class extends m{constructor(){super(...arguments),this.sectionAngles=l()}get sectionAnglesDeg(){return p(this.sectionAngles.map(t=>o(t)))}set sectionAnglesDeg(t){this.sectionAngles=p(t.map(t=>e(t)))}get projectionMatrix(){return i(c(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],o=this.sectionAngles[1],e=this.sectionAngles[2],s=this.sectionAngles[3];h(t<=o),h(e<=s);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(o),g=Math.tan(e),f=m-p,M=Math.tan(s)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=c();n(b,[A,x,0]);const d=c();a(d,[j,u,1]);const v=c();return i(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),o=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(o-t)/e)}setViewport(t,o){const e=o*this._sectionRatioX;return this.viewport=[t[0],t[1],e,o],e}};t([s()],g.prototype,\"sectionAngles\",void 0),t([s()],g.prototype,\"sectionAnglesDeg\",null),t([s()],g.prototype,\"projectionMatrix\",null),t([s()],g.prototype,\"sectionMatrix\",null),t([s()],g.prototype,\"_sectionRatioX\",null),g=t([r(\"esri.views.3d.webgl-engine.lib.ViewshedFaceCamera\")],g);export{g as ViewshedFaceCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as e}from\"../../../../core/maybe.js\";import{fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as r,g as a,u as o,t as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{applyTextureResizeModulo as n}from\"./textureUtils.js\";import{ViewshedFaceCamera as l}from\"./ViewshedFaceCamera.js\";import{DepthStencilAttachment as u,SizedDepthFormat as m}from\"../../../webgl/enums.js\";import{isSizedDepthStencilFormat as f}from\"../../../webgl/textureUtils.js\";class d{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const p=[\"front\",\"left\",\"right\",\"back\",\"top\",\"bottom\"];function g(t){return![\"top\",\"bottom\"].includes(t)}class _{constructor(t){this._fbos=t,this._faces={},this._width=0,this._height=0,this.settings=new d,this._maxTextureSize=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture(u)}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach(i=>{t[i]&&(e+=1)}),e}get faces(){const t=this._faces,e=[];for(const i of p){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map(t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height])}get viewshedProjectionMatrices(){return this.faces.map(t=>t.projectionMatrix)}get viewshedViewMatrices(){return this.faces.map(t=>t.viewMatrix)}_setupFaceCamera(e,n,u,m){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:_,horizontalFieldOfView:x,verticalFieldOfView:w}=n,b=c();r(b,p,f);const M=c(),S=c(),F=(t,e)=>{const r=c(),o=s();return i(o,t,e),h(r,b,o),a(r,f,r),r};let z,T=d;const v=Math.min(90,x),O=Math.min(90,Math.max(0,(x-90)/2));let j=-45,B=45,y=-45,k=45;if(g(e)){const e=e=>t(e,-45,45);y=e(-w/2)-this.settings.toleranceBottomTop,k=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case\"front\":z=p,j=-v/2,B=v/2;break;case\"left\":z=F(Math.PI/2,d),j=45-O;break;case\"right\":z=F(-Math.PI/2,d),B=-45+O;break;case\"top\":z=a(M,f,d),T=o(S,b);break;case\"bottom\":z=r(M,f,d),T=b;break;case\"back\":z=F(Math.PI,d)}const V=new l({center:z,eye:f,up:T,far:_});V.sectionAnglesDeg=[j-this.settings.toleranceSides,B+this.settings.toleranceSides,y,k],V.fovY=Math.PI/2;const P=V.setViewport(u,m);return this._faces[e]=V,P}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,a=s/2;return 0===i||0===s||(r<=45&&a>=-45&&e.add(\"front\"),i>90&&(e.add(\"left\"),e.add(\"right\")),i>270&&e.add(\"back\"),a>45-this.settings.toleranceBottomTop&&e.add(\"top\"),r<-45+this.settings.toleranceBottomTop&&e.add(\"bottom\")),e}_computeBaseTextureSize({pixelRatio:t,fullWidth:e,fullHeight:i},s,r,a){const o=s/t,h=this.settings.textureSizeModifier(r);return n(Math.max(e,i)*o*h,this._maxTextureSize/a)}_ensureFBO(t){const e=this._width,i=this._height,s=this._handle?.fbo;s&&s.width===e&&s.height===i&&t===f(s.depthStencilTexture?.descriptor?.internalFormat??m.DEPTH_COMPONENT16)||(this._handle?.release(),this._handle=this._allocateFBO(t))}_allocateFBO(t){const{_width:e,_height:i}=this,s=t?13:12,r=this._fbos.acquire(e,i,\"viewshed shadow map\",s);return r.getTexture(u)?.setShadowFiltering(!1),r}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(16640)}dispose(){this._debugFBO||(this._handle=e(this._handle))}start(t,e,i,s,r=!1){this._faces={};const a=this._computeActiveFaces(e),o=a.size;if(0===o)return!1;const h=this._computeBaseTextureSize(t,s,i,o);let c=0,n=0,l=0;return p.filter(t=>a.has(t)).forEach(t=>{const i=x(t,o);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*h;c+=this._setupFaceCamera(t,e,[c,s],h)}),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=w(o)*h,this.clearFBO(r),!0}finish(){}get test(){}}function x(t,e){if(e<4)return 0;const i=\"front\"===t||\"left\"===t;return 4===e?i?0:1:i||\"right\"===t?0:1}function w(t){return t<4?1:2}export{_ as ViewshedShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{Pos2Locations as o}from\"../lib/DefaultVertexBufferLayouts.js\";import{a as i}from\"../../../../chunks/Viewshed.glsl.js\";import{makePipelineState as s,unpremultipliedAlphaToPremultipliedAlpha as t,defaultColorWrite as l}from\"../../../webgl/renderState.js\";class a extends r{constructor(r,s){super(r,s,new e(i,()=>import(\"./Viewshed.glsl.js\")),o)}initializePipeline(){return s({colorWrite:l,blending:t})}}export{a as ViewshedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import s from\"../../../../core/Collection.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as i,when as o,initial as a,sync as n}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as c,fromTranslation as p,scale as w,mul as l}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as u,k as f}from\"../../../../chunks/vec32.js\";import{create as v,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{j as V}from\"../../../../chunks/sphere.js\";import{InternalRenderCategory as g}from\"../../webgl.js\";import M from\"../../webgl/RenderNode.js\";import{ViewshedShadowMap as b}from\"./ViewshedShadowMap.js\";import{V as S}from\"../../../../chunks/Viewshed.glsl.js\";import{ViewshedTechnique as y}from\"../shaders/ViewshedTechnique.js\";let j=class extends M{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter(e=>x(this.view,e))}constructor(e){super(e),this.isDecoration=!1,this._passParameters=new S,this._viewsheds=new s,this._shadowMap=null,this.consumes={required:[g.VIEWSHED,\"normals\"]},this.produces=g.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new b(this.fboCache),this.addHandles([i(()=>this.view.resolutionScale,e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)},a),o(()=>!this.hasViewsheds,()=>this._shadowMap?.dispose()),i(()=>this._viewshedsInView.map(e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]),()=>this.requestRender(1),n)])}destroy(){this._shadowMap=r(this._shadowMap)}precompile(){if(this.hasViewsheds){this.techniques.precompile(y);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view.stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find(({name:e})=>e===g.VIEWSHED);if(!this.hasViewsheds||!s.depth||this.isDecoration&&!s.decorations)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find(({name:e})=>\"normals\"===e)?.getTexture();const i=this.techniques.get(y);if(!i?.compiled)return this.requestRender(1),r;const o=this.view.stage.renderer.isFeatureEnabled(7);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter(e=>!s.includes(e));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach(e=>this.view.stage.renderer.renderViewshedShadowMap(e)),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=u(E,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[t(e.horizontalFieldOfView),t(e.verticalFieldOfView)],i.headingAndTilt=[t(e.heading),t(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=R(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)c(I,r.viewshedViewMatrices[t],o),n.push(...I),P(r.viewshedProjectionMatrices[t],I,D),h.push(...D);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?A(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function R(e,s){const t=v();return u(t,e,s)}function P(e,s,t){const r=_(.5,.5,.5);return p(t,r),w(t,t,r),l(t,t,e),l(t,t,s),t}function x(e,s){const t=V(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function A(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=f(t,r)>f(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}e([h()],j.prototype,\"selectedViewshed\",void 0),e([h()],j.prototype,\"isDecoration\",void 0),e([h()],j.prototype,\"shadowMap\",null),e([h()],j.prototype,\"hasViewsheds\",null),e([h()],j.prototype,\"_contentPixelRatio\",null),e([h()],j.prototype,\"_viewshedsInView\",null),e([h()],j.prototype,\"consumes\",void 0),e([h()],j.prototype,\"produces\",void 0),j=e([d(\"esri.views.3d.webgl-engine.lib.Viewshed\")],j);const E=v(),I=m(),D=m();export{j as Viewshed,A as computeOffsetScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{getFeatureId as t,updatePointsFromFeatureReference as s}from\"../../../analysis/featureReferenceUtils.js\";import\"../../../core/has.js\";import i from\"../../../core/Logger.js\";import{mapCollection as r}from\"../../../core/mapCollectionUtils.js\";import{abortMaybe as o,destroyMaybe as a}from\"../../../core/maybe.js\";import{watch as d,initial as n,when as l,syncAndInitial as h}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{d as u,q as m}from\"../../../chunks/vec32.js\";import{create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as w,isLoaded as f,projectOrLoad as V}from\"../../../geometry/projectionUtils.js\";import{projectBoundingRect as y}from\"../../../geometry/projection/projectBoundingRect.js\";import{empty as _,containsPoint as g}from\"../../../geometry/support/aaBoundingRect.js\";import{AnalysisView3D as j}from\"./AnalysisView3D.js\";import{logFailedGeometryProjectionError as R}from\"./support/projectionUtils.js\";import{ViewshedComputedData as b}from\"./Viewshed/ViewshedComputedData.js\";import D from\"./Viewshed/ViewshedTool.js\";import{ViewshedVisualization as C}from\"./Viewshed/ViewshedVisualization.js\";import{Intersector as F}from\"../webgl-engine/lib/Intersector.js\";import{Viewshed as H}from\"../webgl-engine/lib/Viewshed.js\";import{connectAnalysisViewToTool as O,removeAnalysisViewTool as U,startPlaceOperation as S}from\"../../analysis/analysisViewUtils.js\";let A=class extends j{constructor(e){super(e),this.type=\"viewshed-view-3d\",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this.userOperation=null,this._viewshedRenderNode=null,this._intersector=null}get visible(){return super.visible}set visible(e){super.visible=e}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}get _isDecoration(){return!this.parent}initialize(){const e=this.view;this._viewshedRenderNode=new H({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed,isDecoration:this._isDecoration}),this._intersector=new F(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=0,this.viewshedComputedDataHandles=r(()=>this.analysis.viewsheds,t=>{const s=new b({renderCoordsHelper:e.renderCoordsHelper,viewshed:t}),r=Symbol();return this.addHandles([d(()=>({valid:s.valid,canProject:w(s.observer?.spatialReference,this.view.spatialReference)||f()}),({valid:e,canProject:t},r)=>{this.visible&&(e&&t?this._addViewshedsToRenderer(s):r?.valid&&r?.canProject&&this._removeViewshedsFromRenderer(s),t||R(this.analysis,s.observer.spatialReference,i.getLogger(this)))},n),...this._createFeatureReferenceHandles(s)],r),{viewshedComputedData:s,remove:()=>{this.removeHandles(r),this._removeViewshedsFromRenderer(s),s.destroy()}}}),this._visualization=new C({view:e,analysisViewData:this,isDecoration:this._isDecoration}),this.addHandles([d(()=>this.visible,e=>{const t=this.viewshedComputedDataHandles;if(null==t)return;e||(this.selectedViewshed=null);const s=t.map(e=>e.viewshedComputedData).filter(e=>e.valid).toArray();e?this._addViewshedsToRenderer(s):this._removeViewshedsFromRenderer(s)}),d(()=>e.renderCoordsHelper,e=>{this.viewshedComputedDataHandles?.forEach(({viewshedComputedData:t})=>t.renderCoordsHelper=e)}),O(this,D),l(()=>this.interactive,()=>{this._unselectOtherViewsheds(this.selectedViewshed)},h)])}destroy(){this.userOperation=o(this.userOperation),U(this),this._visualization=a(this._visualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map(e=>e.viewshedComputedData).toArray())}_createFeatureReferenceHandles(e){const{view:t}=this;return[d(()=>[t.state.camera,t.slice.plane,e.viewshed.observer,e.targetRenderSpace,e.verticalFieldOfView,e.horizontalFieldOfView,e.feature],()=>{this._updateObserverFromFeature(t,e)},n),this._createElevationUpdateHandle(e),l(()=>e.needUpdateByFeature,()=>{this._updateObserverFromFeature(t,e),e.needUpdateByFeature=!1})]}_createElevationUpdateHandle(e){const t=(s,i)=>{const{view:r}=this,{observer:o}=e;if(null==o)return;const a=V(o,r.spatialReference);if(null!=a.pending)return void a.pending.finally(()=>t(s,i));const d=a.geometry;null!=d&&(y(s,i,z,r.spatialReference),g(z,[d.x,d.y])&&(e.needUpdateByFeature=!0))};return this.view.elevationProvider.on(\"elevation-change\",({extent:e,spatialReference:s})=>t(e,s))}async createViewsheds(e){await S(this,{placementOptions:e,onToolActivated:e=>e.place(\"multiple\")})}place(e){return S(this,{placementOptions:e,onToolActivated:e=>e.place(\"single\")})}_addViewshedsToRenderer(e){this._viewshedRenderNode.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderNode.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=u(v(),r),d={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:t(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:u(v(),o),targetFeatureId:null};s(e,this._intersector,d,e=>Math.min(e,.05*i.farDistanceRenderSpace)),i.observerRenderSpaceOverride=m(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const t of this.view.tools.items)t!==this.tool&&t instanceof D&&(t.analysisViewData.selectedViewshed=null)}get test(){}};e([p({readOnly:!0})],A.prototype,\"type\",void 0),e([p({constructOnly:!0,nonNullable:!0})],A.prototype,\"analysis\",void 0),e([p()],A.prototype,\"tool\",void 0),e([p()],A.prototype,\"_selectedViewshed\",void 0),e([p()],A.prototype,\"selectedViewshed\",null),e([p()],A.prototype,\"selectedViewshedComputedData\",null),e([p()],A.prototype,\"viewshedComputedDataHandles\",void 0),e([p()],A.prototype,\"userOperation\",void 0),e([p()],A.prototype,\"_visualization\",void 0),e([p()],A.prototype,\"_viewshedRenderNode\",void 0),A=e([c(\"esri.views.3d.analysis.ViewshedAnalysisView3D\")],A);const N=A,z=_();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../../core/Identifiable.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";class i{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=2}destroy(){this._destroyResources()}get resources(){return this._resources?.external}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new c({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.overlayManager;this._resources={layerView:r,external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,1),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,1),this._resources.geometriesAdded=!0}}let c=class extends(s(r)){constructor(e){super(e),this.drapeSourceType=1,this.updatePolicy=1,this.renderGroup=2}};e([t({constructOnly:!0})],c.prototype,\"view\",void 0),e([t({readOnly:!0})],c.prototype,\"drapeSourceType\",void 0),e([t()],c.prototype,\"renderGroup\",void 0),c=e([o(\"esri.views.3d.interactive.visualElements.DrapedVisualElementResources\")],c);export{i as DrapedVisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{watch as e,initial as s}from\"../../../../core/reactiveUtils.js\";import{Object3D as r}from\"../../webgl-engine/lib/Object3D.js\";import{WebGLLayer as t}from\"../../webgl-engine/lib/WebGLLayer.js\";class c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view.stage;if(null==this._resources||!e)return;const s=this._resources.object;s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer)}forEachMaterial(e){this._resources&&this._resourceFactory.forEachMaterial(this._resources.external,e)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,i=c.view,o=i.stage;if(!o)return;const a=new t(o,{pickable:!1,updatePolicy:1}),h=new r({castShadow:!1}),u=c.createResources(h,a);a.add(h);const l=c.cameraChanged,_=l?e(()=>i.state.camera,e=>l(e),s):null;this._resources={layer:a,object:h,external:u,cameraHandle:_},this._syncVisible()}_destroyResources(){null!=this._resources&&(this._resources.layer.destroy(),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null)}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}export{c as VisualElementResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{DrapedVisualElementResources as e}from\"./DrapedVisualElementResources.js\";import{VisualElement as s}from\"./VisualElement.js\";import{VisualElementResources as r}from\"./VisualElementResources.js\";class t extends s{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new r(this.createObject3DResourceFactory(s.view)),this.drapedResources=new e(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}forEachMaterial(e){this.object3dResources?.forEachMaterial(e),this.drapedResources?.forEachMaterial(e)}}export{t as EngineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n"],"names":["o","i","constructor","e","super","initialize","this","addHandles","s","analysisViewData","visible","t","deactivate","onDeactivate","created","analysis","clear","resetCreated","_set","r","m","interactive","f","view","n","tool","tools","add","v","p","remove","y","a","_a$abortOptions","userOperation","async","_a$shouldRejectOnCanc","promise","catch","abort","activeTool","c","_t$tool","active","u","signal","shouldRejectOnCancel","l","_a$onToolActivated","onToolActivated","call","aborted","abortOptions","finally","d","clone","placementOptions","valid","equals","x","arguments","shadowMap","depthTexture","nearFar","numActiveFaces","atlasRegions","targetVector","upVector","fovs","headingAndTilt","observerOffset","projectionMatrices","flat","viewMatrices","volumeOffset","V","fragment","include","uniforms","_e$depth","depth","attachment","camera","inverseProjectionMatrix","_ref","b","viewInverseTransposeMatrix","_e$shadowMap$nearFar","h","g","w","normals","constants","code","_templateObject","_taggedTemplateLiteral","main","_templateObject2","M","Object","freeze","defineProperty","__proto__","ViewshedPassParameters","build","Symbol","toStringTag","value","localOrigin","viewMatrix","observer","farDistance","heading","tilt","horizontalFieldOfView","verticalFieldOfView","feature","type","json","write","isRequired","prototype","Number","nonNullable","range","min","normalize","max","readOnly","read","dash","dot","none","solid","pattern","pixelRatio","slice","style","layer","id","objectId","objectIdField","attributes","uid","concat","writer","_e$layer","layerId","target","String","origins","ObjectId","clonable","I","_R","_w","sceneIntersectionHelper","observerFeatureId","targetFeatureId","options","store","intersectToolIntersectorRay","F","N","R","results","all","distanceInRenderSpace","j","observerAdjusted","T","targetAdjusted","getIntersectionPoint","observerSurfaceNormal","getTransformedNormal","targetSurfaceNormal","Math","excludeLabels","intersect","intersectDraped","parent","_userInteractive","_interactiveViewModelCount","updating","_this$parent","suspended","_overrideIfSome","forceInteractive","constructOnly","Boolean","length","undefined","q","k","start","end","U","abs","push","sqrt","collisionRadius","fovUnfocusedArcWidth","fovFocusedArcWidth","scaleOrientSize","scaleOrientHandleRadius","scaleOrientMinDistance","scaleOrientArrowTipLength","scaleOrientArrowTipFocusMultiplier","observerSize","hoverTimeoutMilliseconds","viewAngleThreshold","getFovArcWidth","getScaleOrientArrowTipLength","frameWidthNotSelected","frameWidthSelected","frameColor","observerPointConfiguration","size","pixelSnappingEnabled","primitive","elevationInfo","mode","offset","outlineSize","color","toUnitRGBA","shapeMaterialParameters","renderOccluded","cullFace","writeDepth","tiltedUpVector","rightVector","observerRenderSpace","plane","S","D","renderCoordsHelper","toRenderCoords","position","direction","E","next","targetRenderSpace","basis1","basis2","origin","acos","farDistanceRenderSpace","sin","renderStart","renderEnd","_objectSpread","action","deltaAngle","C","A","observerRenderSpaceOverride","needUpdateByFeature","_this$viewshed$observ","viewshed","effectiveObserverRenderSpace","_this$observerRenderS","effectiveObserver","renderSpaceToPoint","spatialReference","effectiveTargetRenderSpace","_computeTargetRenderSpace","metersPerUnit","tiltParallelToSurface","_pointToRenderSpace","targetDirection","leftVector","_basis","basisMatrixAtPosition","northVector","pointOnSphere","cornerPoints","topLeft","topRight","bottomLeft","bottomRight","arcCentersPoints","top","bottom","left","right","parallelCenterPoints","fromRenderCoords","toArray","_handles","_tool","_view","_focusedArcMaterial","_createArcMaterial","_unfocusedArcMaterial","_createManipulators","forEachManipulator","manipulators","destroy","_manipulators","createDragPipeline","values","map","manipulator","side","_ref6","_","L","B","G","manipulatorType","updateManipulatorsTransform","H","_forEachManipulatorInfo","_updateArcManipulatorTransform","updateManipulatorVisuals","_updateArcManipulatorVisuals","_ref2","cos","P","O","instantiate","material","collisionType","paths","renderObjects","radius","_ref3","renderLocation","z","modelTransform","_createArcManipulator","forEach","_ref4","metadata","pairedManipulator","autoScaleRenderObjects","worldSized","events","on","_r$metadata","hovering","grabbing","isDecoration","width","state","isGlobal","effectiveTheme","accentColor","setParameters","_ref5","test","PI","_setupManipulatorVisual","_createMaterial","transformation","_manipulatorHeading","_manipulatorTilt","_manipulatorDistance","createHeadingDragPipeline","createTiltDragPipeline","createDistanceDragPipeline","location","updateManipulators","_color","_moveManipulation","_observerManipulator","_fieldOfViewManipulation","_scaleOrientManipulation","_forceHoveringTask","_forceHoveringTestPromise","_grabbing","viewshedComputedData","_createMoveManipulation","parentTool","_this$viewshedCompute","_this$viewshedCompute2","angle","removeHandles","_buildObserverDragPipeline","_buildFOVDragPipeline","_buildScaleOrientDragPipeline","filter","viewshedCompData","hFOV","vFOV","_this$viewshedCompute3","_this$viewshedCompute4","selectedViewshedComputedData","fovManipulationAvailable","isPlacingTarget","nonFOVManipulationAvailable","creating","available","_forEachManipulator","_someManipulatorHovering","subToolHandles","subTool","_resetHoveringTask","_someManipulatorSelected","_this$_forceHoveringT","_updateManipulatorVisibility","_i$tool","updateInteractionVisualsVisibility","_setInteractive","hasManipulator","_i$tool2","_this$viewshedCompute5","_this$viewshed","discManipulator","xyManipulation","moveInteractionState","dragging","scaleOrientInteractionState","_forEachManipulation","onManipulatorSelectionChanged","selectedViewshed","selected","snapToScene","xyAvailable","xyAxisAvailable","zAvailable","steps","cancel","fromGeometry","viewingMode","operations","data","geometry","clamp","disableDisplay","moveManipulation","fieldOfViewManipulation","scaleOrientManipulation","setHoveringTimeoutPromise","W","removeIncompleteOnCancel","automaticManipulatorSelection","_stagedViewshed","_stagedViewshedComputedData","_placementMode","_creationState","_interactionVisualElements","_settings","getTheme","_selectedManipulator","_intersector","_createInteractionVisuals","viewshedComputedDataHandles","_valid","finishToolCreation","_this$_findSubTool","_findSubTool","viewsheds","item","firstGrabbedManipulator","_this$_selectedSubToo","_this$_findSubTool2","_selectManipulator","_selectedSubTool","_updateInteractionVisualsLocation","removeStaged","_this$analysisViewDat","_this$analysisViewDat2","some","cursor","_this$_findSubTool3","_this$_selectedSubToo2","_this$_selectedSubToo3","stagedViewshed","place","_finishToolCreationIfValid","onInputEvent","_doubleClickHandler","_pointerMoveHandler","key","_cancelKeyHandler","delete","includes","_deleteKeyHandler","onInputEventAfter","_clickPlacementHandler","onActivate","hasFocusedManipulators","_intersectScreen","_i$mapPoint$z","mapPoint","_updateStagedViewshed","scenePoint","stopPropagation","_onCancelWhileCreating","K","intersectToolIntersectorScreen","visualElements","attached","glowWidth","heightPlane","innerWidth","extensionType","zVerticalLine","writeDepthEnabled","laserline","verticalLine","apply","heightManifoldTarget","intersectsWorldUpAtLocation","setStartEndFromWorldDownAtLocation","_this$subToolHandles","find","_material","_viewshedComputedData","applyProperties","updateTransform","transform","createExternalResources","destroyExternalResources","forEachMaterial","createGeometries","ceil","addGeometry","isNaN","_viewshedCorners","_arcCenterPoints","_parallelCenters","stipplePattern","_observerVisualElement","_shapeVisualElement","_frameLinesVisualElement","_leftArcVisualElement","_rightArcVisualElement","_topArcVisualElement","_bottomArcVisualElement","_centralLongitude","_centralLatitude","corners","arcCenters","parallelCenters","_selected","_forEachVisualElement","_updateVisualElements","initial","recreateGeometry","staged","_staged","horFovNot360","_forEachLineVisualElement","_t$creating","observerVisible","_s$tool","_s$tool2","_updateFrameLines","_updateFrameArcs","_updateCentralHelperArcs","visualization","_subVisualizations","sectionAngles","sectionAnglesDeg","projectionMatrix","sectionMatrix","_projectionMatrixInternal","tan","fovX","fovY","_sectionRatioX","setViewport","viewport","textureSizeQuality","textureSizeModHighQuality","textureSizeModLowQuality","textureSizeMultiple","toleranceSides","toleranceBottomTop","textureSizeModifier","textureResizeModulo","_fbos","_faces","_width","_height","settings","_maxTextureSize","has","rctx","parameters","maxTextureSize","_this$_handle","_handle","getTexture","ready","faces","keys","height","viewshedProjectionMatrices","viewshedViewMatrices","_setupFaceCamera","center","eye","up","far","isActive","_computeActiveFaces","Set","_computeBaseTextureSize","fullWidth","fullHeight","_ensureFBO","_this$_handle2","_s$depthStencilTextur","_s$depthStencilTextur2","_this$_handle3","fbo","depthStencilTexture","descriptor","internalFormat","DEPTH_COMPONENT16","release","_allocateFBO","_r$getTexture","acquire","setShadowFiltering","clearFBO","_this$_handle4","bindFramebuffer","setClearColor","dispose","_debugFBO","finish","initializePipeline","colorWrite","blending","_shadowMap","hasViewsheds","_viewsheds","_contentPixelRatio","contentPixelRatio","_viewshedsInView","items","frustum","intersectsSphere","_passParameters","consumes","required","VIEWSHED","produces","requireGeometryDepth","fboCache","resolutionScale","_this$_shadowMap","requestRender","precompile","techniques","_this$_shadowMap2","stage","renderer","precompileViewshedShadowMap","render","_this$_shadowMap3","_e$find","_this$shadowMap","bindParameters","renderingContext","name","decorations","get","compiled","isFeatureEnabled","_this$_shadowMap4","_renderShadowCubeMap","_setupViewshedParameters","bindTechnique","screen","draw","updateViewsheds","removes","adds","Array","isArray","removeMany","addMany","basemapTerrain","hasStencilEnabledExtents","renderViewshedShadowMap","_this$selectedViewshe","pixelSizeAt","viewshedsInView","_selectedViewshed","_viewshedRenderNode","_unselectOtherViewsheds","_this$tool","_isDecoration","_this$tool2","hud","_s$observer","canProject","_addViewshedsToRenderer","_removeViewshedsFromRenderer","getLogger","_createFeatureReferenceHandles","_visualization","_updateObserverFromFeature","_createElevationUpdateHandle","pending","elevationProvider","extent","createViewsheds","_resourceFactory","_resources","_visible","_attached","_renderGroup","_destroyResources","resources","_this$_resources","external","_syncGeometriesToRenderer","_createOrDestroyResources","renderGroup","_this$_resources2","layerView","recreate","_createResources","_ensureRenderGeometriesRemoved","createResources","overlayManager","geometriesAdded","drapeSourceRenderer","registerGeometryDrapeSource","unregisterDrapeSource","destroyResources","_ensureRenderGeometriesAdded","_this$_resources3","removeGeometries","geometries","_this$_resources4","addGeometries","drapeSourceType","updatePolicy","object","_syncVisible","removeAllGeometries","pickable","castShadow","cameraChanged","cameraHandle","_this$_resources$came","_s$isDraped","_isDraped","object3dResources","createObject3DResourceFactory","drapedResources","createDrapedResourceFactory","isDraped","updateVisibility","_this$object3dResourc","_this$drapedResources"],"sourceRoot":""}