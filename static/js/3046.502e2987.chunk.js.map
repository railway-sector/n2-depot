{"version":3,"file":"static/js/3046.502e2987.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/support/FrustumExtentIntersection.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js","../node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../core/compilerUtils.js\";import{lerp as e}from\"../../../core/mathUtils.js\";import{invert as i}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as n,h as o,E as s,t as a,j as c,f as l}from\"../../../chunks/vec32.js\";import{create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getReferenceEllipsoid as h}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as d}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{projectBoundingRect as _}from\"../../../geometry/projection/projectBoundingRect.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{empty as g,create as x,expandWithVec3 as f}from\"../../../geometry/support/aaBoundingBox.js\";import{center as u,create as y}from\"../../../geometry/support/aaBoundingRect.js\";import{fromPoints as j,create as R}from\"../../../geometry/support/lineSegment.js\";import{create as b,fromVectorsAndPoint as S,copy as B,negate as C,signedDistance as H}from\"../../../geometry/support/plane.js\";import{wrap as w}from\"../../../geometry/support/ray.js\";import{frustumLineSegment as M}from\"./intersectionUtils.js\";const A=.5*Math.PI,E=A/Math.PI*180;class G{constructor(t){this._extent=new Array(4),this._planes=new Array(6),this._maxSpan=0,this._center={origin:p(),direction:p()},this._renderCoordsHelper=t.renderCoordsHelper;for(let e=0;e<4;e++)this._extent[e]={origin:p(),direction:p(),cap:{next:null,direction:p()}},this._planes[e]=b();this._planes[4]=b(),this._planes[5]=b(),this._planesWithoutFar=this._planes.slice(0,5)}update(t,e,i,r=!0){const a=this._extent;this._toRenderBoundingExtent(t,e,i),n(this._center.origin,a[0].origin,a[2].origin),o(this._center.origin,this._center.origin,.5),this._renderCoordsHelper.worldUpAtPosition(this._center.origin,this._center.direction),r||o(this._center.direction,this._center.direction,-1);for(let n=0;n<4;n++){const t=a[n];this._renderCoordsHelper.worldUpAtPosition(t.origin,t.direction);const e=a[3===n?0:n+1];t.cap.next=e.origin,s(t.cap.direction,t.origin,e.origin),S(t.direction,t.cap.direction,t.origin,this._planes[n]),r||o(t.direction,t.direction,-1)}S(a[0].cap.direction,a[1].cap.direction,a[0].origin,this._planes[4]),r?C(this._planes[4],this._planes[5]):(B(this._planes[5],this._planes[4]),C(this._planes[4],this._planes[4])),this._maxSpan=Math.max(Math.abs(t[0]-t[2]),Math.abs(t[1]-t[3])),this._maxSpanSpatialReference=e,this._minGlobalAltitude=.9*h(this._maxSpanSpatialReference).radius}isVisibleInFrustum(t,e,i=!1){if(null==t)return!1;if(1===this._renderCoordsHelper.viewingMode){const i=this._maxSpanSpatialReference.isGeographic?E:A*e;if(this._maxSpan>i)return!0;if(null!=t.altitude&&t.altitude>=this._minGlobalAltitude)return this._isVisibleInFrustumGlobal(t)}if(0===this._maxSpan){const e=this._extent[0];return!(i||!t.intersectsRay(w(e.origin,e.direction)))}for(let n=0;n<this._extent.length;n++){const e=this._extent[n];if(!i&&t.intersectsRay(w(e.origin,e.direction)))return!0;if(t.intersectsLineSegment(j(e.origin,e.cap.next,k),e.cap.direction))return!0}const r=i?this._planes:this._planesWithoutFar;for(let n=0;n<t.lines.length;n++){const e=t.lines[n];if(M(r,e.origin,e.endpoint,e.direction))return!0}return!1}_toRenderBoundingExtentGlobal(t,r,n){const o=5;u(t,v),v[2]=n,d(r,v,F,this._renderCoordsHelper.spatialReference),i(I,F),g(V);for(const{x0:i,x1:s,y0:c,y1:l}of U)for(let p=0;p<o;p++){const h=p/(o-1);v[0]=e(t[i],t[s],h),v[1]=e(t[c],t[l],h),v[2]=n,m(v,r,v,this._renderCoordsHelper.spatialReference),a(v,v,I),f(V,v)}c(this._extent[0].origin,V[0],V[1],V[2]),c(this._extent[1].origin,V[3],V[1],V[2]),c(this._extent[2].origin,V[3],V[4],V[2]),c(this._extent[3].origin,V[0],V[4],V[2]);for(let e=0;e<4;++e)a(this._extent[e].origin,this._extent[e].origin,F)}_toRenderBoundingExtentLocal(t,e,i){_(t,e,P,this._renderCoordsHelper.spatialReference),c(this._extent[0].origin,P[0],P[1],i),c(this._extent[1].origin,P[2],P[1],i),c(this._extent[2].origin,P[2],P[3],i),c(this._extent[3].origin,P[0],P[3],i)}_toRenderBoundingExtent(e,i,r){switch(this._renderCoordsHelper.viewingMode){case 1:this._toRenderBoundingExtentGlobal(e,i,r);break;case 2:this._toRenderBoundingExtentLocal(e,i,r);break;default:t(this._renderCoordsHelper.viewingMode)}}_isVisibleInFrustumGlobal(t){if(H(t.planes[4],this._center.origin)<0&&l(this._center.direction,t.direction)<0)return!0;for(let e=0;e<4;e++){const i=this._extent[e];if(H(t.planes[4],i.origin)<0&&l(i.direction,t.direction)<0)return!0}return!1}}const U=[{x0:0,y0:1,x1:2,y1:1},{x0:0,y0:3,x1:2,y1:3},{x0:0,y0:1,x1:0,y1:3},{x0:2,y0:1,x1:2,y1:3}],v=p(),F=r(),I=r(),V=x(),P=y(),k=R();export{G as FrustumExtentIntersection};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../../../core/Accessor.js\";import{watch as s,sync as i,initial as r}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getReferenceEllipsoid as a}from\"../../../../geometry/ellipsoidUtils.js\";import{FrustumExtentIntersection as p}from\"../../support/FrustumExtentIntersection.js\";import{TaskPriority as c}from\"../../../support/Scheduler.js\";import{Yield as l}from\"../../../support/Yield.js\";const h=1.2;let u=class extends t{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new p({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,n=t.basemapTerrain,o=t.resourceController.scheduler;this.addHandles([t.on(\"resize\",()=>this._viewChange()),s(()=>t.state.camera,()=>this._viewChange(),i),o.registerTask(c.FRUSTUM_VISIBILITY,this),s(()=>n.visibleElevationBounds,()=>this._elevationBoundsChange())]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this.addHandles([s(()=>[n.baseOpacity,n.wireframe,t.map?.ground?.navigationConstraint?.type],()=>this._updateIsVisibleBelowSurface(),r)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*a(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(h-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get readyToRun(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),l;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=a(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};e([n({readOnly:!0})],u.prototype,\"suspended\",void 0),e([n({constructOnly:!0})],u.prototype,\"graphicsCoreOwner\",void 0),e([n({readOnly:!0})],u.prototype,\"updating\",void 0),u=e([o(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],u);export{u as Graphics3DFrustumVisibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as t}from\"tslib\";import e from\"../../../../core/Accessor.js\";import{EventEmitter as i}from\"../../../../core/Evented.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{ExtentSet as o}from\"./ExtentSet.js\";import{TaskPriority as n}from\"../../../support/Scheduler.js\";let h=class extends e{constructor(t){super(t),this._dirtyExtents=new o,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new i}initialize(){const t=this.elevationProvider,e=this.graphicsCoreOwner.view.resourceController.scheduler;this._task=e.registerTask(p(this.graphicsCore.layer.elevationInfo?.mode),this),this.addHandles([t.on(\"elevation-change\",t=>this._elevationChanged(t)),r(()=>this.graphicsCoreOwner.suspended,()=>this._suspendedChange()),this._task,r(()=>p(this.graphicsCore.layer.elevationInfo?.mode),t=>this._task.priority=t)])}destroy(){this._dirtyGraphicsSet.clear(),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null,this._dirtyExtents.destroy()}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.readyToRun}get readyToRun(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(t){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,t.madeProgress()),t.run(()=>this._dirtyExtents.merge(t));this.readyToRun&&!t.done;)this._updateDirtyGraphics(t),this._updateDirtyExtents(t);this.notifyChange(\"updating\")}_updateDirtyGraphics(t){const e=this.graphicsCoreOwner.view.renderCoordsHelper,i=0===this.graphicsCore.effectiveUpdatePolicy;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),null!=s&&(s.alignWithElevation(this.elevationProvider,e,i),this.graphicsCore.deconflictor?.setDirty(),t.madeProgress()),t.done)return}}_updateDirtyExtents(t){for(;!this._dirtyExtents.empty&&!t.done;){const e=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:e,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(e,i,t=>{const e=this.graphicsCore.getGraphics3DGraphicById(t);null!=e&&e.needsElevationUpdates()&&this._dirtyGraphicsSet.add(t)}),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,t.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach((t,e)=>this._dirtyGraphicsSet.add(e))}_elevationChanged(t){if(\"scene\"===t.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const e=t.extent;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const t=this.graphicsCore.computedExtent;t&&e[2]>t.xmin&&e[0]<t.xmax&&e[3]>t.ymin&&e[1]<t.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",t)}else e[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(e),this.notifyChange(\"updating\")}};function p(t){return null==t?n.ELEVATION_ALIGNMENT:\"relative-to-scene\"===t?n.ELEVATION_ALIGNMENT_SCENE:n.ELEVATION_ALIGNMENT}t([s()],h.prototype,\"graphicsCoreOwner\",void 0),t([s()],h.prototype,\"graphicsCore\",void 0),t([s()],h.prototype,\"queryGraphicUIDsInExtent\",void 0),t([s()],h.prototype,\"elevationProvider\",void 0),t([s({readOnly:!0})],h.prototype,\"updating\",null),t([s({readOnly:!0})],h.prototype,\"updatingRemaining\",null),h=t([a(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],h);export{h as Graphics3DElevationAlignment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{RenderingInfo as t}from\"./RenderingInfo.js\";import{getVisualVariableValues as o}from\"../visualVariables/support/visualVariableUtils.js\";function i(e,t){if(null!=e.symbol)return e.symbol;const o=t?.renderer;return null!=o&&\"dot-density\"!==o.type?o.getSymbol(e,t):null}function r(e,r){const l=i(e,r);if(null==l)return null;const n=r?.renderer,a=new t(n,l);if(null==n||!(\"visualVariables\"in n)||!n.visualVariables)return a;const s=o(n,e,r)??[],u=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of s)if(null!=o||\"size\"===t.type&&t.useSymbolValue)switch(t.type){case\"color\":a.color=o?.toRgba();break;case\"size\":if(\"outline\"===t.target)a.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o??\"proportional\";switch(e){case\"width\":u[0]=i;break;case\"depth\":u[1]=i;break;case\"height\":u[2]=i;break;case\"width-and-depth\":u[0]=u[1]=i;break;default:u[0]=u[1]=u[2]=i}}break;case\"opacity\":a.opacity=o;break;case\"rotation\":switch(t.axis){case\"tilt\":a.tilt=o;break;case\"roll\":a.roll=o;break;default:a.heading=o}}return\"proportional\"===u[0]&&\"proportional\"===u[1]&&\"proportional\"===u[2]||(a.size=u),a}async function l(e,t){return null!=e.symbol?e.symbol:t?.renderer?.getSymbolAsync(e,t)??null}async function n(i,r){const n=await l(i,r);if(!n)return null;const a=r?.renderer,s=new t(a,n);if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return s;const u=o(a,i,r)??[],p=[\"proportional\",\"proportional\",\"proportional\"];for(const{variable:t,value:o}of u)if(\"color\"===t.type)s.color=e.toUnitRGBA(o);else if(\"size\"===t.type)if(\"outline\"===t.target)s.outlineSize=o;else{const e=t.axis,i=t.useSymbolValue?\"symbol-value\":o;\"width\"===e?p[0]=i:\"depth\"===e?p[1]=i:\"height\"===e?p[2]=i:p[0]=p[1]=\"width-and-depth\"===e?i:p[2]=i}else\"opacity\"===t.type?s.opacity=o:\"rotation\"===t.type&&\"tilt\"===t.axis?s.tilt=o:\"rotation\"===t.type&&\"roll\"===t.axis?s.roll=o:\"rotation\"===t.type&&(s.heading=o);return(isFinite(p[0])||isFinite(p[1])||isFinite(p[2]))&&(s.size=p),s}function a(e,t=0){const o=e[t];return\"number\"==typeof o&&isFinite(o)?o:null}function s(e){for(let t=0;t<3;t++){const o=e[t];if(\"number\"==typeof o)return isFinite(o)?o:0}return 0}export{a as getDriverAxisSizeValue,s as getDriverAxisSizeValueAny,r as getRenderingInfo,n as getRenderingInfoAsync,l as getSymbolAsync};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nclass e{}class t extends e{constructor(e,t){super(),this.objectStateId=e,this.object=t}remove(){this.object.removeStateID(this.objectStateId)}}class s extends e{constructor(e,t,s){super(),this.objectStateId=e,this.object=t,this.owner=s}remove(){this.owner.removeRenderGeometryObjectState(this.object,this.objectStateId)}}class o extends e{constructor(e,t){super(),this.objectStateId=e,this._removeCallback=t,this.object=null}remove(){this._removeCallback(this.objectStateId)}}class r{constructor(){this._items=[]}addObject(e,s){this._items.push(new t(s,e))}addRenderGeometry(e,t,o){this._items.push(new s(t,e,o))}addExternal(e,t){this._items.push(new o(t,e))}remove(e){this._remove(t=>t.objectStateId===e)}removeByObject(e){this._remove(t=>t.object===e)}removeAll(){this._items.forEach(e=>e.remove()),this._items=[]}_remove(e){const{_items:t}=this;for(let s=t.length-1;s>=0;--s){const o=t[s];e(o)&&(o.remove(),t.splice(s,1))}}}class c extends r{constructor(){super(...arguments),this.stateType=1}}class i extends r{constructor(e){super(),this.highlightName=e,this.stateType=0}}export{i as Object3DHighlightStateSet,c as Object3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Object3DOccludeeStateSet as t,Object3DHighlightStateSet as e}from\"../../webgl-engine/lib/Object3DStateSet.js\";class s{constructor(t){this.objectIdField=t,this.ids=new Set,this.paused=!1}hasGraphic(t){const e=this.objectIdField?t.graphic.attributes[this.objectIdField]:t.graphic.uid;return this.ids.has(e)}}class i extends s{constructor(e){super(e),this.stateType=1,this.objectStateSet=new t}}class c extends s{constructor(t,s){super(s),this.highlightName=t,this.stateType=0,this.objectStateSet=new e(t)}}export{c as Graphics3DObjectHighlightStateSet,i as Graphics3DOccludeeStateSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{makeHandle as t}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{Graphics3DOccludeeStateSet as e,Graphics3DObjectHighlightStateSet as s}from\"./Graphics3DObjectStateSet.js\";class a{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach(t=>t.objectStateSet.removeAll()),this._stateSets.length=0)}acquireOccludeeSet(s){const a=new e(s);this._stateSets.push(a);const i=t(()=>this.releaseSet(a));return{set:a,handle:i}}acquireHighlightSet(e,a){const i=new s(e,a);this._stateSets.push(i);const c=t(()=>this.releaseSet(i));return{set:i,handle:c}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&s.addObjectStateSet(t.objectStateSet)}setUids(t,e){e.forEach(e=>this.setUid(t,e))}setObjectIds(t,e){e.forEach(e=>t.ids.add(e)),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach(e=>{!e.paused&&e.hasGraphic(t)&&t.addObjectStateSet(e.objectStateSet)})}removeGraphic(t){this._stateSets.forEach(e=>{e.hasGraphic(t)&&t.removeObjectState(e.objectStateSet)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(t=>t.objectStateSet.removeAll())}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach(e=>{e&&t.hasGraphic(e)&&e.addObjectStateSet(t.objectStateSet)}):t.ids.forEach(s=>{const a=e.get(s);a&&a.addObjectStateSet(t.objectStateSet)})}get test(){}}export{a as Graphics3DObjectStates};\n"],"names":["A","Math","PI","E","G","constructor","t","this","_extent","Array","_planes","_maxSpan","_center","origin","p","direction","_renderCoordsHelper","renderCoordsHelper","e","cap","next","b","_planesWithoutFar","slice","update","i","r","arguments","length","undefined","a","_toRenderBoundingExtent","n","o","worldUpAtPosition","s","S","C","B","max","abs","_maxSpanSpatialReference","_minGlobalAltitude","h","radius","isVisibleInFrustum","viewingMode","isGeographic","altitude","_isVisibleInFrustumGlobal","intersectsRay","w","intersectsLineSegment","j","k","lines","M","endpoint","_toRenderBoundingExtentGlobal","u","v","d","F","spatialReference","I","g","V","x0","x1","y0","c","y1","l","U","m","f","_toRenderBoundingExtentLocal","_","P","H","planes","x","y","R","super","suspended","_extentIntersectionDirty","_isVisibleBelowSurfaceInternal","graphicsCoreOwner","updating","initialize","_extentIntersection","view","basemapTerrain","resourceController","scheduler","addHandles","on","_viewChange","state","camera","registerTask","FRUSTUM_VISIBILITY","visibleElevationBounds","_elevationBoundsChange","_isVisibleBelowSurface","_t$map","baseOpacity","wireframe","map","ground","navigationConstraint","type","_updateIsVisibleBelowSurface","destroy","_set","_setDirty","setExtent","_e$map$ground","opaque","_updateExtentIntersection","min","readyToRun","runTask","frustum","madeProgress","readOnly","prototype","constructOnly","_dirtyExtents","_globalDirty","_averageExtentUpdateSize","_dirtyGraphicsSet","Set","_updateElevation","graphicsCore","events","_this$graphicsCore$la","elevationProvider","_task","layer","elevationInfo","mode","_elevationChanged","_suspendedChange","_this$graphicsCore$la2","priority","clear","queryGraphicUIDsInExtent","notifyChange","elevationInfoChange","size","empty","updatingRemaining","_markAllGraphicsElevationDirty","run","merge","done","_updateDirtyGraphics","_updateDirtyExtents","effectiveUpdatePolicy","keys","_this$graphicsCore$de","getGraphics3DGraphicById","delete","alignWithElevation","deconflictor","setDirty","pop","emit","extent","needsElevationUpdates","add","graphics3DGraphics","forEach","context","computedExtent","xmin","xmax","ymin","ymax","ELEVATION_ALIGNMENT","ELEVATION_ALIGNMENT_SCENE","_o","symbol","renderer","getSymbol","visualVariables","variable","value","useSymbolValue","color","toRgba","target","outlineSize","axis","opacity","tilt","roll","heading","async","_o2","_t$renderer$getSymbol","_t$renderer","getSymbolAsync","toUnitRGBA","isFinite","objectStateId","object","remove","removeStateID","owner","removeRenderGeometryObjectState","_removeCallback","_items","addObject","push","addRenderGeometry","addExternal","_remove","removeByObject","removeAll","splice","stateType","highlightName","objectIdField","ids","paused","hasGraphic","graphic","attributes","uid","has","objectStateSet","_graphicsCore","_stateSets","reset","acquireOccludeeSet","releaseSet","set","handle","acquireHighlightSet","indexOf","setUid","get","addObjectStateSet","setUids","setObjectIds","_initializeSet","addGraphic","removeGraphic","removeObjectState","allGraphicsDeleted","test"],"sourceRoot":""}