"use strict";(self.webpackChunkn2_depot=self.webpackChunkn2_depot||[]).push([[1014],{1014:(t,e,s)=>{s.r(e),s.d(e,{addSpatialReferenceInfo:()=>a,destroyWasm:()=>l,initialize:()=>u,process:()=>o});var n=s(43414);let i,r;async function o(t){await u();const e={status:1,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]};if(t.inputs.length<1)return{result:e,transferList:[]};const s={ptrs:[],sizes:[]};for(const l of t.inputs){const t=r._malloc(l.byteLength);new Uint8Array(r.HEAPU8.buffer,t,l.byteLength).set(new Uint8Array(l)),s.ptrs.push(t),s.sizes.push(l.byteLength)}const n=r.process(t.jobDescJson,t.id,s,t.isMissingResourceCase);e.status=n.status,e.missingInputUrls=n.missingInputUrls.slice();const i=0===n.status&&n.data,o=2===e.status&&e.missingInputUrls.length>0;e.jobDescJson=n.jobDescJson.slice(),e.error=n.error.slice(),i?e.data=n.data.slice():o&&(e.originalInputs=t.inputs.slice());for(let l=0;l<s.ptrs.length;++l)r._free(s.ptrs[l]);const a=[];if(i)a.push(e.data.buffer);else if(o)for(const r of t.inputs)a.push(r);return{result:e,transferList:a}}async function a(t){await u(),r.add_spatial_reference_info(t.sr,t.isGCS,t.toMetersXY,t.toMetersZ)}function l(){r&&(r.uninitialize_lyr3d_worker_wasm(),r=null)}function u(){return r?Promise.resolve():(i||(i=(0,n.h)().then(t=>{r=t,r.initialize_lyr3d_worker_wasm(),i=null})),i)}},43414:(t,e,s)=>{s.d(e,{a:()=>i,h:()=>r});var n=s(28899);function i(){return new Promise(t=>s.e(6382).then(s.bind(s,26382)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:o,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function r(){return new Promise(t=>s.e(3409).then(s.bind(s,23409)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:o,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function o(t){return(0,n.s)("esri/libs/lyr3d/".concat(t))}}}]);
//# sourceMappingURL=1014.7ce074d3.chunk.js.map